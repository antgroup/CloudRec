"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8332],{54811:function(he,W,t){t.d(W,{Z:function(){return b}});var Z=t(87462),o=t(62435),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zm-126 534.1H250.3l-53.8-409.4 139.8 86.1L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4zM512 509c-62.1 0-112.6 50.5-112.6 112.6S449.9 734.2 512 734.2s112.6-50.5 112.6-112.6S574.1 509 512 509zm0 160.9c-26.6 0-48.2-21.6-48.2-48.3 0-26.6 21.6-48.3 48.2-48.3s48.2 21.6 48.2 48.3c0 26.6-21.6 48.3-48.2 48.3z"}}]},name:"crown",theme:"outlined"},K=z,D=t(84089),I=function(T,G){return o.createElement(D.Z,(0,Z.Z)({},T,{ref:G,icon:K}))},i=o.forwardRef(I),b=i},52745:function(he,W,t){t.d(W,{Z:function(){return b}});var Z=t(87462),o=t(62435),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},K=z,D=t(84089),I=function(T,G){return o.createElement(D.Z,(0,Z.Z)({},T,{ref:G,icon:K}))},i=o.forwardRef(I),b=i},64317:function(he,W,t){var Z=t(1413),o=t(91),z=t(22270),K=t(62435),D=t(66758),I=t(58055),i=t(86074),b=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],x=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],T=function(O,N){var R=O.fieldProps,P=O.children,l=O.params,A=O.proFieldProps,_=O.mode,Q=O.valueEnum,X=O.request,le=O.showSearch,Y=O.options,ie=(0,o.Z)(O,b),re=(0,K.useContext)(D.Z);return(0,i.jsx)(I.Z,(0,Z.Z)((0,Z.Z)({valueEnum:(0,z.h)(Q),request:X,params:l,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,Z.Z)({options:Y,mode:_,showSearch:le,getPopupContainer:re.getPopupContainer},R),ref:N,proFieldProps:A},ie),{},{children:P}))},G=K.forwardRef(function(U,O){var N=U.fieldProps,R=U.children,P=U.params,l=U.proFieldProps,A=U.mode,_=U.valueEnum,Q=U.request,X=U.options,le=(0,o.Z)(U,x),Y=(0,Z.Z)({options:X,mode:A||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},N),ie=(0,K.useContext)(D.Z);return(0,i.jsx)(I.Z,(0,Z.Z)((0,Z.Z)({valueEnum:(0,z.h)(_),request:Q,params:P,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,Z.Z)({getPopupContainer:ie.getPopupContainer},Y),ref:O,proFieldProps:l},le),{},{children:R}))}),h=K.forwardRef(T),e=G,oe=h;oe.SearchSelect=e,oe.displayName="ProFormComponent",W.Z=oe},5966:function(he,W,t){var Z=t(97685),o=t(1413),z=t(91),K=t(21770),D=t(23323),I=t(55241),i=t(98423),b=t(62435),x=t(58055),T=t(86074),G=["fieldProps","proFieldProps"],h=["fieldProps","proFieldProps"],e="text",oe=function(P){var l=P.fieldProps,A=P.proFieldProps,_=(0,z.Z)(P,G);return(0,T.jsx)(x.Z,(0,o.Z)({valueType:e,fieldProps:l,filedConfig:{valueType:e},proFieldProps:A},_))},U=function(P){var l=(0,K.Z)(P.open||!1,{value:P.open,onChange:P.onOpenChange}),A=(0,Z.Z)(l,2),_=A[0],Q=A[1];return(0,T.jsx)(D.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(le){var Y,ie=le.getFieldValue(P.name||[]);return(0,T.jsx)(I.Z,(0,o.Z)((0,o.Z)({getPopupContainer:function(F){return F&&F.parentNode?F.parentNode:F},onOpenChange:function(F){return Q(F)},content:(0,T.jsxs)("div",{style:{padding:"4px 0"},children:[(Y=P.statusRender)===null||Y===void 0?void 0:Y.call(P,ie),P.strengthText?(0,T.jsx)("div",{style:{marginTop:10},children:(0,T.jsx)("span",{children:P.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},P.popoverProps),{},{open:_,children:P.children}))}})},O=function(P){var l=P.fieldProps,A=P.proFieldProps,_=(0,z.Z)(P,h),Q=(0,b.useState)(!1),X=(0,Z.Z)(Q,2),le=X[0],Y=X[1];return l!=null&&l.statusRender&&_.name?(0,T.jsx)(U,{name:_.name,statusRender:l==null?void 0:l.statusRender,popoverProps:l==null?void 0:l.popoverProps,strengthText:l==null?void 0:l.strengthText,open:le,onOpenChange:Y,children:(0,T.jsx)("div",{children:(0,T.jsx)(x.Z,(0,o.Z)({valueType:"password",fieldProps:(0,o.Z)((0,o.Z)({},(0,i.Z)(l,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(re){var F;l==null||(F=l.onBlur)===null||F===void 0||F.call(l,re),Y(!1)},onClick:function(re){var F;l==null||(F=l.onClick)===null||F===void 0||F.call(l,re),Y(!0)}}),proFieldProps:A,filedConfig:{valueType:e}},_))})}):(0,T.jsx)(x.Z,(0,o.Z)({valueType:"password",fieldProps:l,proFieldProps:A,filedConfig:{valueType:e}},_))},N=oe;N.Password=O,N.displayName="ProFormComponent",W.Z=N},90672:function(he,W,t){var Z=t(1413),o=t(91),z=t(62435),K=t(58055),D=t(86074),I=["fieldProps","proFieldProps"],i=function(x,T){var G=x.fieldProps,h=x.proFieldProps,e=(0,o.Z)(x,I);return(0,D.jsx)(K.Z,(0,Z.Z)({ref:T,valueType:"textarea",fieldProps:G,proFieldProps:h},e))};W.Z=z.forwardRef(i)},24163:function(he,W,t){var Z=t(97857),o=t.n(Z),z=t(25593),K=t(83062),D=t(62435),I=t(86074),i=z.Z.Paragraph;W.Z=function(b){var x=b.text,T=b.width,G=b.maxWidth,h=b.rows,e=h===void 0?2:h,oe=b.placement,U=oe===void 0?"top":oe,O=b.color,N=O===void 0?"rgba(0, 0, 0, 0.88)":O,R=b.link,P=R===void 0?!1:R,l=b.onClickCallBackFunc,A=b.style,_=A===void 0?{}:A,Q=b.copyable,X=Q===void 0?!1:Q;return(0,I.jsx)("div",{style:{maxWidth:G,width:T},children:(0,I.jsx)(K.Z,{title:(0,I.jsx)("div",{children:x}),placement:U,children:(0,I.jsx)(i,{ellipsis:{rows:e},style:o()({marginBottom:0,color:N,cursor:P?"pointer":""},_),onClick:l,copyable:X,children:x})})})}},99069:function(he,W,t){var Z=t(15009),o=t.n(Z),z=t(99289),K=t.n(z),D=t(5574),I=t.n(D),i=t(61139),b=t(98665),x=t(37476),T=t(5966),G=t(97462),h=t(92016),e=t(68872),oe=t(23323),U=t(96486),O=t.n(U),N=t(62435),R=t(86074),P=function(A){var _=(0,h.useAccess)(),Q=e.ZP.useMessage(),X=I()(Q,2),le=X[0],Y=X[1],ie=oe.Z.useForm(),re=I()(ie,1),F=re[0],de=(0,h.useIntl)(),Ae=A.editFormVisible,be=A.setEditFormVisible,Te=function(){be(!1),F.resetFields()},Me=function(){var ce=K()(o()().mark(function Pe(fe){var J,je,pe,Fe;return o()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return J=fe.passwordAgo,je=fe.passwordNow,pe={oldPassword:J,newPassword:je,userId:_.userId},me.next=4,(0,b.changeUserPassword)(pe);case 4:Fe=me.sent,Fe.msg==="success"&&(Te(),le.success(de.formatMessage({id:"individual.module.text.password.changed.successfully"})),(0,i.A)(600));case 6:case"end":return me.stop()}},Pe)}));return function(fe){return ce.apply(this,arguments)}}();return(0,R.jsxs)(R.Fragment,{children:[Y,(0,R.jsxs)(x.Y,{title:de.formatMessage({id:"individual.module.text.change.password"}),width:520,form:F,modalProps:{destroyOnClose:!0,onCancel:function(){return Te()},styles:{body:{paddingTop:12}}},labelCol:{span:de.locale==="en-US"?7:4},wrapperCol:{span:de.locale==="en-US"?17:20},layout:"horizontal",open:Ae,onFinish:Me,children:[(0,R.jsx)(T.Z.Password,{name:"passwordAgo",label:de.formatMessage({id:"individual.module.text.old.password"}),rules:[{required:!0}]}),(0,R.jsx)(T.Z.Password,{name:"passwordNow",label:de.formatMessage({id:"individual.module.text.new.password"}),rules:[{required:!0}]}),(0,R.jsx)(G.Z,{name:["passwordNow"],children:function(Pe){var fe=Pe.passwordNow;return(0,R.jsx)(T.Z.Password,{name:"passwordAck",label:de.formatMessage({id:"individual.module.text.confirm.password"}),rules:[{required:!0,validator:function(je,pe){return(0,U.isEmpty)(pe)?Promise.reject(de.formatMessage({id:"individual.module.text.confirm.password.empty.tip"})):pe!==fe?Promise.reject(de.formatMessage({id:"individual.module.text.confirm.password.inconsistent.tip"})):Promise.resolve()}}]})}})]})]})};W.Z=P},85030:function(he,W,t){t.r(W),t.d(W,{default:function(){return mt}});var Z=t(5574),o=t.n(Z),z=t(71895),K=t(97857),D=t.n(K),I=t(15009),i=t.n(I),b=t(99289),x=t.n(b),T=t(53846),G=t(21987),h=t(62435),e=t(86074),oe=function(v){var n=v.text,E=v.color,k=v.link,f=v.rows,$=f===void 0?1:f,c=v.style;return(0,e.jsx)(G.Z,{ellipsis:{rows:$},style:D()({marginBottom:0,color:E,cursor:k?"pointer":""},c),copyable:{text:n},children:"*** ***"})},U=oe,O=t(24163),N=t(98665),R=t(37476),P=t(90672),l=t(92016),A=t(68872),_=t(23323),Q=function(v){var n=A.ZP.useMessage(),E=o()(n,2),k=E[0],f=E[1],$=_.Z.useForm(),c=o()($,1),L=c[0],p=(0,l.useIntl)(),q=v.editFormVisible,m=v.setEditFormVisible,w=v.accessInfo,ee=v.tableActionRef,ue=function(){m(!1),L.resetFields()},d=function(){var te=x()(i()().mark(function V(ne){var H,se,ae,M,C;return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return H=ne.remark,se={id:w.id,remark:H},r.next=4,(0,N.remarkAccessKey)(se);case 4:ae=r.sent,ae.msg==="success"&&(k.success(p.formatMessage({id:"common.message.text.add.success"})),ue(),ee==null||(M=ee.current)===null||M===void 0||(C=M.reloadAndRest)===null||C===void 0||C.call(M));case 6:case"end":return r.stop()}},V)}));return function(ne){return te.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[f,(0,e.jsx)(R.Y,{title:p.formatMessage({id:"individual.table.columns.remark.information"}),width:460,form:L,modalProps:{destroyOnClose:!0,onCancel:function(){return ue()},styles:{body:{paddingTop:12}}},labelCol:{span:4},wrapperCol:{span:20},layout:"horizontal",open:q,onFinish:d,children:(0,e.jsx)(P.Z,{name:"remark",label:p.formatMessage({id:"individual.table.columns.text.remark"}),rules:[{required:!0}],initialValue:w==null?void 0:w.remark})})]})},X=Q,le=t(86548),Y=t(52745),ie=t(90498),re=t(86250),F=t(83622),de=t(86738),Ae=function(){var v=A.ZP.useMessage(),n=o()(v,2),E=n[0],k=n[1],f=(0,l.useIntl)(),$=(0,h.useRef)(),c=(0,h.useState)(!1),L=o()(c,2),p=L[0],q=L[1],m=(0,h.useState)(0),w=o()(m,2),ee=w[0],ue=w[1],d=(0,h.useRef)({}),te=(0,h.useState)(!1),V=o()(te,2),ne=V[0],H=V[1],se=function(){var a=x()(i()().mark(function r(){var s,y;return i()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return q(!0),j.next=3,(0,N.createAccessKey)({});case 3:s=j.sent,q(!1),s.msg==="success"&&(E.success(f.formatMessage({id:"common.message.text.create.success"})),(y=$.current)===null||y===void 0||y.reloadAndRest());case 6:case"end":return j.stop()}},r)}));return function(){return a.apply(this,arguments)}}(),ae=function(){var a=x()(i()().mark(function r(s){var y,u;return i()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,N.deleteAccessKey)({id:s==null?void 0:s.id});case 2:y=g.sent,y.msg==="success"&&(E.success(f.formatMessage({id:"common.message.text.delete.success"})),(u=$.current)===null||u===void 0||u.reloadAndRest());case 4:case"end":return g.stop()}},r)}));return function(s){return a.apply(this,arguments)}}(),M=function(r){d.current=D()({},r),H(!0)},C=[{title:f.formatMessage({id:"cloudAccount.extend.title.createTime"}),dataIndex:"gmtCreate",valueType:"dateTime",align:"left",render:function(r,s){return(0,e.jsx)("section",{style:{color:"#999"},children:(s==null?void 0:s.gmtCreate)||"-"})}},{title:"ACCESS KEY",dataIndex:"accessKey",valueType:"text",align:"left",render:function(r,s){return(0,e.jsx)(O.Z,{text:s==null?void 0:s.accessKey,copyable:!0,placement:"topLeft",rows:1})}},{title:"SECRET KEY",dataIndex:"secretKey",valueType:"text",align:"left",width:320,render:function(r,s){return(0,e.jsx)(U,{text:(s==null?void 0:s.secretKey)||"-",style:{minWidth:320},link:!1})}},{title:f.formatMessage({id:"individual.table.columns.remark.information"}),dataIndex:"remark",valueType:"text",align:"left",render:function(r,s){return(0,e.jsxs)(re.Z,{align:"center",children:[(0,e.jsx)(O.Z,{text:s.remark,placement:"top",maxWidth:240,rows:1}),(0,e.jsx)(F.ZP,{type:"link",onClick:function(){return M(s)},children:(0,e.jsx)(le.Z,{})})]})}},{title:f.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",width:120,render:function(r,s){return(0,e.jsx)(de.Z,{title:f.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return ae(s)},okText:f.formatMessage({id:"common.button.text.ok"}),cancelText:f.formatMessage({id:"common.button.text.cancel"}),children:(0,e.jsx)(F.ZP,{type:"link",danger:!0,children:(0,e.jsx)(Y.Z,{})})})}}];return(0,e.jsxs)(e.Fragment,{children:[k,(0,e.jsx)(ie.Z,{headerTitle:(0,e.jsx)("div",{className:T.Z.customTitle,children:f.formatMessage({id:"individual.module.text.authentication.information"})}),actionRef:$,rowKey:"id",search:!1,options:!1,toolBarRender:function(){return[(0,e.jsx)(F.ZP,{type:"primary",onClick:se,loading:p,disabled:ee>=3,children:f.formatMessage({id:"individual.module.text.add.authentication"})},"create")]},request:x()(i()().mark(function a(){var r,s,y;return i()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,N.queryAccessKeyList)({});case 2:return r=j.sent,s=r.content,y=r.code,ue((s==null?void 0:s.length)||0),j.abrupt("return",{data:s||[],total:(s==null?void 0:s.length)||0,success:y===200||!1});case 7:case"end":return j.stop()}},a)})),columns:C,pagination:!1}),(0,e.jsx)(X,{editFormVisible:ne,setEditFormVisible:H,accessInfo:d.current,tableActionRef:$})]})},be=Ae,Te=t(99069),Me=t(33651),ce=t(25593),Pe=t(57381),fe=t(71230),J=t(15746),je=t(4393),pe=t(29448),Fe=t(184),Ie=t(34041),me=t(26412),Se=t(87547),Ue=t(54811),Be=t(87462),We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 655.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 518 759.6 444.7 759.6 362c0-137-110.8-248-247.5-248S264.7 225 264.7 362c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 901.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 641.2 432.2 610 512.2 610c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 534c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 362c0-45.9 17.9-89.1 50.3-121.6S466.3 190 512.2 190s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 362c0 45.9-17.9 89.1-50.3 121.6C601.1 516.1 558 534 512.2 534zM880 772H640c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h240c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-delete",theme:"outlined"},Ke=We,$e=t(84089),Ve=function(v,n){return h.createElement($e.Z,(0,Be.Z)({},v,{ref:n,icon:Ke}))},ze=h.forwardRef(Ve),Ne=ze,ke=t(40396),He=t(64317),Le=t(32983),Ze=t(96486),Ge=t(13769),Ye=t.n(Ge),De=t(5966),Je=["password"],Qe=function(v){var n=A.ZP.useMessage(),E=o()(n,2),k=E[0],f=E[1],$=_.Z.useForm(),c=o()($,1),L=c[0],p=(0,l.useIntl)(),q=v.editFormVisible,m=v.userInfo,w=v.setEditFormVisible,ee=v.tableActionRef,ue=function(){var V=x()(i()().mark(function ne(H){var se,ae,M,C,a,r,s;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return se=H.password,ae=Ye()(H,Je),M=D()(D()({},ae),{},{status:(m==null?void 0:m.status)||"valid"}),m.id&&(M.id=m==null?void 0:m.id),(0,Ze.isEmpty)(se)||(M.password=se),C=m.id?N.updateUser:N.createUser,u.next=7,C(M);case 7:a=u.sent,(a.msg==="success"||[200].includes(a.code))&&(m!=null&&m.id?k.success(p.formatMessage({id:"common.message.text.edit.success"})):k.success(p.formatMessage({id:"common.message.text.create.success"})),w(!1),(r=ee.current)===null||r===void 0||(s=r.reloadAndRest)===null||s===void 0||s.call(r));case 9:case"end":return u.stop()}},ne)}));return function(H){return V.apply(this,arguments)}}();(0,h.useEffect)(function(){q&&!(0,Ze.isEmpty)(m)&&L.setFieldsValue(D()({},m))},[q,m]);var d=function(){L.resetFields()},te=function(){w(!1),d()};return(0,e.jsxs)(e.Fragment,{children:[f,(0,e.jsxs)(R.Y,{title:m!=null&&m.id?p.formatMessage({id:"user.extend.title.edit"}):p.formatMessage({id:"user.extend.title.add"}),width:560,form:L,modalProps:{destroyOnClose:!0,onCancel:function(){return te()},styles:{body:{paddingTop:12}}},labelCol:{span:p.locale==="en-US"?6:4},wrapperCol:{span:p.locale==="en-US"?18:20},layout:"horizontal",open:q,onFinish:ue,children:[(0,e.jsx)(De.Z,{name:"userId",label:p.formatMessage({id:"user.module.title.user.id"}),rules:[{required:!0,message:p.formatMessage({id:"user.extend.userId.message"}),pattern:/^[a-zA-Z0-9_]{5,24}$/}],placeholder:p.formatMessage({id:"user.extend.userId.placeholder"}),fieldProps:{disabled:!!(m!=null&&m.id)}}),(0,e.jsx)(De.Z.Password,{name:"password",label:p.formatMessage({id:"user.module.title.user.password"}),rules:[{required:!(m!=null&&m.id)}]}),(0,e.jsx)(De.Z,{name:"username",label:p.formatMessage({id:"user.module.title.user.name"}),rules:[{required:!0}]})]})]})},Xe=Qe,qe=ce.Z.Text,et=function(v){var n=A.ZP.useMessage(),E=o()(n,2),k=E[0],f=E[1],$=_.Z.useForm(),c=o()($,1),L=c[0],p=(0,l.useIntl)(),q=v.addFormVisible,m=v.addTenantInfo,w=v.setAddFormVisible,ee=v.drawerTableActionRef,ue=(0,h.useState)(!1),d=o()(ue,2),te=d[0],V=d[1],ne=(0,h.useState)({}),H=o()(ne,1),se=H[0],ae=function(){var g=x()(i()().mark(function B(S){var Re,ve,xe,Ce;return i()().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return Re=D()(D()({},S),{},{tenantId:m.id}),_e.next=3,(0,Me.joinUser)(Re);case 3:ve=_e.sent,(ve.msg==="success"||[200].includes(ve.code))&&(k.success(p.formatMessage({id:"common.message.text.add.success"})),w(!1),(xe=ee.current)===null||xe===void 0||(Ce=xe.reloadAndRest)===null||Ce===void 0||Ce.call(xe));case 5:case"end":return _e.stop()}},B)}));return function(S){return g.apply(this,arguments)}}(),M=function(){L.resetFields()},C=function(){w(!1),M()},a=(0,h.useState)(!1),r=o()(a,2),s=r[0],y=r[1],u=function(){V(!0)},j=function(){var g=x()(i()().mark(function B(S){return i()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(!(0,Ze.isEmpty)(S.keyWords.trim())){ve.next=2;break}return ve.abrupt("return");case 2:return y(!0),ve.abrupt("return",(0,l.request)("".concat(ke._,"/api/user/queryUserList"),{method:"POST",data:{username:S.keyWords}}).then(function(xe){var Ce;return(xe==null||(Ce=xe.content)===null||Ce===void 0?void 0:Ce.data)||[]}).catch(function(){return[]}).finally(function(){y(!1)}));case 4:case"end":return ve.stop()}},B)}));return function(S){return g.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[f,(0,e.jsxs)(R.Y,{title:p.formatMessage({id:"tenant.extend.member.add"}),width:520,form:L,modalProps:{destroyOnClose:!0,onCancel:function(){return C()},styles:{body:{paddingTop:12}}},layout:"horizontal",open:q,onFinish:ae,children:[(0,e.jsx)(He.Z,{allowClear:!0,name:"userId",label:p.formatMessage({id:"user.module.title.user.name"}),placeholder:p.formatMessage({id:"tenant.extend.member.select"}),rules:[{required:!0}],debounceTime:800,request:j,fieldProps:{showSearch:!0,filterOption:!1,fieldNames:{label:"username",value:"userId"},suffixIcon:(0,e.jsx)(e.Fragment,{}),notFoundContent:s?(0,e.jsx)(Pe.Z,{size:"small"}):(0,e.jsx)(Le.Z,{image:Le.Z.PRESENTED_IMAGE_SIMPLE})}}),(0,e.jsx)("div",{style:{marginLeft:p.locale==="en-US"?"25%":"16.67%",marginTop:8,marginBottom:16},children:(0,e.jsxs)(qe,{type:"secondary",children:["\u6682\u65E0\u8D26\u53F7\uFF1F",(0,e.jsx)(F.ZP,{type:"link",size:"small",style:{padding:0,height:"auto",fontSize:"inherit"},onClick:u,children:"\u7ACB\u5373\u521B\u5EFA"})]})})]}),(0,e.jsx)(Xe,{editFormVisible:te,setEditFormVisible:V,userInfo:se,tableActionRef:ee})]})},tt=et,Oe=ce.Z.Title,st=function(v){var n=(0,h.useRef)(),E=A.ZP.useMessage(),k=o()(E,2),f=k[0],$=k[1],c=(0,l.useIntl)(),L=(0,h.useState)(!1),p=o()(L,2),q=p[0],m=p[1],w=(0,h.useRef)({}),ee=v.drawerVisible,ue=v.setDrawerVisible,d=v.tenantInfo,te=function(){ue(!1)},V=function(){var M=x()(i()().mark(function C(){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:te();case 1:case"end":return r.stop()}},C)}));return function(){return M.apply(this,arguments)}}(),ne=function(){var M=x()(i()().mark(function C(a){var r,s,y,u;return i()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(d!=null&&d.id){g.next=2;break}return g.abrupt("return");case 2:return r={userId:a,tenantId:d.id},g.prev=3,g.next=6,(0,Me.removeUser)(r);case 6:s=g.sent,(s.code===200||s.msg==="success")&&(f.success(c.formatMessage({id:"common.message.text.delete.success"})),(y=n.current)===null||y===void 0||(u=y.reloadAndRest)===null||u===void 0||u.call(y)),g.next=13;break;case 10:g.prev=10,g.t0=g.catch(3),f.error(c.formatMessage({id:"common.message.text.delete.failed"}));case 13:case"end":return g.stop()}},C,null,[[3,10]])}));return function(a){return M.apply(this,arguments)}}(),H=function(){d&&(w.current=D()({},d),m(!0))},se=function(){var M=x()(i()().mark(function C(a,r){var s,y,u,j;return i()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(d!=null&&d.id){B.next=2;break}return B.abrupt("return");case 2:return s={userId:a,roleName:r,tenantId:d.id},B.prev=3,B.next=6,(0,Me.changeUserTenantRole)(s);case 6:y=B.sent,(y.code===200||y.msg==="success")&&(f.success(c.formatMessage({id:"common.message.text.edit.success"})),(u=n.current)===null||u===void 0||(j=u.reloadAndRest)===null||j===void 0||j.call(u)),B.next=13;break;case 10:B.prev=10,B.t0=B.catch(3),f.error(c.formatMessage({id:"common.message.text.edit.failed"}));case 13:case"end":return B.stop()}},C,null,[[3,10]])}));return function(a,r){return M.apply(this,arguments)}}(),ae=[{title:c.formatMessage({id:"user.module.title.user.name"}),dataIndex:"username",valueType:"text",align:"center"},{title:c.formatMessage({id:"user.module.title.user.id"}),dataIndex:"userId",valueType:"text",align:"center"},{title:c.formatMessage({id:"user.module.title.user.role"}),dataIndex:"roleName",hideInSearch:!0,align:"center",width:120,render:function(C,a){return(0,e.jsx)(Ie.Z,{value:a.roleName,style:{width:120},onChange:function(s){return se(a.userId,s)},options:[{label:(0,e.jsxs)("span",{children:[(0,e.jsx)(Se.Z,{style:{marginRight:8,color:"#1890ff"}}),"user"]}),value:"user"},{label:(0,e.jsxs)("span",{children:[(0,e.jsx)(Ue.Z,{style:{marginRight:8,color:"#faad14"}}),"admin"]}),value:"admin"}]})}},{title:c.formatMessage({id:"cloudAccount.extend.title.createTime"}),dataIndex:"gmtCreate",valueType:"dateTime",hideInSearch:!0,align:"center"},{title:c.formatMessage({id:"cloudAccount.extend.title.updateTime"}),dataIndex:"gmtModified",valueType:"dateTime",hideInSearch:!0,align:"center"},{title:c.formatMessage({id:"common.title.operation"}),dataIndex:"option",valueType:"option",width:120,render:function(C,a){return[(0,e.jsx)(de.Z,{title:c.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return ne(a.id)},okText:c.formatMessage({id:"common.text.confirm"}),cancelText:c.formatMessage({id:"common.text.cancel"}),children:(0,e.jsx)(F.ZP,{type:"link",danger:!0,icon:(0,e.jsx)(Ne,{})})},"remove")]}}];return(0,e.jsxs)(e.Fragment,{children:[$,(0,e.jsxs)(Fe.a,{title:(0,e.jsx)("div",{children:(0,e.jsx)(Oe,{level:4,style:{margin:0,color:"#1890ff"},children:(d==null?void 0:d.tenantName)||"-"})}),width:"60%",drawerProps:{destroyOnClose:!0,onClose:te,styles:{body:{padding:"24px"}}},open:ee,onFinish:V,submitter:!1,children:[(0,e.jsxs)("div",{style:{marginBottom:24},children:[(0,e.jsx)(Oe,{level:5,style:{marginBottom:16},children:c.formatMessage({id:"tenant.module.text.basic.info"})}),(0,e.jsxs)(me.Z,{column:2,bordered:!0,children:[(0,e.jsx)(me.Z.Item,{label:c.formatMessage({id:"tenant.module.title.tenant.name"}),children:(d==null?void 0:d.tenantName)||"-"}),(0,e.jsx)(me.Z.Item,{label:c.formatMessage({id:"tenant.module.text.member.count"}),children:(d==null?void 0:d.memberCount)||0}),(0,e.jsx)(me.Z.Item,{label:c.formatMessage({id:"tenant.module.text.description"}),span:2,children:(d==null?void 0:d.tenantDesc)||"-"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(Oe,{level:5,style:{marginBottom:16},children:c.formatMessage({id:"tenant.module.text.member.list"})}),(0,e.jsx)(ie.Z,{actionRef:n,rowKey:"id",search:!1,options:!1,toolBarRender:function(){return[(0,e.jsx)(F.ZP,{type:"primary",onClick:H,children:c.formatMessage({id:"common.text.add"})},"add")]},request:function(){var M=x()(i()().mark(function C(a){var r,s,y,u,j,g;return i()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(d!=null&&d.id){S.next=2;break}return S.abrupt("return",{data:[],total:0,success:!1});case 2:return r=a.pageSize,s=a.current,y={id:d.id,page:s,size:r},S.prev=4,S.next=7,(0,Me.queryMember)(y);case 7:return u=S.sent,j=u.content,g=u.code,S.abrupt("return",{data:(j==null?void 0:j.data)||[],total:(j==null?void 0:j.total)||0,success:g===200});case 13:return S.prev=13,S.t0=S.catch(4),S.abrupt("return",{data:[],total:0,success:!1});case 16:case"end":return S.stop()}},C,null,[[4,13]])}));return function(C){return M.apply(this,arguments)}}(),columns:ae,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1,showTotal:function(C,a){return(0,pe.GO)(C,a,c==null?void 0:c.locale)}}})]})]}),(0,e.jsx)(tt,{addFormVisible:q,setAddFormVisible:m,addTenantInfo:w.current,drawerTableActionRef:n})]})},rt=st,Ee=ce.Z.Text,nt=ce.Z.Title,at=function(){var v=A.ZP.useMessage(),n=o()(v,2),E=n[0],k=n[1],f=(0,l.useIntl)(),$=(0,h.useState)(!1),c=o()($,2),L=c[0],p=c[1],q=(0,h.useState)([]),m=o()(q,2),w=m[0],ee=m[1],ue=(0,h.useState)(!1),d=o()(ue,2),te=d[0],V=d[1],ne=(0,h.useState)(null),H=o()(ne,2),se=H[0],ae=H[1],M=function(){var a=x()(i()().mark(function r(){var s;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,p(!0),u.next=4,(0,Me.queryTenantListV2)();case 4:s=u.sent,s.code===200&&s.content?ee(s.content):E.error(f.formatMessage({id:"common.message.text.query.failed"})),u.next=11;break;case 8:u.prev=8,u.t0=u.catch(0),E.error(f.formatMessage({id:"common.message.text.query.failed"}));case 11:return u.prev=11,p(!1),u.finish(11);case 14:case"end":return u.stop()}},r,null,[[0,8,11,14]])}));return function(){return a.apply(this,arguments)}}();(0,h.useEffect)(function(){M()},[]);var C=function(r){ae(r),V(!0)};return(0,e.jsxs)(e.Fragment,{children:[k,(0,e.jsxs)(Pe.Z,{spinning:L,children:[(0,e.jsx)(fe.Z,{gutter:[16,16],children:w.map(function(a){return(0,e.jsx)(J.Z,{xs:24,sm:12,md:8,lg:6,children:(0,e.jsxs)(je.Z,{hoverable:!0,style:{borderRadius:8,border:"1px solid #f0f0f0",background:"rgba(22, 119, 255, 0.04)",height:"100%",cursor:"pointer",transition:"all 0.3s ease",transform:"translateY(0)"},onMouseEnter:function(s){s.currentTarget.style.transform="translateY(-2px)",s.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseLeave:function(s){s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="none"},bodyStyle:{padding:16},onClick:function(){return C(a)},children:[(0,e.jsx)("div",{style:{marginBottom:12},children:(0,e.jsx)(nt,{level:5,style:{margin:0,color:"#262626",fontSize:18,fontWeight:600,lineHeight:1.4},ellipsis:{tooltip:a.tenantName},children:a.tenantName||"-"})}),(0,e.jsx)("div",{style:{marginBottom:14},children:(0,e.jsx)(Ee,{style:{color:"#666",fontSize:14,lineHeight:1.4,maxHeight:40,overflow:"hidden",WebkitLineClamp:2,WebkitBoxOrient:"vertical",display:"-webkit-box"},children:a.tenantDesc||"-"})}),(0,e.jsx)("div",{style:{borderTop:"1px solid #e8e8e8",paddingTop:14,marginTop:14},children:(0,e.jsxs)(fe.Z,{gutter:[16,8],children:[(0,e.jsxs)(J.Z,{span:12,children:[(0,e.jsx)("div",{style:{marginBottom:4},children:(0,e.jsx)(Ee,{style:{fontSize:13,fontWeight:500,color:"#333"},children:f.formatMessage({id:"tenant.module.text.member.count"})})}),(0,e.jsx)(Ee,{style:{color:"#1677FF",fontSize:13,display:"block"},children:a.memberCount||0})]}),(0,e.jsxs)(J.Z,{span:12,children:[(0,e.jsx)("div",{style:{marginBottom:4},children:(0,e.jsx)(Ee,{style:{fontSize:13,fontWeight:500,color:"#333"},children:f.formatMessage({id:"common.link.text.status"})||"Status"})}),(0,e.jsx)(Ee,{style:{color:a.status==="valid"?"#52c41a":"#ff4d4f",fontSize:13,display:"block"},children:a.status||"-"})]}),(0,e.jsxs)(J.Z,{span:24,style:{marginTop:8},children:[(0,e.jsx)("div",{style:{marginBottom:4},children:(0,e.jsx)(Ee,{style:{fontSize:13,fontWeight:500,color:"#333"},children:f.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"})})}),(0,e.jsxs)("div",{style:{color:"#999",fontSize:13,lineHeight:"18px"},children:[(0,e.jsx)("div",{children:a.gmtCreate||"-"}),(0,e.jsx)("div",{children:a.gmtModified||"-"})]})]})]})})]})},a.id)})}),!L&&w.length===0&&(0,e.jsx)("div",{style:{textAlign:"center",padding:"40px 0",color:"#999"},children:(0,e.jsx)(Ee,{type:"secondary",children:f.formatMessage({id:"common.message.text.no.data"})})})]}),(0,e.jsx)(rt,{drawerVisible:te,setDrawerVisible:V,tenantInfo:se})]})},ot=at,lt=t(17910),it=t(39380),we=t(93410),dt=t(21532),ut=t(83062),ye=ce.Z.Text,ct=function(){var v,n=(0,l.useAccess)(),E=(0,l.useIntl)(),k=(0,h.useState)(!1),f=o()(k,2),$=f[0],c=f[1],L=function(){c(!0)};return(0,e.jsxs)(it._z,{title:!1,children:[(0,e.jsxs)(dt.ZP,{theme:{components:{Form:{itemMarginBottom:12,labelColor:"rgba(131, 131, 131, 1)",labelColonMarginInlineEnd:20}}},children:[(0,e.jsx)(we.Z,{title:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("img",{src:z.Z,alt:"SMILE_ICON",style:{width:23,marginRight:6}}),(0,pe.bi)(),n!=null&&n.username?", ".concat(n.username):""]}),style:{marginBottom:16},children:(0,e.jsxs)(fe.Z,{children:[(0,e.jsx)(J.Z,{span:24,children:(0,e.jsxs)(re.Z,{justify:"space-between",children:[(0,e.jsx)(_.Z.Item,{label:E.formatMessage({id:"individual.module.text.login.user"}),children:(n==null?void 0:n.username)||"***"}),(0,e.jsxs)(F.ZP,{onClick:L,style:{gap:4,padding:"4px 10px"},children:[(0,e.jsx)(le.Z,{}),E.formatMessage({id:"individual.module.text.change.password"})]})]})}),(0,e.jsx)(J.Z,{span:8,children:(0,e.jsx)(_.Z.Item,{label:E.formatMessage({id:"individual.module.text.account.id"}),children:(0,e.jsx)(ye,{copyable:!0,style:{color:"rgba(74, 74, 74, 1)"},children:(n==null?void 0:n.userId)||"-"})})}),(0,e.jsx)(J.Z,{span:8,children:(0,e.jsx)(_.Z.Item,{label:E.formatMessage({id:"individual.module.text.current.tenant"}),children:(0,e.jsx)(ye,{style:{color:"rgba(74, 74, 74, 1)"},children:(n==null?void 0:n.tenantName)||"-"})})}),(0,e.jsx)(J.Z,{span:8,children:(0,e.jsx)(_.Z.Item,{label:E.formatMessage({id:"user.module.title.user.role"}),children:n!=null&&n.roleName?(0,e.jsx)(ut.Z,{title:((v=lt.QQ.find(function(p){return p.value===(n==null?void 0:n.roleName)}))===null||v===void 0?void 0:v.label)||"-",children:n.roleName==="admin"?(0,e.jsx)(Ue.Z,{style:{color:"#faad14",fontSize:"16px"}}):(0,e.jsx)(Se.Z,{style:{color:"#1890ff",fontSize:"16px"}})}):(0,e.jsx)(ye,{style:{color:"rgba(74, 74, 74, 1)"},children:"-"})})}),(0,e.jsx)(J.Z,{span:8,children:(0,e.jsx)(_.Z.Item,{label:E.formatMessage({id:"cloudAccount.extend.title.createTime"}),children:(0,e.jsx)(ye,{style:{color:"rgba(74, 74, 74, 1)"},children:(n==null?void 0:n.gmtCreate)||"-"})})}),(0,e.jsx)(J.Z,{span:8,children:(0,e.jsx)(_.Z.Item,{label:E.formatMessage({id:"cloudAccount.extend.title.updateTime"}),children:(0,e.jsx)(ye,{style:{color:"rgba(74, 74, 74, 1)"},children:(n==null?void 0:n.gmtModified)||"-"})})}),(0,e.jsx)(J.Z,{span:8,children:(0,e.jsx)(_.Z.Item,{label:E.formatMessage({id:"individual.module.text.last.login.time"}),children:(0,e.jsx)(ye,{style:{color:"rgba(74, 74, 74, 1)"},children:(n==null?void 0:n.lastLoginTime)||"-"})})})]})}),(0,e.jsx)(be,{}),(0,e.jsx)(we.Z,{title:(0,e.jsx)("div",{className:"customTitle",children:E.formatMessage({id:"individual.module.text.my.tenants"})}),style:{marginTop:16},children:(0,e.jsx)(ot,{})})]}),(0,e.jsx)(Te.Z,{editFormVisible:$,setEditFormVisible:c})]})},mt=ct},53846:function(he,W){W.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}}}]);
