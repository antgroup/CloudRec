"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2956],{82826:function(J,y,t){t.d(y,{Z:function(){return k}});var P=t(87462),s=t(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},M=O,R=t(84089),A=function(x,B){return s.createElement(R.Z,(0,P.Z)({},x,{ref:B,icon:M}))},T=s.forwardRef(A),k=T},57396:function(J,y,t){t.r(y),t.d(y,{default:function(){return ye}});var P=t(97857),s=t.n(P),O=t(13769),M=t.n(O),R=t(15009),A=t.n(R),T=t(99289),k=t.n(T),K=t(5574),x=t.n(K),B=t(29297),p=t(57695),S=t(21171),_=t(82826),ee=t(86548),te=t(87462),I=t(62435),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},se=ne,re=t(84089),ae=function(z,E){return I.createElement(re.Z,(0,te.Z)({},z,{ref:E,icon:se}))},ie=I.forwardRef(ae),V=ie,$=t(24969),oe=t(39380),le=t(93410),g=t(45830),de=t(25593),i=t(99859),ce=t(68872),j=t(83622),F=t(71230),d=t(15746),ue=t(21532),me=t(86250),ve=t(42075),C=t(25278),G=t(72269),fe=t(96486),he=t(24732),e=t(86074),xe=["key","name"],ge=["key","name"],Q=de.Z.Text,je=function(){var z=(0,g.useSearchParams)(),E=x()(z,1),U=E[0],W=U.get("id"),X=U.get("view")||!1,Ze=i.Z.useForm(),pe=x()(Ze,1),L=pe[0],Ie=ce.ZP.useMessage(),Y=x()(Ie,2),Me=Y[0],Ae=Y[1],f=(0,g.useIntl)(),Fe=(0,I.useState)(!0),b=x()(Fe,2),v=b[0],D=b[1],Le=(0,I.useState)(""),w=x()(Le,2),Pe=w[0],Oe=w[1],H=(0,g.useRequest)(function(o){return(0,S.queryDetailConfigList)(o)},{manual:!0,formatResult:function(a){var n=a.content,m=(0,p.GD)(n)||{};return L.setFieldsValue(m),a==null?void 0:a.content}}),Re=H.data,q=H.run,Te=H.loading,N=(0,g.useRequest)(function(o){return(0,S.queryResourceDetailById)({id:o})},{manual:!0,formatResult:function(a){var n=a.content,m=JSON.stringify(n==null?void 0:n.instance,null,4);(0,fe.isEmpty)(m)||Oe(m);var h={resourceId:n==null?void 0:n.resourceId,platform:n==null?void 0:n.platform,resourceType:n==null?void 0:n.resourceType};return q(h),a.content||{}}}),u=N.data,ke=N.run,Be=N.loading;(0,I.useEffect)(function(){W&&ke(W)},[W]);var Se=function(){D(!1)},ze=function(){D(!0);var a=(0,p.GD)(Re)||{};L.setFieldsValue(a)},Ee=function(){L.validateFields().then(function(){var a=k()(A()().mark(function n(m){var h,l,Z;return A()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h=(0,p.UL)(m,u),r.next=3,(0,S.saveDetailConfig)(h);case 3:if(l=r.sent,(l==null?void 0:l.msg)!=="success"){r.next=10;break}return Me.success(f.formatMessage({id:"common.message.text.save.success"})),D(!0),Z={resourceId:u==null?void 0:u.resourceId,platform:u==null?void 0:u.platform,resourceType:u==null?void 0:u.resourceType},r.next=10,q(Z);case 10:case"end":return r.stop()}},n)}));return function(n){return a.apply(this,arguments)}}())};return(0,e.jsxs)(oe._z,{loading:Be,className:he.Z.assetConfigPageContainer,breadcrumbRender:!1,title:(0,e.jsxs)(j.ZP,{type:"link",size:"small",onClick:function(){return g.history===null||g.history===void 0?void 0:g.history.back()},children:[(0,e.jsx)(_.Z,{}),f.formatMessage({id:"common.button.text.return"})]}),children:[Ae,(0,e.jsxs)(F.Z,{style:{height:"100%"},gutter:[32,0],children:[(0,e.jsx)(d.Z,{span:X?24:10,style:{height:"100%"},children:(0,e.jsx)(B.q9,{editorKey:"assetConfigInstance",value:Pe,readOnly:!0,editorStyle:{height:"100%"}})}),(0,e.jsx)(d.Z,{span:X?0:14,children:(0,e.jsx)(ue.ZP,{theme:p.vr,children:(0,e.jsxs)(le.Z,{loading:Te,style:{minHeight:"100%"},children:[(0,e.jsx)(F.Z,{children:(0,e.jsx)(me.Z,{style:{width:"100%"},justify:"flex-end",children:(0,e.jsxs)(ve.Z,{size:"small",children:[(0,e.jsxs)(j.ZP,{type:"link",style:{color:"rgba(54, 110, 255, 1)"},href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/va0a4s9gggpbnnmn",target:"_blank",children:[(0,e.jsx)("img",{src:p.Uk.linkIcon,style:{height:14},alt:"LINK_ICON"}),f.formatMessage({id:"rule.extend.text.config"})]}),v?(0,e.jsxs)(j.ZP,{style:{padding:"4px 12px"},type:"primary",onClick:function(){return Se()},children:[(0,e.jsx)(ee.Z,{}),f.formatMessage({id:"common.button.text.edit"})]}):(0,e.jsx)(j.ZP,{type:"primary",onClick:function(){return ze()},children:f.formatMessage({id:"common.button.text.cancel"})}),(0,e.jsx)(j.ZP,{disabled:v,type:"primary",onClick:function(){return Ee()},children:f.formatMessage({id:"common.button.text.save"})})]})})}),(0,e.jsxs)(i.Z,{name:"dynamic_form_nest_item",autoComplete:"off",form:L,disabled:v,children:[(0,e.jsxs)(Q,{style:{marginBottom:8,display:"block"},children:[f.formatMessage({id:"cloudAccount.extend.title.basic.information"}),"\xA0:\xA0"]}),(0,e.jsx)(i.Z.List,{name:"BASE_INFO",children:function(a,n){var m=n.add,h=n.remove;return(0,e.jsxs)(e.Fragment,{children:[a.map(function(l){var Z=l.key,c=l.name,r=M()(l,xe);return(0,e.jsxs)(F.Z,{gutter:[12,0],children:[(0,e.jsx)(d.Z,{span:4,children:(0,e.jsx)(i.Z.Item,s()(s()({},r),{},{name:[c,"name"],rules:[{required:!0}],children:(0,e.jsx)(C.Z,{placeholder:"name"})}))}),(0,e.jsx)(d.Z,{span:8,children:(0,e.jsx)(i.Z.Item,s()(s()({},r),{},{name:[c,"path"],rules:[{required:!0}],children:(0,e.jsx)(C.Z,{placeholder:"path"})}))}),(0,e.jsx)(d.Z,{children:(0,e.jsx)(i.Z.Item,s()(s()({},r),{},{name:[c,"status"],rules:[{required:!1}],initialValue:!0,children:(0,e.jsx)(G.Z,{})}))}),v&&(0,e.jsx)(d.Z,{span:6,children:(0,e.jsx)(i.Z.Item,s()(s()({},r),{},{name:[c,"value"],rules:[{required:!1}],children:(0,e.jsx)(C.Z,{placeholder:"value"})}))}),!v&&(0,e.jsx)(d.Z,{style:{paddingTop:5},children:(0,e.jsx)(V,{onClick:function(){return h(c)}})})]},Z)}),!v&&(0,e.jsx)(i.Z.Item,{children:(0,e.jsx)(j.ZP,{type:"dashed",onClick:function(){return m()},block:!0,icon:(0,e.jsx)($.Z,{}),children:"Add field"})})]})}}),(0,e.jsxs)(Q,{style:{marginBottom:8,display:"block"},children:[f.formatMessage({id:"asset.module.text.net.information"}),"\xA0:\xA0"]}),(0,e.jsx)(i.Z.List,{name:"NETWORK",children:function(a,n){var m=n.add,h=n.remove;return(0,e.jsxs)(e.Fragment,{children:[a.map(function(l){var Z=l.key,c=l.name,r=M()(l,ge);return(0,e.jsxs)(F.Z,{gutter:[12,0],children:[(0,e.jsx)(d.Z,{span:4,children:(0,e.jsx)(i.Z.Item,s()(s()({},r),{},{name:[c,"name"],rules:[{required:!0}],children:(0,e.jsx)(C.Z,{placeholder:"name"})}))}),(0,e.jsx)(d.Z,{span:8,children:(0,e.jsx)(i.Z.Item,s()(s()({},r),{},{name:[c,"path"],rules:[{required:!0}],children:(0,e.jsx)(C.Z,{placeholder:"path"})}))}),(0,e.jsx)(d.Z,{children:(0,e.jsx)(i.Z.Item,s()(s()({},r),{},{name:[c,"status"],rules:[{required:!1}],initialValue:!0,children:(0,e.jsx)(G.Z,{})}))}),v&&(0,e.jsx)(d.Z,{span:6,children:(0,e.jsx)(i.Z.Item,s()(s()({},r),{},{name:[c,"value"],rules:[{required:!1}],children:(0,e.jsx)(C.Z,{placeholder:"value"})}))}),!v&&(0,e.jsx)(d.Z,{style:{paddingTop:5},children:(0,e.jsx)(V,{onClick:function(){return h(c)}})})]},Z)}),!v&&(0,e.jsx)(i.Z.Item,{children:(0,e.jsx)(j.ZP,{type:"dashed",onClick:function(){return m()},block:!0,icon:(0,e.jsx)($.Z,{}),children:"Add field"})})]})}})]})]})})})]})]})},ye=je},24732:function(J,y){y.Z={polymerizeWrap:"polymerizeWrap___DA0Kx",polymerizeCard:"polymerizeCard___cqy_L",polymerizeHead:"polymerizeHead___wg2jK",polymerizeMain:"polymerizeMain___MABwi",riskWrap:"riskWrap___bmqQb",riskWrapLeft:"riskWrapLeft___IXwxM",riskWrapRight:"riskWrapRight___Kdvj4",riskAsset:"riskAsset___QyUxz",assetMain:"assetMain___cdM5B",newTag:"newTag___MqjNr",assetMainItem:"assetMainItem___m8m8F",assetMainItemLabel:"assetMainItemLabel___xE6cJ",assetView:"assetView____rh3f",assetPageContainer:"assetPageContainer___XCTom",customFilterCard:"customFilterCard___vdglF",customText:"customText___B_t7o",iconWrap:"iconWrap___tQQp4",resourceInstance:"resourceInstance___Y06OO",assetConfigPageContainer:"assetConfigPageContainer___tB7j6",customAssetTable:"customAssetTable___J9RJC",cleanBlock:"cleanBlock___xLiWM",dimBlock:"dimBlock___HBpS1",customField:"customField___J1Iyu",tabProCard:"tabProCard___ahTeu"}}}]);
