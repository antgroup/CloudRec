"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2956],{89964:function(J,j,s){s.r(j);var V=s(97857),_=s.n(V),H=s(13769),T=s.n(H),$=s(15009),B=s.n($),G=s(99289),Q=s.n(G),X=s(5574),P=s.n(X),Y=s(29297),D=s(96987),p=s(21171),q=s(82826),w=s(86548),R=s(3089),L=s(24969),ee=s(39380),se=s(93410),v=s(92016),ne=s(25593),r=s(23323),te=s(68872),M=s(83622),x=s(71230),l=s(15746),_e=s(21532),ae=s(86250),re=s(42075),g=s(25278),W=s(72269),U=s(96486),Ae=s.n(U),O=s(62435),ie=s(24732),e=s(86074),oe=["key","name"],le=["key","name"],K=ne.Z.Text,de=function(){var ue=(0,v.useSearchParams)(),ce=P()(ue,1),b=ce[0],I=b.get("id"),k=b.get("view")||!1,me=r.Z.useForm(),Ee=P()(me,1),C=Ee[0],he=te.ZP.useMessage(),F=P()(he,2),ve=F[0],Me=F[1],E=(0,v.useIntl)(),ge=(0,O.useState)(!0),S=P()(ge,2),m=S[0],y=S[1],fe=(0,O.useState)(""),z=P()(fe,2),Pe=z[0],De=z[1],Z=(0,v.useRequest)(function(i){return(0,p.queryDetailConfigList)(i)},{manual:!0,formatResult:function(a){var n=a.content,c=(0,D.GD)(n)||{};return C.setFieldsValue(c),a==null?void 0:a.content}}),je=Z.data,N=Z.run,xe=Z.loading,A=(0,v.useRequest)(function(i){return(0,p.queryResourceDetailById)({id:i})},{manual:!0,formatResult:function(a){var n=a.content,c=JSON.stringify(n==null?void 0:n.instance,null,4);(0,U.isEmpty)(c)||De(c);var h={resourceId:n==null?void 0:n.resourceId,platform:n==null?void 0:n.platform,resourceType:n==null?void 0:n.resourceType};return N(h),a.content||{}}}),u=A.data,Ce=A.run,pe=A.loading;(0,O.useEffect)(function(){I&&Ce(I)},[I]);var Oe=function(){y(!1)},Ie=function(){y(!0);var a=(0,D.GD)(je)||{};C.setFieldsValue(a)},ye=function(){C.validateFields().then(function(){var a=Q()(B()().mark(function n(c){var h,o,f;return B()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h=(0,D.UL)(c,u),t.next=3,(0,p.saveDetailConfig)(h);case 3:if(o=t.sent,(o==null?void 0:o.msg)!=="success"){t.next=10;break}return ve.success(E.formatMessage({id:"common.message.text.save.success"})),y(!0),f={resourceId:u==null?void 0:u.resourceId,platform:u==null?void 0:u.platform,resourceType:u==null?void 0:u.resourceType},t.next=10,N(f);case 10:case"end":return t.stop()}},n)}));return function(n){return a.apply(this,arguments)}}())};return(0,e.jsxs)(ee._z,{loading:pe,className:ie.Z.assetConfigPageContainer,breadcrumbRender:!1,title:(0,e.jsxs)(M.ZP,{type:"link",size:"small",onClick:function(){return v.history===null||v.history===void 0?void 0:v.history.back()},children:[(0,e.jsx)(q.Z,{}),E.formatMessage({id:"common.button.text.return"})]}),children:[Me,(0,e.jsxs)(x.Z,{style:{height:"100%"},gutter:[32,0],children:[(0,e.jsx)(l.Z,{span:k?24:10,style:{height:"100%"},children:(0,e.jsx)(Y.q9,{editorKey:"assetConfigInstance",value:Pe,readOnly:!0,editorStyle:{height:"100%"}})}),(0,e.jsx)(l.Z,{span:k?0:14,children:(0,e.jsx)(_e.ZP,{theme:D.vr,children:(0,e.jsxs)(se.Z,{loading:xe,style:{minHeight:"100%"},children:[(0,e.jsx)(x.Z,{children:(0,e.jsx)(ae.Z,{style:{width:"100%"},justify:"flex-end",children:(0,e.jsxs)(re.Z,{size:"small",children:[(0,e.jsxs)(M.ZP,{type:"link",style:{color:"rgba(54, 110, 255, 1)"},href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/va0a4s9gggpbnnmn",target:"_blank",children:[(0,e.jsx)("img",{src:D.Uk.linkIcon,style:{height:14},alt:"LINK_ICON"}),E.formatMessage({id:"rule.extend.text.config"})]}),m?(0,e.jsxs)(M.ZP,{style:{padding:"4px 12px"},type:"primary",onClick:function(){return Oe()},children:[(0,e.jsx)(w.Z,{}),E.formatMessage({id:"common.button.text.edit"})]}):(0,e.jsx)(M.ZP,{type:"primary",onClick:function(){return Ie()},children:E.formatMessage({id:"common.button.text.cancel"})}),(0,e.jsx)(M.ZP,{disabled:m,type:"primary",onClick:function(){return ye()},children:E.formatMessage({id:"common.button.text.save"})})]})})}),(0,e.jsxs)(r.Z,{name:"dynamic_form_nest_item",autoComplete:"off",form:C,disabled:m,children:[(0,e.jsxs)(K,{style:{marginBottom:8,display:"block"},children:[E.formatMessage({id:"cloudAccount.extend.title.basic.information"}),"\xA0:\xA0"]}),(0,e.jsx)(r.Z.List,{name:"BASE_INFO",children:function(a,n){var c=n.add,h=n.remove;return(0,e.jsxs)(e.Fragment,{children:[a.map(function(o){var f=o.key,d=o.name,t=T()(o,oe);return(0,e.jsxs)(x.Z,{gutter:[12,0],children:[(0,e.jsx)(l.Z,{span:4,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"name"],rules:[{required:!0}],children:(0,e.jsx)(g.Z,{placeholder:"name"})}))}),(0,e.jsx)(l.Z,{span:8,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"path"],rules:[{required:!0}],children:(0,e.jsx)(g.Z,{placeholder:"path"})}))}),(0,e.jsx)(l.Z,{children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"status"],rules:[{required:!1}],initialValue:!0,children:(0,e.jsx)(W.Z,{})}))}),m&&(0,e.jsx)(l.Z,{span:6,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"value"],rules:[{required:!1}],children:(0,e.jsx)(g.Z,{placeholder:"value"})}))}),!m&&(0,e.jsx)(l.Z,{style:{paddingTop:5},children:(0,e.jsx)(R.Z,{onClick:function(){return h(d)}})})]},f)}),!m&&(0,e.jsx)(r.Z.Item,{children:(0,e.jsx)(M.ZP,{type:"dashed",onClick:function(){return c()},block:!0,icon:(0,e.jsx)(L.Z,{}),children:"Add field"})})]})}}),(0,e.jsxs)(K,{style:{marginBottom:8,display:"block"},children:[E.formatMessage({id:"asset.module.text.net.information"}),"\xA0:\xA0"]}),(0,e.jsx)(r.Z.List,{name:"NETWORK",children:function(a,n){var c=n.add,h=n.remove;return(0,e.jsxs)(e.Fragment,{children:[a.map(function(o){var f=o.key,d=o.name,t=T()(o,le);return(0,e.jsxs)(x.Z,{gutter:[12,0],children:[(0,e.jsx)(l.Z,{span:4,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"name"],rules:[{required:!0}],children:(0,e.jsx)(g.Z,{placeholder:"name"})}))}),(0,e.jsx)(l.Z,{span:8,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"path"],rules:[{required:!0}],children:(0,e.jsx)(g.Z,{placeholder:"path"})}))}),(0,e.jsx)(l.Z,{children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"status"],rules:[{required:!1}],initialValue:!0,children:(0,e.jsx)(W.Z,{})}))}),m&&(0,e.jsx)(l.Z,{span:6,children:(0,e.jsx)(r.Z.Item,_()(_()({},t),{},{name:[d,"value"],rules:[{required:!1}],children:(0,e.jsx)(g.Z,{placeholder:"value"})}))}),!m&&(0,e.jsx)(l.Z,{style:{paddingTop:5},children:(0,e.jsx)(R.Z,{onClick:function(){return h(d)}})})]},f)}),!m&&(0,e.jsx)(r.Z.Item,{children:(0,e.jsx)(M.ZP,{type:"dashed",onClick:function(){return c()},block:!0,icon:(0,e.jsx)(L.Z,{}),children:"Add field"})})]})}})]})]})})})]})]})};j.default=de},24732:function(J,j){j.Z={polymerizeWrap:"polymerizeWrap___DA0Kx",polymerizeCard:"polymerizeCard___cqy_L",polymerizeHead:"polymerizeHead___wg2jK",polymerizeMain:"polymerizeMain___MABwi",riskWrap:"riskWrap___bmqQb",riskWrapLeft:"riskWrapLeft___IXwxM",riskWrapRight:"riskWrapRight___Kdvj4",riskAsset:"riskAsset___QyUxz",assetMain:"assetMain___cdM5B",newTag:"newTag___MqjNr",assetMainItem:"assetMainItem___m8m8F",assetMainItemLabel:"assetMainItemLabel___xE6cJ",assetView:"assetView____rh3f",assetPageContainer:"assetPageContainer___XCTom",customFilterCard:"customFilterCard___vdglF",customText:"customText___B_t7o",iconWrap:"iconWrap___tQQp4",resourceInstance:"resourceInstance___Y06OO",assetConfigPageContainer:"assetConfigPageContainer___tB7j6",customAssetTable:"customAssetTable___J9RJC",cleanBlock:"cleanBlock___xLiWM",dimBlock:"dimBlock___HBpS1",customField:"customField___J1Iyu",tabProCard:"tabProCard___ahTeu"}}}]);
