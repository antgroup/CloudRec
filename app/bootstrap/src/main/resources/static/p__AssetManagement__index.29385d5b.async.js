"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3231],{3859:function(De,H,s){var ce=s(97857),Q=s.n(ce),me=s(66309),ve=s(62435),fe=s(53846),D=s(86074);H.Z=function(Y){var S,pe=Y.text,_=Y.style,q=Y.level;return(0,D.jsx)(me.Z,{className:fe.Z[q==="HIGH"?"riskHigh":(S=["MEDIUM","MIDDLE"])!==null&&S!==void 0&&S.includes(q)?"riskMedium":q==="LOW"?"riskLow":""],style:Q()({},_),children:pe})}},92834:function(De,H,s){s.r(H),s.d(H,{default:function(){return xt}});var ce=s(15009),Q=s.n(ce),me=s(99289),ve=s.n(me),fe=s(97857),D=s.n(fe),Y=s(5574),S=s.n(Y),pe=s(81569),_=s(3859),q=s(31732),we=s(53846),Se=s(24163),se=s(21171),ee=s(29448),We=s(45742),ae=s(93410),L=s(45830),xe=s(25593),he=s(85265),ze=s(83062),Ke=s(86250),$e=s(92398),y=s(62435),C=s(24732),Le=s(29297),I=s(96486),e=s(86074),He=function(x){var n=x.assetInstanceVisible,m=x.assetInfo,u=x.setAssetInstanceVisible,v=(0,y.useState)(""),r=S()(v,2),d=r[0],M=r[1],R=(0,L.useIntl)(),P=function(){u(!1),M("")},A=function(){P()};return(0,y.useEffect)(function(){if(n&&!(0,I.isEmpty)(m)){var j=JSON.stringify(m==null?void 0:m.instance,null,4);(0,I.isEmpty)(j)||M(j)}},[n]),(0,e.jsx)(he.Z,{title:R.formatMessage({id:"asset.extend.text.detail"}),width:"42%",destroyOnClose:!0,open:n,onClose:A,children:!(0,I.isEmpty)(d)&&(0,e.jsx)(Le.q9,{editorKey:"assetInstance",value:d,readOnly:!0,editorStyle:{height:"100%"}})})},Qe=He,Ue=s(57207),ge=s(96364),Ge=s(72028),U=s(17910),be=s(90498),ye=s(66309),z=s(83622),Je=function(x){var n=x.assetInfo,m=(0,y.useRef)(),u=(0,y.useRef)(),v=(0,y.useState)(!1),r=S()(v,2),d=r[0],M=r[1],R=(0,y.useRef)({}),P=[{title:"\u8D44\u6E90\u540D\u79F0",dataIndex:"resourceName",valueType:"text",align:"center",render:function(j,l){return(0,e.jsx)(Se.Z,{text:l!=null&&l.resourceExist?l.resourceName:"(\u4E0D\u5B58\u5728) "+l.resourceName,maxWidth:280})}},{title:"\u8D44\u6E90\u7C7B\u578B",dataIndex:"resourceType",valueType:"text",align:"center",render:function(j,l){return(0,e.jsx)(ye.Z,{color:"geekblue",children:l==null?void 0:l.resourceType})}},{title:"\u89C4\u5219\u540D\u79F0",dataIndex:"ruleName",valueType:"text",align:"center",render:function(j,l){var o;return(0,e.jsx)("span",{children:l==null||(o=l.ruleVO)===null||o===void 0?void 0:o.ruleName})}},{title:"\u89C4\u5219\u7EC4",dataIndex:"groupName",valueType:"text",align:"center",render:function(j,l){var o;return(0,e.jsx)("span",{children:l==null||(o=l.ruleVO)===null||o===void 0?void 0:o.groupName})}},{title:"\u98CE\u9669\u7B49\u7EA7",dataIndex:"riskLevel",valueType:"text",align:"center",render:function(j,l){var o=U.I9===null||U.I9===void 0?void 0:U.I9.find(function(c){var b;return c.value===(l==null||(b=l.ruleVO)===null||b===void 0?void 0:b.riskLevel)});return(0,e.jsx)(ye.Z,{color:o==null?void 0:o.color,children:(o==null?void 0:o.text)||"-"})}},{title:"\u98CE\u9669\u72B6\u6001",dataIndex:"status",valueType:"text",align:"center",render:function(j,l){var o=ge.MW===null||ge.MW===void 0?void 0:ge.MW.find(function(c){return c.value===(l==null?void 0:l.status)});return(0,e.jsx)(ye.Z,{color:o==null?void 0:o.color,children:(o==null?void 0:o.label)||"-"})}},{title:"\u6700\u8FD1\u626B\u63CF\u547D\u4E2D",dataIndex:"gmtModified",valueType:"text",align:"center"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",align:"center",render:function(j,l){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(z.ZP,{type:"link",onClick:function(){R.current=D()({},l),M(!0)},children:"\u8BE6\u60C5"})})}}];return(0,e.jsxs)(ae.Z,{boxShadow:!0,bodyStyle:{padding:"32px 4px 12px 4px"},children:[(0,e.jsx)(be.Z,{tableStyle:{padding:0},scroll:{x:"max-content"},rowKey:"id",search:!1,options:!1,actionRef:m,formRef:u,columns:P,request:function(){var A=ve()(Q()().mark(function j(l){var o,c,b,W,h,i,$,F,G;return Q()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return o=l.pageSize,c=l.current,b=l.cloudAccountId,W=l.resourceId,h=l.platform,i={page:c,size:o,cloudAccountId:b,resourceId:W,platformList:[h]},k.next=4,(0,Ge.queryRiskList)(i);case 4:return $=k.sent,F=$.content,G=$.code,k.abrupt("return",{data:(F==null?void 0:F.data)||[],total:(F==null?void 0:F.total)||0,success:G===200||!1});case 8:case"end":return k.stop()}},j)}));return function(j){return A.apply(this,arguments)}}(),params:D()({},n),pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1,showTotal:function(j){return"\u5171 ".concat(j," \u6761")}}}),(0,e.jsx)(Ue.Z,{locate:"asset",riskDrawerVisible:d,setRiskDrawerVisible:M,riskDrawerInfo:R.current,tableActionRef:m})]})},Xe=Je,ne=s(32983),B=s(99859),Be=xe.Z.Text,Ye=function(x){var n=(0,L.useAccess)(),m=n.isAdmin,u=x.assetInfo;return(0,e.jsx)("div",{children:m?(0,e.jsx)(z.ZP,{type:"link",size:"small",href:"/assetManagement/asseConfig?id=".concat(u==null?void 0:u.id),target:"_blank",children:"\u914D\u7F6E\u8BE6\u60C5"}):(0,e.jsx)(e.Fragment,{})})},_e=function(x){var n,m,u,v,r=x.assetInfo;return(0,e.jsx)(ae.Z,{boxShadow:!0,extra:(0,e.jsx)(Ye,{assetInfo:r}),bodyStyle:{paddingBlockStart:0},children:(0,I.isEmpty)(r==null||(n=r.resourceDetailConfigMap)===null||n===void 0?void 0:n.BASE_INFO)&&(0,I.isEmpty)(r==null||(m=r.resourceDetailConfigMap)===null||m===void 0?void 0:m.NETWORK)?(0,e.jsx)(ne.Z,{image:ne.Z.PRESENTED_IMAGE_SIMPLE}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Be,{style:{marginBottom:6,display:"block",color:"#377df7"},children:"\u57FA\u672C\u4FE1\u606F:"}),r==null||(u=r.resourceDetailConfigMap)===null||u===void 0||(u=u.BASE_INFO)===null||u===void 0?void 0:u.map(function(d,M){return(0,e.jsx)(B.Z.Item,{label:d==null?void 0:d.name,children:d.value},M)}),(0,e.jsx)(Be,{style:{marginBottom:6,display:"block",color:"#377df7"},children:"\u7F51\u7EDC\u4FE1\u606F:"}),r==null||(v=r.resourceDetailConfigMap)===null||v===void 0||(v=v.NETWORK)===null||v===void 0?void 0:v.map(function(d,M){return(0,e.jsx)(B.Z.Item,{label:d==null?void 0:d.name,children:d.value},M)})]})})},qe=_e,le=xe.Z.Text,et=function(x){var n,m=x.assetDrawerVisible,u=x.assetDrawerInfo,v=x.setAssetDrawerVisible,r=(0,L.useModel)("rule"),d=r.platformList,M=(0,L.useModel)("asset"),R=M.assetList,P=(0,y.useState)(!1),A=S()(P,2),j=A[0],l=A[1],o=(0,L.useRequest)(function(O){return(0,se.queryResourceDetailById)({id:O})},{manual:!0,formatResult:function(J){return J.content||{}}}),c=o.data,b=o.run,W=o.loading,h=(0,y.useState)("BasicAsset"),i=S()(h,2),$=i[0],F=i[1],G=[{key:"BasicAsset",label:"\u8D44\u4EA7\u4FE1\u606F",children:(0,e.jsx)(qe,{assetInfo:c})},{key:"AssociateRisk",label:"\u98CE\u9669\u4FE1\u606F",children:(0,e.jsx)(Xe,{assetInfo:c})}],re=function(J){F(J)},k=function(){v(!1),F("BasicAsset")},ie=function(){k()};return(0,y.useEffect)(function(){m&&u!==null&&u!==void 0&&u.id&&b(u.id)},[m,u]),(0,e.jsxs)(he.Z,{title:"\u8D44\u4EA7\u8BE6\u60C5",width:"50%",open:m,onClose:ie,loading:W,children:[(0,e.jsxs)(ae.Z,{boxShadow:!0,style:{marginBottom:16},bodyStyle:{paddingBlock:6},children:[(0,e.jsxs)(le,{className:C.Z.customText,children:["\u8D44\u6E90\u540D\u79F0: ",(c==null?void 0:c.resourceName)||"-"]}),(0,e.jsxs)(le,{className:C.Z.customText,children:["\u8D44\u6E90id: ",(c==null?void 0:c.resourceId)||"-",(0,e.jsx)(ze.Z,{title:"\u8D44\u6E90\u8BE6\u60C5",children:(0,e.jsx)("span",{className:C.Z.iconWrap,onClick:function(){return l(!0)},children:(0,e.jsx)(We.Z,{className:C.Z.resourceInstance})})})]}),(0,e.jsx)(le,{className:C.Z.customText,children:(0,e.jsxs)(Ke.Z,{children:["\u4E91\u670D\u52A1:",(0,e.jsx)("span",{style:{margin:"0 12px 0 6px"},children:(0,ee.fD)(c==null?void 0:c.platform,d)}),(0,e.jsx)("span",{children:c==null?void 0:c.platform})]})}),(0,e.jsxs)(le,{className:C.Z.customText,children:["\u8D44\u6E90\u7C7B\u578B:",(0,e.jsx)("span",{style:{color:"#0958d9",marginLeft:"4px"},children:(R==null||(n=R.find(function(O){return O.value===(c==null?void 0:c.resourceType)}))===null||n===void 0?void 0:n.label)||"-"})]})]}),(0,e.jsx)($e.Z,{activeKey:$,items:G,onChange:re,destroyInactiveTabPane:!0}),(0,e.jsx)(Qe,{assetInstanceVisible:j,setAssetInstanceVisible:l,assetInfo:c})]})},tt=et,st=function(x){var n=x.assetInformVisible,m=x.assetInfo,u=x.setAssetInformVisible,v=(0,y.useState)(""),r=S()(v,2),d=r[0],M=r[1],R=(0,L.useIntl)(),P=function(){u(!1)},A=(0,L.useRequest)(function(o){return(0,se.queryResourceDetailById)({id:o})},{manual:!0,formatResult:function(c){var b=c.content,W=JSON.stringify(b==null?void 0:b.instance,null,4);(0,I.isEmpty)(W)||M(W)}}),j=A.run,l=A.loading;return(0,y.useEffect)(function(){n&&m!==null&&m!==void 0&&m.id&&j(Number(m.id))},[n,m]),(0,e.jsx)(he.Z,{title:R.formatMessage({id:"asset.extend.text.detail"}),width:"46%",open:n,onClose:P,destroyOnClose:!0,loading:l,children:d&&(0,e.jsx)(Le.q9,{editorKey:"ASSET_CONFIG_INSTANCE",value:d,readOnly:!0,editorStyle:{height:"100%"}})})},at=st,nt=s(57695),Fe=s(92635),lt=s(79930),ot=s(59999),rt=s(86548),it=s(39380),ut=s(42075),Ne=s(3303),oe=s(71230),Z=s(15746),dt=s(84567),ct=s(34041),mt=s(57381),Ve=s(25278),vt=s(21532),te=xe.Z.Paragraph,V={formItem:{marginBottom:0,color:"#999",fontSize:"12px"},paragraph:{marginBottom:0,fontSize:"12px",color:"#999"},paragraphTable:{maxWidth:"300px"},paragraphExpanded:{maxWidth:"500px"}},ft=function(x){var n=x.record,m=(0,L.useIntl)(),u=(0,L.useRequest)(function(d){return(0,se.queryResourceRiskQuantity)({idList:[d]})},{manual:!0,formatResult:function(M){return M.content[0]}}),v=u.data,r=u.run;return(0,y.useEffect)(function(){n!=null&&n.id&&r(Number(n.id))},[n]),(0,e.jsxs)(ut.Z,{size:2,children:[(0,e.jsx)(z.ZP,{type:"link",style:{padding:0},size:"small",target:"_blank",href:"/riskManagement/riskList?platform=".concat(n==null?void 0:n.platform,"&riskLevel=").concat(U.I9[0].value,"&resourceId=").concat(n==null?void 0:n.resourceId),rel:"prefetch",children:(0,e.jsx)(_.Z,{level:"HIGH",text:"".concat(m.formatMessage({id:"common.link.text.high"})," ").concat((v==null?void 0:v.highLevelRiskCount)||0)})}),(0,e.jsx)(z.ZP,{type:"link",style:{padding:0},size:"small",target:"_blank",href:"/riskManagement/riskList?platform=".concat(n==null?void 0:n.platform,"&riskLevel=").concat(U.I9[1].value,"&resourceId=").concat(n==null?void 0:n.resourceId),rel:"prefetch",children:(0,e.jsx)(_.Z,{level:"MEDIUM",text:"".concat(m.formatMessage({id:"common.link.text.middle"})," ").concat((v==null?void 0:v.mediumLevelRiskCount)||0)})}),(0,e.jsx)(z.ZP,{type:"link",style:{padding:0},size:"small",target:"_blank",href:"/riskManagement/riskList?platform=".concat(n==null?void 0:n.platform,"&riskLevel=").concat(U.I9[2].value,"&resourceId=").concat(n==null?void 0:n.resourceId),rel:"prefetch",children:(0,e.jsx)(_.Z,{level:"LOW",text:"".concat(m.formatMessage({id:"common.link.text.low"}),"  ").concat((v==null?void 0:v.lowLevelRiskCount)||0)})})]})},pt=function(){var x,n=Ne.Z.SHOW_CHILD,m=(0,L.useModel)("rule"),u=m.platformList,v=new URLSearchParams((x=(0,L.useLocation)())===null||x===void 0?void 0:x.search),r=v.get("cloudAccountId"),d=v.get("platform"),M=v.get("resourceGroupType"),R=v.get("resourceType"),P=(0,y.useRef)(),A=(0,y.useRef)(),j=(0,y.useState)(!1),l=S()(j,2),o=l[0],c=l[1],b=B.Z.useForm(),W=S()(b,1),h=W[0],i=(0,L.useIntl)(),$=(0,y.useState)(!1),F=S()($,2),G=F[0],re=F[1],k=(0,y.useRef)({}),ie=(0,y.useRef)({}),O=(0,y.useState)([]),J=S()(O,2),ht=J[0],ue=J[1],gt=(0,y.useState)({customField:{show:!1},cloudAccountId:{show:!1},platform:{show:!1},address:{show:!1},tenantName:{show:!1}}),yt=S()(gt,1),It=yt[0],jt=(0,L.useRequest)(function(p){return(0,lt.queryGroupTypeList)({platformList:p})},{manual:!0,formatResult:function(a){var t=a.content;ue(t||[])}}),Ie=jt.run,At=[{title:(0,e.jsxs)(e.Fragment,{children:[i.formatMessage({id:"common.table.columns.assetId"}),"\xA0\xA0|\xA0\xA0",i.formatMessage({id:"common.table.columns.assetName"})]}),dataIndex:"resourceId",valueType:"text",align:"left",hideInSearch:!0,render:function(a,t){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(z.ZP,{style:{padding:0},size:"small",type:"link",onClick:function(){ie.current=D()({},t),c(!0)},children:(0,e.jsx)(te,{copyable:!0,style:{color:"inherit",marginBottom:0},children:t.resourceId})}),(0,e.jsx)(Se.Z,{placement:"topLeft",text:t.resourceName,maxWidth:360,style:{color:"#333"}})]})}},{title:i.formatMessage({id:"cloudAccount.extend.title.asset.type"}),dataIndex:"resourceType",valueType:"text",align:"left",width:200,hideInSearch:!0,render:function(a,t){return(0,e.jsx)(q.Z,{text:t==null?void 0:t.resourceType})}},{title:i.formatMessage({id:"asset.module.risk.number"}),width:200,dataIndex:"rulePassRate",valueType:"text",align:"left",hideInSearch:!0,render:function(a,t){return(0,e.jsx)(ft,{record:t})}},{title:i.formatMessage({id:"common.input.text.custom.fields"}),dataIndex:"customFieldValue",valueType:"text",align:"left",width:500,render:function(a,t){var T,N,E,g;return(0,e.jsx)("div",{style:{maxHeight:"120px",overflow:"auto"},children:(0,e.jsx)(oe.Z,{children:(0,e.jsx)(Z.Z,{span:24,children:(0,I.isEmpty)(t==null||(T=t.resourceDetailConfigMap)===null||T===void 0?void 0:T.BASE_INFO)&&(0,I.isEmpty)(t==null||(N=t.resourceDetailConfigMap)===null||N===void 0?void 0:N.NETWORK)?"-":(0,e.jsxs)(e.Fragment,{children:[t==null||(E=t.resourceDetailConfigMap)===null||E===void 0||(E=E.BASE_INFO)===null||E===void 0?void 0:E.map(function(f,w){return(0,e.jsx)(B.Z.Item,{label:f==null?void 0:f.name,style:V.formItem,children:(0,e.jsx)(te,{copyable:{text:f.value},style:D()(D()({},V.paragraph),V.paragraphTable),ellipsis:{tooltip:f.value},children:f.value})},w)}),t==null||(g=t.resourceDetailConfigMap)===null||g===void 0||(g=g.NETWORK)===null||g===void 0?void 0:g.map(function(f,w){return(0,e.jsx)(B.Z.Item,{label:f==null?void 0:f.name,style:V.formItem,children:(0,e.jsx)(te,{copyable:{text:f.value},style:D()(D()({},V.paragraph),V.paragraphTable),ellipsis:{tooltip:f.value},children:f.value})},w)})]})})})})}},{title:i.formatMessage({id:"common.table.columns.createAndUpdateTime"}),dataIndex:"gmt_modified",tooltip:i.formatMessage({id:"common.table.columns.sort.update"}),valueType:"text",align:"left",hideInSearch:!0,sorter:!0,width:240,render:function(a,t){return(0,e.jsxs)("div",{children:[(0,e.jsx)("section",{style:{color:"#999"},children:(t==null?void 0:t.gmtCreate)||"-"}),(0,e.jsx)("section",{style:{color:"#999"},children:(t==null?void 0:t.gmtModified)||"-"})]})}},{title:i.formatMessage({id:"common.select.label.cloudAccount"}),dataIndex:"cloudAccountId",valueType:"text",align:"left",hideInSearch:!0,render:function(a,t){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:t==null?void 0:t.cloudAccountId}),(0,e.jsx)("div",{style:{color:"#999"},children:t==null?void 0:t.alias})]})}},{title:i.formatMessage({id:"common.select.label.cloudPlatform"}),dataIndex:"platform",valueType:"text",align:"center",hideInSearch:!0,render:function(a,t){return(0,ee.fD)(t.platform,u)}},{title:i.formatMessage({id:"asset.module.input.text.ip"}),dataIndex:"address",valueType:"text",align:"left",hideInSearch:!0},{title:i.formatMessage({id:"common.select.label.tenant"}),dataIndex:"tenantName",valueType:"text",align:"left",hideInSearch:!0}],je=(0,L.useRequest)(function(p){return(0,Fe.cloudAccountBaseInfoList)(D()({},p))},{manual:!0,formatResult:function(a){if(a.msg==="success"){var t;return(a==null||(t=a.content)===null||t===void 0||(t=t.accountAliasList)===null||t===void 0?void 0:t.map(function(T){return{label:T,value:T}}))||[]}}}),Ct=je.data,de=je.run,Mt=je.loading;(0,ot.j)({platformList:u,form:h,requestResourceTypeList:function(a){ue([]),Ie(a)},requestCloudAccountBaseInfoList:de,platformFieldName:"platformList",resourceTypeFieldName:"resourceTypeList"});var Zt=(0,y.useMemo)(function(){var p=function(t){de({platformList:h.getFieldValue("platformList")||[],cloudAccountSearch:t})};return(0,I.debounce)(p,500)},[Fe.cloudAccountBaseInfoList]);return(0,y.useEffect)(function(){var p={};if(d&&(p.platformList=[d]),r&&(p.cloudAccountSearch=r),de(p),(!(0,I.isEmpty)(r)||!(0,I.isEmpty)(d)||!(0,I.isEmpty)(M)&&!(0,I.isEmpty)(R))&&(r&&(h==null||h.setFieldValue("cloudAccountId",r)),!(0,I.isEmpty)(d)&&(h==null||h.setFieldValue("platformList",[d]),h.setFieldValue("resourceTypeList",null),ue([]),Ie([d]),!(0,I.isEmpty)(M)&&!(0,I.isEmpty)(R)))){var a=[],t=[M,R];a.push(t),h.setFieldValue("resourceTypeList",a)}},[d,r,R]),(0,e.jsxs)(it._z,{title:!1,className:C.Z.assetPageContainer,breadcrumb:void 0,children:[(0,e.jsx)(ae.Z,{bodyStyle:{paddingBottom:0},className:C.Z.customFilterCard,children:(0,e.jsx)(B.Z,{form:h,children:(0,e.jsxs)(oe.Z,{gutter:[24,10],children:[(0,e.jsx)(Z.Z,{span:24,children:(0,e.jsx)(B.Z.Item,{name:"platformList",label:i.formatMessage({id:"common.select.label.cloudPlatform"}),style:{marginBottom:0},children:(0,e.jsx)(dt.Z.Group,{options:(0,ee.T$)(u),onChange:function(a){var t,T=a||[];h.setFieldValue("resourceTypeList",null),ue([]),Ie(T),de({platformList:T}),(t=P.current)===null||t===void 0||t.reload()}})})}),(0,e.jsx)(Z.Z,{span:6,children:(0,e.jsx)(B.Z.Item,{name:"resourceTypeList",label:i.formatMessage({id:"cloudAccount.extend.title.asset.type"}),style:{marginBottom:0,width:"100%"},children:(0,e.jsx)(Ne.Z,{options:ht,multiple:!0,placeholder:i.formatMessage({id:"common.select.text.placeholder"}),showCheckedStrategy:n,allowClear:!0,showSearch:!0})})}),(0,e.jsx)(Z.Z,{span:6,children:(0,e.jsx)(B.Z.Item,{name:"cloudAccountId",label:i.formatMessage({id:"common.select.label.cloudAccount"}),style:{marginBottom:0,width:"100%"},children:(0,e.jsx)(ct.Z,{allowClear:!0,showSearch:!0,placeholder:i.formatMessage({id:"common.select.query.text.placeholder"}),notFoundContent:Mt&&(0,e.jsx)(mt.Z,{size:"small"}),onSearch:Zt,options:Ct||[]})})}),(0,e.jsx)(Z.Z,{span:6,children:(0,e.jsx)(B.Z.Item,{name:"searchParam",label:i.formatMessage({id:"common.input.text.assetIdAndName"}),style:{marginBottom:0,width:"100%"},children:(0,e.jsx)(Ve.Z,{placeholder:i.formatMessage({id:"common.input.text.placeholder"}),allowClear:!0})})}),(0,e.jsx)(Z.Z,{span:6,children:(0,e.jsx)(B.Z.Item,{name:"address",label:i.formatMessage({id:"asset.module.input.text.ip"}),style:{marginBottom:0,width:"100%"},children:(0,e.jsx)(Ve.Z,{placeholder:i.formatMessage({id:"common.input.text.placeholder"}),allowClear:!0})})})]})})}),(0,e.jsx)(be.Z,{scroll:{x:"max-content"},rowKey:"id",search:{span:6,labelWidth:0},headerTitle:(0,e.jsx)("div",{className:we.Z.customTitle,children:i.formatMessage({id:"asset.module.text.asset.inquiry"})}),actionRef:P,formRef:A,columns:At,columnsState:{defaultValue:It,persistenceType:"localStorage",persistenceKey:"ASSET_TABLE_LIST_CACHE"},onReset:function(){var a;h.resetFields(),(a=A.current)===null||a===void 0||a.resetFields()},pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1,pageSizeOptions:[10,20,50]},request:function(){var p=ve()(Q()().mark(function a(t,T){var N,E,g,f,w,Ae,Ce,Me,Ze,Te,Ee,Re,Pe,ke,Oe;return Q()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return N=t.customFieldValue,E=t.current,g=t.pageSize,f={customFieldValue:N,page:E,size:g},w=(0,ee.Hm)(T),(0,I.isEmpty)(w)||(f.sortParam=w==null?void 0:w.key,f.sortType=nt.ym[w.value]),Ae=h.getFieldValue("platformList"),(0,I.isEmpty)(Ae)||(f.platformList=Ae),Ce=h.getFieldValue("resourceTypeList"),(0,I.isEmpty)(Ce)||(f.resourceTypeList=Ce),Me=h.getFieldValue("cloudAccountId"),(0,I.isEmpty)(Me)||(f.cloudAccountId=Me),Ze=h.getFieldValue("searchParam"),Ze&&(f.searchParam=Ze),Te=h.getFieldValue("address"),Te&&(f.address=Te),X.next=16,(0,se.queryResourceList)(f);case 16:return Ee=X.sent,Re=Ee.content,Pe=Ee.code,ke=Re.data,Oe=Re.total,X.abrupt("return",{data:ke||[],total:Oe||0,success:Pe===200||!1});case 21:case"end":return X.stop()}},a)}));return function(a,t){return p.apply(this,arguments)}}(),tableClassName:C.Z.customAssetTable,expandable:{expandedRowRender:function(a){var t,T,N,E;return(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(Z.Z,{span:2,className:C.Z.dimBlock,style:{borderLeft:"0.5px solid rgb(239, 239, 239)"},children:i.formatMessage({id:"common.select.label.cloudAccount"})}),(0,e.jsxs)(Z.Z,{span:4,className:C.Z.cleanBlock,style:{flexDirection:"column"},children:[(0,e.jsx)("div",{children:a==null?void 0:a.cloudAccountId}),(0,e.jsx)("div",{style:{color:"#999"},children:a==null?void 0:a.alias})]}),(0,e.jsx)(Z.Z,{span:2,className:C.Z.dimBlock,children:i.formatMessage({id:"common.select.label.cloudPlatform"})}),(0,e.jsx)(Z.Z,{span:4,className:C.Z.cleanBlock,children:(0,ee.fD)(a.platform,u)}),(0,e.jsx)(Z.Z,{span:2,className:C.Z.dimBlock,children:i.formatMessage({id:"asset.module.input.text.ip"})}),(0,e.jsx)(Z.Z,{span:4,className:C.Z.cleanBlock,children:(a==null?void 0:a.address)||"-"}),(0,e.jsx)(Z.Z,{span:2,className:C.Z.dimBlock,children:i.formatMessage({id:"common.select.label.tenant"})}),(0,e.jsx)(Z.Z,{span:4,className:C.Z.cleanBlock,children:(a==null?void 0:a.tenantName)||"-"}),(0,e.jsx)(Z.Z,{span:2,className:C.Z.dimBlock,style:{borderTop:"none",borderLeft:"0.5px solid rgb(239, 239, 239)"},children:i.formatMessage({id:"common.input.text.custom.fields"})}),(0,e.jsx)(Z.Z,{span:22,className:C.Z.customField,style:{borderTop:"none"},children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(Z.Z,{span:22,style:{maxHeight:"200px",overflow:"auto"},children:(0,I.isEmpty)(a==null||(t=a.resourceDetailConfigMap)===null||t===void 0?void 0:t.BASE_INFO)&&(0,I.isEmpty)(a==null||(T=a.resourceDetailConfigMap)===null||T===void 0?void 0:T.NETWORK)?(0,e.jsx)(vt.ZP,{theme:{token:{margin:8,marginXL:8,marginXS:8}},children:(0,e.jsx)(ne.Z,{image:ne.Z.PRESENTED_IMAGE_SIMPLE})}):(0,e.jsxs)(e.Fragment,{children:[a==null||(N=a.resourceDetailConfigMap)===null||N===void 0||(N=N.BASE_INFO)===null||N===void 0?void 0:N.map(function(g,f){return(0,e.jsx)(B.Z.Item,{label:g==null?void 0:g.name,style:V.formItem,children:(0,e.jsx)(te,{copyable:{text:g.value},style:D()(D()({},V.paragraph),V.paragraphExpanded),ellipsis:{tooltip:g.value},children:g.value})},f)}),a==null||(E=a.resourceDetailConfigMap)===null||E===void 0||(E=E.NETWORK)===null||E===void 0?void 0:E.map(function(g,f){return(0,e.jsx)(B.Z.Item,{label:g==null?void 0:g.name,style:V.formItem,children:(0,e.jsx)(te,{copyable:{text:g.value},style:D()(D()({},V.paragraph),V.paragraphExpanded),ellipsis:{tooltip:g.value},children:g.value})},f)})]})}),(0,e.jsx)(Z.Z,{span:2,children:(0,e.jsxs)(z.ZP,{size:"small",type:"link",target:"_self",href:"/assetManagement/asseConfig?id=".concat(a==null?void 0:a.id),children:[(0,e.jsx)(rt.Z,{}),i.formatMessage({id:"common.button.text.edit"})]})})]})})]})},columnTitle:(0,e.jsx)("div",{style:{width:30,textAlign:"center"}}),columnWidth:30,rowExpandable:function(){return!0},expandIcon:pe.Z}}),(0,e.jsx)(tt,{assetDrawerVisible:G,setAssetDrawerVisible:re,assetDrawerInfo:k.current,tableActionRef:P}),(0,e.jsx)(at,{assetInformVisible:o,setAssetInformVisible:c,assetInfo:ie.current})]})},xt=pt},24732:function(De,H){H.Z={polymerizeWrap:"polymerizeWrap___DA0Kx",polymerizeCard:"polymerizeCard___cqy_L",polymerizeHead:"polymerizeHead___wg2jK",polymerizeMain:"polymerizeMain___MABwi",riskWrap:"riskWrap___bmqQb",riskWrapLeft:"riskWrapLeft___IXwxM",riskWrapRight:"riskWrapRight___Kdvj4",riskAsset:"riskAsset___QyUxz",assetMain:"assetMain___cdM5B",newTag:"newTag___MqjNr",assetMainItem:"assetMainItem___m8m8F",assetMainItemLabel:"assetMainItemLabel___xE6cJ",assetView:"assetView____rh3f",assetPageContainer:"assetPageContainer___XCTom",customFilterCard:"customFilterCard___vdglF",customText:"customText___B_t7o",iconWrap:"iconWrap___tQQp4",resourceInstance:"resourceInstance___Y06OO",assetConfigPageContainer:"assetConfigPageContainer___tB7j6",customAssetTable:"customAssetTable___J9RJC",cleanBlock:"cleanBlock___xLiWM",dimBlock:"dimBlock___HBpS1",customField:"customField___J1Iyu",tabProCard:"tabProCard___ahTeu"}}}]);
