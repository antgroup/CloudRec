"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8962],{20132:function(K,j,e){e.r(j);var T=e(15009),o=e.n(T),P=e(99289),E=e.n(P),R=e(5574),a=e.n(R),m=e(45830),h=e(29448),O=e(39380),v=e(83062),D=e(4393),d=e(26412),g=e(89094),u=e(62435),l=e(31272),t=e(86074),p=function(){var r,W=(0,m.useModel)("rule"),S=W.platformList,i=(0,m.useIntl)(),x=(0,m.useParams)(),M=x.id,G=(0,u.useState)(),I=a()(G,2),_=I[0],H=I[1],Z=(0,u.useState)(!1),A=a()(Z,2),$=A[0],b=A[1],z=(0,u.useState)(1),B=a()(z,2),X=B[0],J=B[1],N=(0,u.useState)(10),y=a()(N,2),Q=y[0],Y=y[1],F=function(){var C=E()(o()().mark(function c(){var n,f,w,L;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return b(!0),s.prev=1,n=M.split("_"),f=a()(n,1),w=f[0],s.next=5,(0,l.xd)({id:parseInt(M,10)});case 5:L=s.sent,H(L.content),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(1),console.error("\u83B7\u53D6\u91C7\u96C6\u8BB0\u5F55\u8BE6\u60C5\u5931\u8D25:",s.t0);case 12:return s.prev=12,b(!1),s.finish(12);case 15:case"end":return s.stop()}},c,null,[[1,9,12,15]])}));return function(){return C.apply(this,arguments)}}();(0,u.useEffect)(function(){M&&F()},[M]);var V=[{title:i.formatMessage({id:"cloudAccount.extend.title.asset.type"}),dataIndex:"resourceType",key:"resourceType",render:function(c,n){return"".concat(n.resourceTypeName," (").concat(n.resourceType,")")}},{title:i.formatMessage({id:"cloudAccount.table.column.error.details"}),dataIndex:"errorDetailItems",key:"errorDetailItems",render:function(c){return(0,t.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:c.map(function(n,f){return(0,t.jsxs)("li",{style:{marginBottom:f<c.length-1?8:0},children:[(0,t.jsx)("div",{children:(0,t.jsx)("strong",{children:n.description})}),(0,t.jsx)("div",{style:{display:"flex",width:"100%"},children:(0,t.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",flex:1,minWidth:0,wordBreak:"break-all"},children:(0,t.jsx)(v.Z,{title:n.message,children:(0,t.jsx)("span",{children:n.message})})})}),(0,t.jsx)("div",{style:{color:"#888"},children:n.time})]},f)})})}}];return(0,t.jsxs)(O._z,{title:i.formatMessage({id:"cloudAccount.collection.record.detail"}),loading:$,children:[(0,t.jsx)(D.Z,{children:(0,t.jsxs)(d.Z,{title:i.formatMessage({id:"cloudAccount.extend.title.basic.information"}),children:[(0,t.jsx)(d.Z.Item,{label:i.formatMessage({id:"cloudAccount.extend.title.cloud.platform"}),children:(0,h.c5)(_==null?void 0:_.platform,S)}),(0,t.jsx)(d.Z.Item,{label:i.formatMessage({id:"cloudAccount.extend.title.account.alias"}),children:_==null?void 0:_.alias}),(0,t.jsx)(d.Z.Item,{label:i.formatMessage({id:"cloudAccount.extend.title.account.id"}),children:_==null?void 0:_.cloudAccountId})]})}),(0,t.jsx)(D.Z,{style:{marginTop:24},title:i.formatMessage({id:"cloudAccount.error.resource.errorTypes"}),children:(0,t.jsx)(g.Z,{columns:V,dataSource:_==null?void 0:_.errorDetails,rowKey:"resourceType",pagination:{current:X,pageSize:Q,total:(_==null||(r=_.errorDetails)===null||r===void 0?void 0:r.length)||0,onChange:function(c,n){J(c),Y(n)},showSizeChanger:!0,showQuickJumper:!0}})})]})};j.default=p},31272:function(K,j,e){e.d(j,{XX:function(){return g},Yq:function(){return O},xd:function(){return D}});var T=e(15009),o=e.n(T),P=e(97857),E=e.n(P),R=e(99289),a=e.n(R),m=e(40396),h=e(45830);function O(l,t){return v.apply(this,arguments)}function v(){return v=a()(o()().mark(function l(t,p){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("".concat(m._,"/api/cloudAccount/collectorRecord/getCollectorRecordList"),E()({method:"POST",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return r.stop()}},l)})),v.apply(this,arguments)}function D(l,t){return d.apply(this,arguments)}function d(){return d=a()(o()().mark(function l(t,p){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("".concat(m._,"/api/cloudAccount/collectorRecord/getCollectorRecordDetail"),E()({method:"POST",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return r.stop()}},l)})),d.apply(this,arguments)}function g(l,t){return u.apply(this,arguments)}function u(){return u=a()(o()().mark(function l(t,p){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.request)("".concat(m._,"/api/cloudAccount/collectorRecord/getErrorCodeList"),E()({method:"POST",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return r.stop()}},l)})),u.apply(this,arguments)}}}]);
