"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8962],{20132:function(K,f,e){e.r(f);var O=e(15009),a=e.n(O),j=e(99289),h=e.n(j),C=e(5574),o=e.n(C),m=e(92016),E=e(29448),T=e(39380),D=e(83062),g=e(4393),i=e(26412),R=e(89094),u=e(62435),l=e(31272),t=e(86074),p=function(){var s,W=(0,m.useModel)("rule"),S=W.platformList,d=(0,m.useIntl)(),x=(0,m.useParams)(),M=x.id,Z=(0,u.useState)(),b=o()(Z,2),r=b[0],$=b[1],z=(0,u.useState)(!1),U=o()(z,2),G=U[0],I=U[1],k=(0,u.useState)(1),y=o()(k,2),X=y[0],J=y[1],N=(0,u.useState)(10),L=o()(N,2),Q=L[0],Y=L[1],F=function(){var P=h()(a()().mark(function c(){var n,v,V,B;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return I(!0),_.prev=1,n=M.split("_"),v=o()(n,1),V=v[0],_.next=5,(0,l.xd)({id:parseInt(M,10)});case 5:B=_.sent,$(B.content),_.next=12;break;case 9:_.prev=9,_.t0=_.catch(1),console.error("\u83B7\u53D6\u91C7\u96C6\u8BB0\u5F55\u8BE6\u60C5\u5931\u8D25:",_.t0);case 12:return _.prev=12,I(!1),_.finish(12);case 15:case"end":return _.stop()}},c,null,[[1,9,12,15]])}));return function(){return P.apply(this,arguments)}}();(0,u.useEffect)(function(){M&&F()},[M]);var H=[{title:d.formatMessage({id:"cloudAccount.extend.title.asset.type"}),dataIndex:"resourceType",key:"resourceType",render:function(c,n){return"".concat(n.resourceTypeName," (").concat(n.resourceType,")")}},{title:d.formatMessage({id:"cloudAccount.table.column.error.details"}),dataIndex:"errorDetailItems",key:"errorDetailItems",render:function(c){return(0,t.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:c.map(function(n,v){return(0,t.jsxs)("li",{style:{marginBottom:v<c.length-1?8:0},children:[(0,t.jsx)("div",{children:(0,t.jsx)("strong",{children:n.description})}),(0,t.jsx)("div",{style:{display:"flex",width:"100%"},children:(0,t.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",flex:1,minWidth:0,wordBreak:"break-all"},children:(0,t.jsx)(D.Z,{title:n.message,children:(0,t.jsx)("span",{children:n.message})})})}),(0,t.jsx)("div",{style:{color:"#888"},children:n.time})]},v)})})}}];return(0,t.jsxs)(T._z,{title:d.formatMessage({id:"cloudAccount.collection.record.detail"}),loading:G,children:[(0,t.jsx)(g.Z,{children:(0,t.jsxs)(i.Z,{title:d.formatMessage({id:"cloudAccount.extend.title.basic.information"}),children:[(0,t.jsx)(i.Z.Item,{label:d.formatMessage({id:"cloudAccount.extend.title.cloud.platform"}),children:(0,E.c5)(r==null?void 0:r.platform,S)}),(0,t.jsx)(i.Z.Item,{label:d.formatMessage({id:"cloudAccount.extend.title.account.alias"}),children:r==null?void 0:r.alias}),(0,t.jsx)(i.Z.Item,{label:d.formatMessage({id:"cloudAccount.extend.title.account.id"}),children:r==null?void 0:r.cloudAccountId})]})}),(0,t.jsx)(g.Z,{style:{marginTop:24},title:d.formatMessage({id:"cloudAccount.error.resource.errorTypes"}),children:(0,t.jsx)(R.Z,{columns:H,dataSource:r==null?void 0:r.errorDetails,rowKey:"resourceType",pagination:{current:X,pageSize:Q,total:(r==null||(s=r.errorDetails)===null||s===void 0?void 0:s.length)||0,onChange:function(c,n){J(c),Y(n)},showSizeChanger:!0,showQuickJumper:!0}})})]})};f.default=p},31272:function(K,f,e){e.d(f,{XX:function(){return R},Yq:function(){return T},xd:function(){return g}});var O=e(15009),a=e.n(O),j=e(97857),h=e.n(j),C=e(99289),o=e.n(C),m=e(40396),E=e(92016);function T(l,t){return D.apply(this,arguments)}function D(){return D=o()(a()().mark(function l(t,p){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,E.request)("".concat(m._,"/api/cloudAccount/collectorRecord/getCollectorRecordList"),h()({method:"POST",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return s.stop()}},l)})),D.apply(this,arguments)}function g(l,t){return i.apply(this,arguments)}function i(){return i=o()(a()().mark(function l(t,p){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,E.request)("".concat(m._,"/api/cloudAccount/collectorRecord/getCollectorRecordDetail"),h()({method:"POST",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return s.stop()}},l)})),i.apply(this,arguments)}function R(l,t){return u.apply(this,arguments)}function u(){return u=o()(a()().mark(function l(t,p){return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,E.request)("".concat(m._,"/api/cloudAccount/collectorRecord/getErrorCodeList"),h()({method:"POST",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return s.stop()}},l)})),u.apply(this,arguments)}}}]);
