"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4427],{69055:function(fe,B,t){t.d(B,{Z:function(){return oe}});var ie=t(22181),m=t(83622),te=t(87462),f=t(62435),ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},$=ae,H=t(84089),x=function(e,Q){return f.createElement(H.Z,(0,te.Z)({},e,{ref:Q,icon:$}))},J=f.forwardRef(x),ne=J,N=t(45830),X={noPermissionContainer:"noPermissionContainer___mfh3D","ant-result":"ant-result___HwWPh","ant-result-icon":"ant-result-icon___kCRak",anticon:"anticon___dFq4q","ant-result-title":"ant-result-title___qzgxn","ant-result-subtitle":"ant-result-subtitle___wgaK1","ant-result-extra":"ant-result-extra___YuiiI","ant-btn":"ant-btn___SR44Y",dark:"dark___6IwTX",fadeInUp:"fadeInUp___lq2_S"},O=t(86074),re=function(e){var Q=e.title,de=e.subTitle,_=e.showReturnButton,le=_===void 0?!0:_,se=e.onReturn,K=(0,N.useIntl)(),ee=function(){se?se():N.history===null||N.history===void 0||N.history.push("/")};return(0,O.jsx)("div",{className:X.noPermissionContainer,children:(0,O.jsx)(ie.ZP,{icon:(0,O.jsx)(ne,{}),status:"403",title:Q||K.formatMessage({id:"common.message.text.no.permission.title"}),subTitle:de||K.formatMessage({id:"common.message.text.no.permission.subtitle"}),extra:le&&(0,O.jsx)(m.ZP,{type:"primary",onClick:ee,children:K.formatMessage({id:"common.button.text.return"})})})})},oe=re},82043:function(fe,B,t){var ie=t(62435),m=t(45830),te=t(69055),f=t(86074),ae=function(H){var x=H.children,J=H.accessKey,ne=H.fallback,N=(0,m.useAccess)(),X=(0,m.useIntl)();if(!J)return(0,f.jsx)(f.Fragment,{children:x});var O=N[J];return O?(0,f.jsx)(f.Fragment,{children:x}):(0,f.jsx)(f.Fragment,{children:ne||(0,f.jsx)(te.Z,{title:X.formatMessage({id:"common.message.text.no.permission.title"}),subTitle:X.formatMessage({id:"common.message.text.no.permission.subtitle"})})})};B.Z=ae},24163:function(fe,B,t){var ie=t(97857),m=t.n(ie),te=t(25593),f=t(83062),ae=t(62435),$=t(86074),H=te.Z.Paragraph;B.Z=function(x){var J=x.text,ne=x.width,N=x.maxWidth,X=x.rows,O=X===void 0?2:X,re=x.placement,oe=re===void 0?"top":re,v=x.color,e=v===void 0?"rgba(0, 0, 0, 0.88)":v,Q=x.link,de=Q===void 0?!1:Q,_=x.onClickCallBackFunc,le=x.style,se=le===void 0?{}:le,K=x.copyable,ee=K===void 0?!1:K;return(0,$.jsx)("div",{style:{maxWidth:N,width:ne},children:(0,$.jsx)(f.Z,{title:(0,$.jsx)("div",{children:J}),placement:oe,children:(0,$.jsx)(H,{ellipsis:{rows:O},style:m()({marginBottom:0,color:e,cursor:de?"pointer":""},se),onClick:_,copyable:ee,children:J})})})}},37491:function(fe,B,t){t.r(B),t.d(B,{default:function(){return at}});var ie=t(97857),m=t.n(ie),te=t(15009),f=t.n(te),ae=t(99289),$=t.n(ae),H=t(5574),x=t.n(H),J=t(53846),ne=t(24163),N=t(82043),X=t(13769),O=t.n(X),re=t(19632),oe=t.n(re),v=t(45830),e=t(86074),Q=[{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.title.timing.notice"}),value:"timing",desc:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.title.timing.notice.desc"})},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.title.realtime.notice"}),value:"realtime",desc:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.title.realtime.notice.desc"})}],de=[{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.dingGroup"}),value:"dingGroup"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.wechat"}),value:"wechat"}],_=[{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.dingGroup"}),value:"dingGroup"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.interfaceCallback"}),value:"interfaceCallback"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.wechat"}),value:"wechat"}],le=[{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.day.monday"}),value:"1"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.day.tuesday"}),value:"2"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.day.wednesday"}),value:"3"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.day.thursday"}),value:"4"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.day.friday"}),value:"5"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.day.saturday"}),value:"6"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.day.sunday"}),value:"7"},{label:(0,e.jsx)(v.FormattedMessage,{id:"involve.extend.text.every.day"}),value:"all"}],se=[{label:"10: 00",value:"10"},{label:"11: 00",value:"11"},{label:"12: 00",value:"12"},{label:"13: 00",value:"13"},{label:"14: 00",value:"14"},{label:"15: 00",value:"15"},{label:"16: 00",value:"16"},{label:"17: 00",value:"17"},{label:"18: 00",value:"18"},{label:"19: 00",value:"19"},{label:"20: 00",value:"20"},{label:"21: 00",value:"21"}],K=t(37476),ee=t(99859),pe=t(84567),be=t(71230),ye=t(15746),W=t(96486),A=t(62435),De=function(R){var G=ee.Z.useForm(),I=x()(G,1),S=I[0],g=R.noticeFormVisible,T=R.setNoticeFormVisible,d=R.formRef,w=(0,v.useIntl)(),D=function(){var Z=$()(f()().mark(function n(u){var j,o,c,i,P;return f()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(j=d.current.getFieldValue("actionList"),o=u==null?void 0:u.actionList,!(0,W.isEmpty)(o)){h.next=4;break}return h.abrupt("return",T(!1));case 4:c=o==null?void 0:o.map(function(E,k){return{idx:k+1,actionType:E}}),(0,W.isEmpty)(j)?d.current.setFieldValue("actionList",c):(P=(i=[].concat(oe()(j),oe()(c)))===null||i===void 0?void 0:i.map(function(E,k){return m()(m()({},E),{},{idx:k+1})}),d.current.setFieldValue("actionList",P)),T(!1);case 7:case"end":return h.stop()}},n)}));return function(u){return Z.apply(this,arguments)}}(),Y=function(){S.resetFields()},z=function(){T(!1),Y()};return(0,e.jsx)(K.Y,{title:w.formatMessage({id:"involve.extend.title.notification.configuration"}),width:540,labelCol:{span:6},wrapperCol:{span:18},form:S,modalProps:{destroyOnClose:!0,onCancel:function(){return z()},styles:{body:{paddingTop:12}}},layout:"horizontal",open:g,onFinish:D,children:(0,e.jsx)(ee.Z.Item,{name:"actionList",children:(0,e.jsx)(pe.Z.Group,{style:{width:"100%"},children:(0,e.jsx)(be.Z,{children:Q.map(function(Z){return(0,e.jsxs)(ye.Z,{span:24,children:[(0,e.jsx)(pe.Z,{value:Z.value,children:Z.label}),(0,e.jsxs)("p",{style:{fontSize:12,marginLeft:20,color:"#C0C0C0"},children:["(",Z.desc,")"]})]},Z.value)})})})})})},ke=De,xe=t(64317),Ce=t(97462),ge=t(90672),U=t(83622),Ve=function(R){var G=ee.Z.useForm(),I=x()(G,1),S=I[0],g=(0,v.useIntl)(),T=R.realtimeFormVisible,d=R.setRealtimeFormVisible,w=R.formRef,D=R.notificationInfo,Y=function(){var n=$()(f()().mark(function u(j){var o,c,i;return f()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:o=w.current.getFieldValue("actionList"),c=m()(m()({},D),j),i=o==null?void 0:o.map(function(h){return h.idx===D.idx?c:h}),w.current.setFieldValue("actionList",i),d(!1);case 5:case"end":return b.stop()}},u)}));return function(j){return n.apply(this,arguments)}}(),z=function(){S.resetFields()},Z=function(){d(!1)};return(0,A.useEffect)(function(){T&&!(0,W.isEmpty)(D)?S.setFieldsValue(m()({},D)):T||z()},[T]),(0,e.jsxs)(K.Y,{title:g.formatMessage({id:"involve.extend.title.real.time.notification"}),width:560,form:S,modalProps:{destroyOnClose:!0,onCancel:function(){return Z()}},layout:"horizontal",open:T,onFinish:Y,children:[(0,e.jsx)(xe.Z,{label:g.formatMessage({id:"involve.extend.title.subscription.type"}),name:"action",options:_,rules:[{required:!0}]}),(0,e.jsx)(Ce.Z,{name:["action"],children:function(u){var j,o=u.action;return o===((j=_[1])===null||j===void 0?void 0:j.value)?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)(ge.Z,{label:g.formatMessage({id:"involve.extend.title.group.chat.name"}),name:"name",rules:[{required:!0}]})}}),(0,e.jsx)(Ce.Z,{name:["action"],children:function(u){var j,o,c=u.action;return(0,e.jsx)(ge.Z,{label:c===((j=_[1])===null||j===void 0?void 0:j.value)?(0,e.jsxs)("div",{style:{position:"relative"},children:[g.formatMessage({id:"involve.extend.title.callback.url"}),(0,e.jsx)(U.ZP,{type:"link",size:"small",style:{padding:0,position:"absolute",left:0,top:20,fontSize:12},href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/rqvy5gapmz43g29p",target:"_blank",children:g.formatMessage({id:"involve.extend.title.documentation"})})]}):(0,e.jsxs)("div",{style:{position:"relative"},children:[g.formatMessage({id:"involve.extend.title.to.be.notified.group"}),(0,e.jsx)(U.ZP,{type:"link",size:"small",style:{padding:0,position:"absolute",left:0,top:20,fontSize:12},href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/rqvy5gapmz43g29p",target:"_blank",children:g.formatMessage({id:"involve.extend.title.documentation"})})]}),name:"url",rules:[{required:!0,message:c===((o=_[1])===null||o===void 0?void 0:o.value)?g.formatMessage({id:"involve.input.text.callback.url.tip"}):g.formatMessage({id:"involve.input.text.notified.group.tip"})}]})}})]})},$e=Ve,Oe=function(R){var G=ee.Z.useForm(),I=x()(G,1),S=I[0],g=(0,v.useIntl)(),T=R.timingFormVisible,d=R.setTimingFormVisible,w=R.formRef,D=R.notificationInfo,Y=function(){var n=$()(f()().mark(function u(j){var o,c,i;return f()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:o=w.current.getFieldValue("actionList"),c=m()(m()({},D),j),i=o==null?void 0:o.map(function(h){return h.idx===D.idx?c:h}),w.current.setFieldValue("actionList",i),d(!1);case 5:case"end":return b.stop()}},u)}));return function(j){return n.apply(this,arguments)}}(),z=function(){S.resetFields()},Z=function(){d(!1)};return(0,A.useEffect)(function(){T&&!(0,W.isEmpty)(D)?S.setFieldsValue(m()({},D)):T||z()},[T]),(0,e.jsxs)(K.Y,{title:g.formatMessage({id:"involve.extend.title.scheduled.notification"}),width:560,form:S,modalProps:{destroyOnClose:!0,onCancel:function(){return Z()}},layout:"horizontal",open:T,onFinish:Y,children:[(0,e.jsx)(xe.Z,{label:g.formatMessage({id:"involve.extend.title.subscription.type"}),name:"action",options:de,rules:[{required:!0}]}),(0,e.jsx)(ge.Z,{label:g.formatMessage({id:"involve.extend.title.group.chat.name"}),name:"name",rules:[{required:!0}]}),(0,e.jsx)(ge.Z,{label:(0,e.jsxs)("div",{style:{position:"relative"},children:[g.formatMessage({id:"involve.extend.title.to.be.notified.group"}),(0,e.jsx)(U.ZP,{type:"link",size:"small",style:{padding:0,position:"absolute",left:0,top:20,fontSize:12},href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/rqvy5gapmz43g29p",target:"_blank",children:g.formatMessage({id:"involve.extend.title.documentation"})})]}),name:"url",rules:[{required:!0}]}),(0,e.jsxs)(be.Z,{children:[(0,e.jsx)(ye.Z,{span:10,children:(0,e.jsx)(xe.Z,{label:g.formatMessage({id:"involve.extend.title.notification.time"}),name:"period",options:le,rules:[{required:!0}]})}),(0,e.jsx)(ye.Z,{span:14,children:(0,e.jsx)(xe.Z,{label:"",name:"timeList",options:se,rules:[{required:!0}],fieldProps:{mode:"tags"}})})]})]})},ze=Oe,ue=t(91910),Be=t(29448),Ne=t(24969),Ke=t(97269),Fe=t(5966),We=t(93410),Me=t(50727),je=t(68872),Re=t(86738),Ue=t(85265),Ge=t(57381),Ye=t(86250),He=["idx"],Je=["idx"],Xe=["id"],Qe=function(R){var G=(0,v.useModel)("involve"),I=G.subConfigList,S=R.involveDrawerVisible,g=R.setInvolveDrawerVisible,T=R.involveDrawerInfo,d=R.tableActionRef,w=T.id,D=je.ZP.useMessage(),Y=x()(D,2),z=Y[0],Z=Y[1],n=(0,v.useIntl)(),u=(0,A.useRef)(),j=(0,A.useRef)(),o=(0,A.useState)([]),c=x()(o,2),i=c[0],P=c[1],b=(0,A.useRef)(),h=(0,A.useRef)(),E=(0,A.useState)(!1),k=x()(E,2),V=k[0],ve=k[1],Te=(0,A.useState)(!1),q=x()(Te,2),rt=q[0],Pe=q[1],ot=(0,A.useState)(!1),Le=x()(ot,2),lt=Le[0],Ee=Le[1],st=(0,A.useState)(!1),Se=x()(st,2),dt=Se[0],Ze=Se[1],he=(0,A.useRef)({}),ut=function(){var r;(r=u.current)===null||r===void 0||r.resetFields()},Ae=function(){g(!1)},ct=function(){Pe(!0)},vt=function(r){var a=(0,W.cloneDeep)(r),l=a.ruleConfigList,s=a.actionList;if(Array.isArray(l)&&!(0,W.isEmpty)(l)){var F=l.map(function(C,L){var y=C.idx,me=O()(C,He);return m()(m()({},me),{},{id:L+1})});a.ruleConfigList=F}if(Array.isArray(s)&&!(0,W.isEmpty)(s)){var M=s.map(function(C){var L=C.idx,y=O()(C,Je);return m()({},y)});a.actionList=M}return a},mt=function(r){var a=(0,W.cloneDeep)(r),l=a.ruleConfig,s=a.actionList,F=[];if(Array.isArray(l)&&!(0,W.isEmpty)(l)){var M=l.map(function(L){var y=L.id,me=O()(L,Xe);return F.push(y),m()(m()({},me),{},{idx:y})});a.ruleConfigList=M}if(a.editableKeyList=F,Array.isArray(s)&&!(0,W.isEmpty)(s)){var C=s.map(function(L,y){return m()(m()({},L),{},{idx:y+1})});a.actionList=C}return a},ft=function(){var p=$()(f()().mark(function r(a){var l,s,F,M;return f()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return ve(!0),l=vt(a),w&&(l.id=w),ve(!1),L.next=6,(0,ue.saveSubscriptionConfig)(l);case 6:s=L.sent,s.code===200&&s.msg==="success"&&(w?z.success(n.formatMessage({id:"common.message.text.edit.success"})):z.success(n.formatMessage({id:"common.message.text.add.success"})),g(!1),d==null||(F=d.current)===null||F===void 0||(M=F.reloadAndRest)===null||M===void 0||M.call(F));case 8:case"end":return L.stop()}},r)}));return function(a){return p.apply(this,arguments)}}(),we=(0,v.useRequest)(function(p){return(0,ue.querySubscriptionDetailById)({id:p})},{manual:!0,formatResult:function(r){var a=r.content;return mt(a)||{}},onSuccess:function(r){var a,l=r.actionList,s=r.condition,F=r.name,M=r.ruleConfigList,C=r.editableKeyList;(a=u.current)===null||a===void 0||a.setFieldsValue({actionList:l,condition:s,name:F,ruleConfigList:M}),P(C)}}),xt=we.loading,gt=we.run;(0,A.useEffect)(function(){S&&w?gt(w):S||ut()},[S]);var ht=function(r){r.actionType==="timing"?(he.current=m()({},r),Ee(!0)):r.actionType==="realtime"&&(he.current=m()({},r),Ze(!0))},pt=[{title:n.formatMessage({id:"involve.extend.title.serial.number"}),dataIndex:"id",editable:!1,width:100,align:"center",render:function(r,a,l){return l+1}},{title:n.formatMessage({id:"rule.module.text.variable.name"}),dataIndex:"key",formItemProps:{rules:[{required:!0}]},valueType:"select",fieldProps:function(r,a){var l=a.rowIndex,s=(I==null?void 0:I.map(function(F){return{label:F.keyName,value:F.key}}))||[];return{options:s,allowClear:!1,onSelect:function(){var M,C;(M=b.current)===null||M===void 0||(C=M.setRowData)===null||C===void 0||C.call(M,l,{operator:void 0,value:void 0})}}}},{title:n.formatMessage({id:"involve.extend.title.condition"}),dataIndex:"operator",formItemProps:{rules:[{required:!0}]},valueType:"select",fieldProps:function(r,a){var l,s,F=a.rowIndex,M=(l=b.current)===null||l===void 0||(s=l.getRowData)===null||s===void 0||(s=s.call(l,F))===null||s===void 0?void 0:s.key;if(!M)return[];var C=I==null?void 0:I.find(function(y){return y.key===M}),L=C==null?void 0:C.operatorList.map(function(y){return{label:y,value:y}});return{options:L||[]}}},{title:n.formatMessage({id:"rule.module.text.variable.value"}),dataIndex:"value",formItemProps:{rules:[{required:!0}]},valueType:"select",fieldProps:function(r,a){var l,s,F=a.rowIndex,M=(l=b.current)===null||l===void 0||(s=l.getRowData)===null||s===void 0||(s=s.call(l,F))===null||s===void 0?void 0:s.key;if(!M)return[];var C=I==null?void 0:I.find(function(y){return y.key===M}),L=C==null?void 0:C.value.map(function(y){return{label:y==null?void 0:y.valueName,value:y==null?void 0:y.value}});return{showSearch:!0,options:L||[]}}},{title:n.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),valueType:"option",width:140,render:function(){return[]}}],yt=[{title:n.formatMessage({id:"involve.extend.title.serial.number"}),dataIndex:"id",editable:!1,width:100,align:"center",render:function(r,a,l){return l+1}},{title:n.formatMessage({id:"involve.extend.title.action.title"}),dataIndex:"actionType",editable:!1,align:"center",valueType:"select",valueEnum:(0,Be.W_)(Q)},{title:n.formatMessage({id:"involve.extend.title.action.content"}),dataIndex:"action",editable:!1,align:"center",render:function(r,a){return(0,e.jsx)(U.ZP,{type:"link",size:"small",style:{fontSize:12},onClick:function(){return ht(a)},children:a!=null&&a.action?n.formatMessage({id:"involve.button.text.click.edit"}):n.formatMessage({id:"involve.button.text.click.setting"})})}},{title:n.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),valueType:"option",width:200,render:function(r,a){return[(0,e.jsx)(Re.Z,{title:n.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){var s,F,M=u==null||(s=u.current)===null||s===void 0?void 0:s.getFieldValue("actionList"),C=M.filter(function(y){return y.idx!==a.idx}),L=C.map(function(y,me){return m()(m()({},y),{},{idx:me+1})});u==null||(F=u.current)===null||F===void 0||F.setFieldValue("actionList",L)},okText:n.formatMessage({id:"common.button.text.ok"}),cancelText:n.formatMessage({id:"common.button.text.cancel"}),children:(0,e.jsx)(U.ZP,{type:"link",danger:!0,children:n.formatMessage({id:"common.button.text.delete"})},"delete")},"action")]}}];return(0,e.jsxs)(Ue.Z,{title:w?n.formatMessage({id:"involve.extend.title.edit"}):n.formatMessage({id:"involve.extend.title.add"}),width:"64%",destroyOnClose:!0,open:S,onClose:Ae,children:[Z,(0,e.jsx)(Ge.Z,{spinning:xt,children:(0,e.jsxs)(Ke.A,{onFinish:ft,formRef:u,layout:"horizontal",submitter:{submitButtonProps:{loading:V},render:function(r,a){return(0,e.jsxs)(Ye.Z,{justify:"end",gap:"small",children:[(0,e.jsx)(U.ZP,{onClick:function(){return Ae()},children:n.formatMessage({id:"common.button.text.cancel"})}),a]})}},children:[(0,e.jsx)(Fe.Z,{label:n.formatMessage({id:"involve.module.text.involve.title"}),name:"name",formItemProps:{rules:[{required:!0}]}}),(0,e.jsxs)(We.Z,{style:{marginBottom:20},bodyStyle:{backgroundColor:"rgb(245, 245, 245)",padding:"0 20px 16px 20px"},children:[(0,e.jsx)(Me.Z,{rowKey:"idx",name:"ruleConfigList",actionRef:j,editableFormRef:b,headerTitle:(0,e.jsx)("div",{style:{fontSize:14},children:n.formatMessage({id:"involve.extend.title.conditional.config"})}),recordCreatorProps:{creatorButtonText:n.formatMessage({id:"involve.extend.title.addRowConfig"}),record:function(){return{idx:(Math.random()*1e6).toFixed(0)}}},onChange:function(){var r;return(r=u.current)===null||r===void 0?void 0:r.setFieldValue("condition",void 0)},columns:pt,editable:{type:"multiple",editableKeys:i,onChange:P,actionRender:function(r,a,l){return[l.delete]}}}),(0,e.jsx)(Ce.Z,{name:["ruleConfigList"],children:function(r){var a=r.ruleConfigList;return(0,e.jsx)(Fe.Z,{label:n.formatMessage({id:"involve.extend.title.logical"}),name:"condition",fieldProps:{placeholder:n.formatMessage({id:"involve.extend.title.logical.example"}),style:{maxWidth:"64%"}},rules:[{required:(a==null?void 0:a.length)>1}]})}}),(0,e.jsxs)(U.ZP,{type:"primary",onClick:function(){return ct()},style:{fontSize:13,padding:"4px 10px",gap:2},children:[(0,e.jsx)(Ne.Z,{}),n.formatMessage({id:"involve.extend.title.addAction"})]}),(0,e.jsx)(Me.Z,{rowKey:"idx",name:"actionList",editableFormRef:h,headerTitle:(0,e.jsx)("div",{style:{fontSize:14},children:n.formatMessage({id:"involve.extend.title.action.config"})}),columns:yt,recordCreatorProps:!1})]})]})}),(0,e.jsx)(ke,{noticeFormVisible:rt,setNoticeFormVisible:Pe,formRef:u}),(0,e.jsx)(ze,{notificationInfo:he.current,timingFormVisible:lt,setTimingFormVisible:Ee,formRef:u}),(0,e.jsx)($e,{notificationInfo:he.current,realtimeFormVisible:dt,setRealtimeFormVisible:Ze,formRef:u})]})},_e=Qe,qe=t(39380),et=t(90498),tt=t(72269),Ie=t(96074),nt=function(){var R=je.ZP.useMessage(),G=x()(R,2),I=G[0],S=G[1],g=(0,A.useRef)(),T=(0,A.useRef)({}),d=(0,v.useIntl)(),w=(0,A.useState)(!1),D=x()(w,2),Y=D[0],z=D[1],Z=function(){var o=$()(f()().mark(function c(i){var P,b,h,E;return f()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return P={id:i==null?void 0:i.id,status:(i==null?void 0:i.status)==="valid"?"invalid":"valid"},V.next=3,(0,ue.queryChangeStatus)(P);case 3:b=V.sent,b.msg==="success"&&(I.success(d.formatMessage({id:"common.message.text.edit.success"})),(h=g.current)===null||h===void 0||(E=h.reloadAndRest)===null||E===void 0||E.call(h));case 5:case"end":return V.stop()}},c)}));return function(i){return o.apply(this,arguments)}}(),n=function(c){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"create";i==="edit"?(T.current=m()({},c),z(!0)):(T.current={},z(!0))},u=function(){var o=$()(f()().mark(function c(i){var P,b,h,E;return f()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return P=I.loading(d.formatMessage({id:"common.message.text.delete.loading"})),V.next=3,(0,ue.deleteInvolve)({id:i});case 3:b=V.sent,P(),(b.code===200||b.msg==="success")&&(I.success(d.formatMessage({id:"common.message.text.delete.success"})),(h=g.current)===null||h===void 0||(E=h.reloadAndRest)===null||E===void 0||E.call(h));case 6:case"end":return V.stop()}},c)}));return function(i){return o.apply(this,arguments)}}(),j=[{title:d.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(c,i){return(0,e.jsxs)("div",{children:[(0,e.jsx)("section",{style:{color:"#999"},children:(i==null?void 0:i.gmtCreate)||"-"}),(0,e.jsx)("section",{style:{color:"#999"},children:(i==null?void 0:i.gmtModified)||"-"})]})}},{title:d.formatMessage({id:"involve.module.text.involve.id"}),dataIndex:"id",valueType:"text",align:"center",width:120},{title:d.formatMessage({id:"involve.module.text.involve.title"}),dataIndex:"name",valueType:"text",align:"center",width:240},{title:d.formatMessage({id:"involve.module.text.involve.type"}),dataIndex:"actionType",valueType:"text",align:"center",width:320,hideInSearch:!0,render:function(c,i){return(0,e.jsx)(ne.Z,{placement:"top",text:i.actionType,maxWidth:320})}},{title:d.formatMessage({id:"rule.input.text.rule.group.creator"}),dataIndex:"username",valueType:"text",align:"center"},{title:d.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",width:240,fixed:"right",render:function(c,i){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(tt.Z,{checkedChildren:d.formatMessage({id:"common.button.text.enable"}),unCheckedChildren:d.formatMessage({id:"common.button.text.disable"}),checked:(i==null?void 0:i.status)==="valid",onClick:function(){return Z(i)}}),(0,e.jsx)(Ie.Z,{type:"vertical"}),(0,e.jsx)(U.ZP,{size:"small",onClick:function(){return n(i,"edit")},type:"link",children:d.formatMessage({id:"common.button.text.edit"})}),(0,e.jsx)(Ie.Z,{type:"vertical"}),(0,e.jsx)(Re.Z,{title:d.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return u(i.id)},okText:d.formatMessage({id:"common.button.text.ok"}),cancelText:d.formatMessage({id:"common.button.text.cancel"}),children:(0,e.jsx)(U.ZP,{type:"link",danger:!0,size:"small",children:d.formatMessage({id:"common.button.text.delete"})})})]})}}];return(0,e.jsxs)(qe._z,{ghost:!0,title:!1,breadcrumbRender:!1,children:[S,(0,e.jsx)(et.Z,{headerTitle:(0,e.jsx)("div",{className:J.Z.customTitle,children:d.formatMessage({id:"involve.module.text.involve.inquiry"})}),scroll:{x:"max-content"},actionRef:g,rowKey:"id",search:!1,request:function(){var o=$()(f()().mark(function c(i){var P,b,h,E,k,V,ve;return f()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return P=i.pageSize,b=i.current,h={page:b,size:P},q.next=4,(0,ue.querySubscriptionList)(h);case 4:return E=q.sent,k=E.content,V=E.code,ve=E.msg,q.abrupt("return",{data:(k==null?void 0:k.data)||[],total:(k==null?void 0:k.total)||0,success:V===200&&ve==="success"||!1});case 9:case"end":return q.stop()}},c)}));return function(c){return o.apply(this,arguments)}}(),toolBarRender:function(){return[(0,e.jsx)(U.ZP,{type:"primary",onClick:function(){return n({})},children:d.formatMessage({id:"involve.extend.text.add"})},"create")]},columns:j,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1}}),(0,e.jsx)(_e,{tableActionRef:g,involveDrawerVisible:Y,setInvolveDrawerVisible:z,involveDrawerInfo:T.current})]})},it=function(){return(0,e.jsx)(N.Z,{accessKey:"isPlatformAdmin",children:(0,e.jsx)(nt,{})})},at=it},53846:function(fe,B){B.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}}}]);
