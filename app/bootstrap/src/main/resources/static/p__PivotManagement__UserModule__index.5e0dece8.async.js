"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3748],{86615:function(Y,y,e){var R=e(1413),d=e(91),B=e(22270),a=e(78045),W=e(62435),O=e(90789),F=e(58055),h=e(86074),j=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],u=W.forwardRef(function(v,K){var I=v.fieldProps,g=v.options,A=v.radioType,o=v.layout,n=v.proFieldProps,x=v.valueEnum,c=(0,d.Z)(v,j);return(0,h.jsx)(F.Z,(0,R.Z)((0,R.Z)({valueType:A==="button"?"radioButton":"radio",ref:K,valueEnum:(0,B.h)(x,void 0)},c),{},{fieldProps:(0,R.Z)({options:g,layout:o},I),proFieldProps:n,filedConfig:{customLightMode:!0}}))}),Z=W.forwardRef(function(v,K){var I=v.fieldProps,g=v.children;return(0,h.jsx)(a.ZP,(0,R.Z)((0,R.Z)({},I),{},{ref:K,children:g}))}),S=(0,O.G)(Z,{valuePropName:"checked",ignoreWidth:!0}),i=S;i.Group=u,i.Button=a.ZP.Button,i.displayName="ProFormComponent",y.Z=i},5966:function(Y,y,e){var R=e(97685),d=e(1413),B=e(91),a=e(21770),W=e(99859),O=e(55241),F=e(98423),h=e(62435),j=e(58055),u=e(86074),Z=["fieldProps","proFieldProps"],S=["fieldProps","proFieldProps"],i="text",v=function(o){var n=o.fieldProps,x=o.proFieldProps,c=(0,B.Z)(o,Z);return(0,u.jsx)(j.Z,(0,d.Z)({valueType:i,fieldProps:n,filedConfig:{valueType:i},proFieldProps:x},c))},K=function(o){var n=(0,a.Z)(o.open||!1,{value:o.open,onChange:o.onOpenChange}),x=(0,R.Z)(n,2),c=x[0],t=x[1];return(0,u.jsx)(W.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(G){var L,X=G.getFieldValue(o.name||[]);return(0,u.jsx)(O.Z,(0,d.Z)((0,d.Z)({getPopupContainer:function(P){return P&&P.parentNode?P.parentNode:P},onOpenChange:function(P){return t(P)},content:(0,u.jsxs)("div",{style:{padding:"4px 0"},children:[(L=o.statusRender)===null||L===void 0?void 0:L.call(o,X),o.strengthText?(0,u.jsx)("div",{style:{marginTop:10},children:(0,u.jsx)("span",{children:o.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},o.popoverProps),{},{open:c,children:o.children}))}})},I=function(o){var n=o.fieldProps,x=o.proFieldProps,c=(0,B.Z)(o,S),t=(0,h.useState)(!1),$=(0,R.Z)(t,2),G=$[0],L=$[1];return n!=null&&n.statusRender&&c.name?(0,u.jsx)(K,{name:c.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:G,onOpenChange:L,children:(0,u.jsx)("div",{children:(0,u.jsx)(j.Z,(0,d.Z)({valueType:"password",fieldProps:(0,d.Z)((0,d.Z)({},(0,F.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(b){var P;n==null||(P=n.onBlur)===null||P===void 0||P.call(n,b),L(!1)},onClick:function(b){var P;n==null||(P=n.onClick)===null||P===void 0||P.call(n,b),L(!0)}}),proFieldProps:x,filedConfig:{valueType:i}},c))})}):(0,u.jsx)(j.Z,(0,d.Z)({valueType:"password",fieldProps:n,proFieldProps:x,filedConfig:{valueType:i}},c))},g=v;g.Password=I,g.displayName="ProFormComponent",y.Z=g},69055:function(Y,y,e){e.d(y,{Z:function(){return K}});var R=e(22181),d=e(83622),B=e(87462),a=e(62435),W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},O=W,F=e(84089),h=function(g,A){return a.createElement(F.Z,(0,B.Z)({},g,{ref:A,icon:O}))},j=a.forwardRef(h),u=j,Z=e(45830),S={noPermissionContainer:"noPermissionContainer___mfh3D","ant-result":"ant-result___HwWPh","ant-result-icon":"ant-result-icon___kCRak",anticon:"anticon___dFq4q","ant-result-title":"ant-result-title___qzgxn","ant-result-subtitle":"ant-result-subtitle___wgaK1","ant-result-extra":"ant-result-extra___YuiiI","ant-btn":"ant-btn___SR44Y",dark:"dark___6IwTX",fadeInUp:"fadeInUp___lq2_S"},i=e(86074),v=function(g){var A=g.title,o=g.subTitle,n=g.showReturnButton,x=n===void 0?!0:n,c=g.onReturn,t=(0,Z.useIntl)(),$=function(){c?c():Z.history===null||Z.history===void 0||Z.history.push("/")};return(0,i.jsx)("div",{className:S.noPermissionContainer,children:(0,i.jsx)(R.ZP,{icon:(0,i.jsx)(u,{}),status:"403",title:A||t.formatMessage({id:"common.message.text.no.permission.title"}),subTitle:o||t.formatMessage({id:"common.message.text.no.permission.subtitle"}),extra:x&&(0,i.jsx)(d.ZP,{type:"primary",onClick:$,children:t.formatMessage({id:"common.button.text.return"})})})})},K=v},82043:function(Y,y,e){var R=e(62435),d=e(45830),B=e(69055),a=e(86074),W=function(F){var h=F.children,j=F.accessKey,u=F.fallback,Z=(0,d.useAccess)(),S=(0,d.useIntl)();if(!j)return(0,a.jsx)(a.Fragment,{children:h});var i=Z[j];return i?(0,a.jsx)(a.Fragment,{children:h}):(0,a.jsx)(a.Fragment,{children:u||(0,a.jsx)(B.Z,{title:S.formatMessage({id:"common.message.text.no.permission.title"}),subTitle:S.formatMessage({id:"common.message.text.no.permission.subtitle"})})})};y.Z=W},61188:function(Y,y,e){e.r(y),e.d(y,{default:function(){return he}});var R=e(97857),d=e.n(R),B=e(15009),a=e.n(B),W=e(99289),O=e.n(W),F=e(5574),h=e.n(F),j=e(53846),u=e(82043),Z=e(13769),S=e.n(Z),i=e(98665),v=e(17910),K=e(37476),I=e(5966),g=e(86615),A=e(45830),o=e(68872),n=e(99859),x=e(96486),c=e(62435),t=e(86074),$=["password"],G=function(H){var ee=o.ZP.useMessage(),w=h()(ee,2),te=w[0],l=w[1],Q=n.Z.useForm(),oe=h()(Q,1),J=oe[0],M=(0,A.useIntl)(),z=H.editFormVisible,r=H.userInfo,se=H.setEditFormVisible,ae=H.tableActionRef,ie=function(){var s=O()(a()().mark(function m(E){var T,U,f,N,p,V,ne;return a()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return T=E.password,U=S()(E,$),f=d()(d()({},U),{},{status:(r==null?void 0:r.status)||"valid"}),r.id&&(f.id=r==null?void 0:r.id),(0,x.isEmpty)(T)||(f.password=T),N=r.id?i.updateUser:i.createUser,k.next=7,N(f);case 7:p=k.sent,(p.msg==="success"||[200].includes(p.code))&&(r!=null&&r.id?te.success(M.formatMessage({id:"common.message.text.edit.success"})):te.success(M.formatMessage({id:"common.message.text.create.success"})),se(!1),(V=ae.current)===null||V===void 0||(ne=V.reloadAndRest)===null||ne===void 0||ne.call(V));case 9:case"end":return k.stop()}},m)}));return function(E){return s.apply(this,arguments)}}();(0,c.useEffect)(function(){z&&!(0,x.isEmpty)(r)&&J.setFieldsValue(d()({},r))},[z,r]);var D=function(){J.resetFields()},C=function(){se(!1),D()};return(0,t.jsxs)(t.Fragment,{children:[l,(0,t.jsxs)(K.Y,{title:r!=null&&r.id?M.formatMessage({id:"user.extend.title.edit"}):M.formatMessage({id:"user.extend.title.add"}),width:560,form:J,modalProps:{destroyOnClose:!0,onCancel:function(){return C()},styles:{body:{paddingTop:12}}},labelCol:{span:M.locale==="en-US"?6:4},wrapperCol:{span:M.locale==="en-US"?18:20},layout:"horizontal",open:z,onFinish:ie,children:[(0,t.jsx)(I.Z,{name:"userId",label:M.formatMessage({id:"user.module.title.user.id"}),rules:[{required:!0,message:M.formatMessage({id:"user.extend.userId.message"}),pattern:/^[a-zA-Z0-9_]{5,24}$/}],placeholder:M.formatMessage({id:"user.extend.userId.placeholder"}),fieldProps:{disabled:!!(r!=null&&r.id)}}),(0,t.jsx)(I.Z.Password,{name:"password",label:M.formatMessage({id:"user.module.title.user.password"}),rules:[{required:!(r!=null&&r.id)}]}),(0,t.jsx)(I.Z,{name:"username",label:M.formatMessage({id:"user.module.title.user.name"}),rules:[{required:!0}]}),(0,t.jsx)(g.Z.Group,{name:"roleName",label:M.formatMessage({id:"user.module.title.user.role"}),rules:[{required:!0}],initialValue:"user",options:v.QQ})]})]})},L=G,X=e(29448),b=e(39380),P=e(90498),q=e(83062),re=e(83622),le=e(96074),ue=e(86738),ce=e(72269),me=e(54811),ve=e(87547),fe=e(86548),pe=e(48689),ge=function(){var H=o.ZP.useMessage(),ee=h()(H,2),w=ee[0],te=ee[1],l=(0,A.useIntl)(),Q=(0,c.useRef)(),oe=(0,c.useState)(!1),J=h()(oe,2),M=J[0],z=J[1],r=(0,c.useRef)({}),se=function(){var D=O()(a()().mark(function C(s,m){var E,T,U,f;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return E={id:s,status:m},p.next=3,(0,i.changeUserStatus)(E);case 3:T=p.sent,(T.code===200||T.msg==="success")&&(w.success(l.formatMessage({id:"common.message.text.edit.success"})),(U=Q.current)===null||U===void 0||(f=U.reloadAndRest)===null||f===void 0||f.call(U));case 5:case"end":return p.stop()}},C)}));return function(s,m){return D.apply(this,arguments)}}(),ae=function(){var D=O()(a()().mark(function C(s){var m,E,T;return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,i.deleteUser)({userId:s});case 2:m=f.sent,(m.code===200||m.msg==="success")&&(w.success(l.formatMessage({id:"common.message.text.delete.success"})),(E=Q.current)===null||E===void 0||(T=E.reloadAndRest)===null||T===void 0||T.call(E));case 4:case"end":return f.stop()}},C)}));return function(s){return D.apply(this,arguments)}}(),ie=[{title:l.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(C,s){return(0,t.jsxs)("div",{children:[(0,t.jsx)("section",{style:{color:"#999"},children:(s==null?void 0:s.gmtCreate)||"-"}),(0,t.jsx)("section",{style:{color:"#999"},children:(s==null?void 0:s.gmtModified)||"-"})]})}},{title:l.formatMessage({id:"user.module.title.user.name"}),dataIndex:"username",valueType:"text",align:"center"},{title:l.formatMessage({id:"user.module.title.user.id"}),dataIndex:"userId",valueType:"text",align:"center"},{title:l.formatMessage({id:"user.module.title.user.role"}),dataIndex:"roleName",valueType:"select",hideInSearch:!0,align:"center",valueEnum:(0,X.W_)(v.QQ),render:function(C,s){var m=s.roleName==="admin";return(0,t.jsx)(q.Z,{title:l.formatMessage({id:m?"common.tag.text.admin":"common.tag.text.user"}),children:m?(0,t.jsx)(me.Z,{style:{color:"#faad14",fontSize:"16px"}}):(0,t.jsx)(ve.Z,{style:{color:"#1890ff",fontSize:"16px"}})})}},{title:l.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",render:function(C,s){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q.Z,{title:l.formatMessage({id:"common.button.text.edit"}),children:(0,t.jsx)(re.ZP,{size:"small",type:"link",icon:(0,t.jsx)(fe.Z,{}),onClick:function(){z(!0),r.current=d()({},s)}})}),(0,t.jsx)(le.Z,{type:"vertical"}),(0,t.jsx)(ue.Z,{title:l.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return ae(s.userId)},okText:l.formatMessage({id:"common.button.text.ok"}),cancelText:l.formatMessage({id:"common.button.text.cancel"}),children:(0,t.jsx)(q.Z,{title:l.formatMessage({id:"common.button.text.delete"}),children:(0,t.jsx)(re.ZP,{type:"link",danger:!0,size:"small",icon:(0,t.jsx)(pe.Z,{})})})}),(0,t.jsx)(le.Z,{type:"vertical",style:{margin:"0 12px 0 0"}}),(0,t.jsx)(q.Z,{title:l.formatMessage({id:"user.module.title.user.status"}),children:(0,t.jsx)(ce.Z,{checkedChildren:l.formatMessage({id:"common.button.text.normal"}),unCheckedChildren:l.formatMessage({id:"common.button.text.disable"}),checked:(s==null?void 0:s.status)==="valid",onClick:function(){return se(s.id,(s==null?void 0:s.status)==="valid"?"invalid":"valid")}})})]})}}];return(0,t.jsxs)(b._z,{ghost:!0,title:!1,breadcrumbRender:!1,children:[te,(0,t.jsx)(P.Z,{headerTitle:(0,t.jsx)("div",{className:j.Z.customTitle,children:l.formatMessage({id:"user.module.title.user.inquiry"})}),actionRef:Q,rowKey:"id",search:{span:6,defaultCollapsed:!1,collapseRender:!1,labelWidth:0},toolBarRender:function(){return[(0,t.jsx)(re.ZP,{type:"primary",onClick:function(){r.current={},z(!0)},children:l.formatMessage({id:"user.extend.text.add"})},"create")]},request:function(){var D=O()(a()().mark(function C(s){var m,E,T,U,f,N,p,V;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return m=s.username,E=s.userId,T=s.pageSize,U=s.current,f={username:m,userId:E,page:U,size:T},_.next=4,(0,i.queryUserList)(f);case 4:return N=_.sent,p=N.content,V=N.code,_.abrupt("return",{data:(p==null?void 0:p.data)||[],total:(p==null?void 0:p.total)||0,success:V===200||!1});case 8:case"end":return _.stop()}},C)}));return function(C){return D.apply(this,arguments)}}(),columns:ie,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1}}),(0,t.jsx)(L,{editFormVisible:M,setEditFormVisible:z,userInfo:r.current,tableActionRef:Q})]})},Pe=function(){return(0,t.jsx)(u.Z,{accessKey:"isPlatformAdmin",children:(0,t.jsx)(ge,{})})},he=Pe},53846:function(Y,y){y.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}}}]);
