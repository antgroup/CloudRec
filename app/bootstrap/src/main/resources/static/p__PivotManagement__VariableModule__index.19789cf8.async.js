(self.webpackChunk=self.webpackChunk||[]).push([[7959],{5966:function(F,j,e){"use strict";var h=e(97685),a=e(1413),v=e(91),u=e(21770),V=e(23323),y=e(55241),z=e(98423),C=e(62435),E=e(10354),d=e(86074),L=["fieldProps","proFieldProps"],$=["fieldProps","proFieldProps"],S="text",c=function(r){var n=r.fieldProps,i=r.proFieldProps,p=(0,v.Z)(r,L);return(0,d.jsx)(E.Z,(0,a.Z)({valueType:S,fieldProps:n,filedConfig:{valueType:S},proFieldProps:i},p))},N=function(r){var n=(0,u.Z)(r.open||!1,{value:r.open,onChange:r.onOpenChange}),i=(0,h.Z)(n,2),p=i[0],o=i[1];return(0,d.jsx)(V.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(x){var s,g=x.getFieldValue(r.name||[]);return(0,d.jsx)(y.Z,(0,a.Z)((0,a.Z)({getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},onOpenChange:function(t){return o(t)},content:(0,d.jsxs)("div",{style:{padding:"4px 0"},children:[(s=r.statusRender)===null||s===void 0?void 0:s.call(r,g),r.strengthText?(0,d.jsx)("div",{style:{marginTop:10},children:(0,d.jsx)("span",{children:r.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},r.popoverProps),{},{open:p,children:r.children}))}})},O=function(r){var n=r.fieldProps,i=r.proFieldProps,p=(0,v.Z)(r,$),o=(0,C.useState)(!1),m=(0,h.Z)(o,2),x=m[0],s=m[1];return n!=null&&n.statusRender&&p.name?(0,d.jsx)(N,{name:p.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:x,onOpenChange:s,children:(0,d.jsx)("div",{children:(0,d.jsx)(E.Z,(0,a.Z)({valueType:"password",fieldProps:(0,a.Z)((0,a.Z)({},(0,z.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var t;n==null||(t=n.onBlur)===null||t===void 0||t.call(n,A),s(!1)},onClick:function(A){var t;n==null||(t=n.onClick)===null||t===void 0||t.call(n,A),s(!0)}}),proFieldProps:i,filedConfig:{valueType:S}},p))})}):(0,d.jsx)(E.Z,(0,a.Z)({valueType:"password",fieldProps:n,proFieldProps:i,filedConfig:{valueType:S}},p))},Z=c;Z.Password=O,Z.displayName="ProFormComponent",j.Z=Z},52078:function(F,j,e){"use strict";var h=e(97857),a=e.n(h),v=e(27997),u=e(62435),V=e(86074),y=function(C){v.Mj.register({id:"json"});var E=C.value,d=E===void 0?"{}":E,L=C.onChange,$=C.editorStyle,S=$===void 0?{}:$,c=C.editorKey,N=c===void 0?"json-editor":c,O=C.readOnly,Z=O===void 0?!1:O,T=(0,u.useRef)(),r=(0,u.useRef)(),n=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}";try{return JSON.parse(p),p}catch(o){return console.warn("Invalid JSON string:",o),"{}"}};return(0,u.useEffect)(function(){if(T.current)return r.current?r.current.setValue(d):(r.current=v.j6.create(T.current,{value:n(d),language:"json",theme:"vs",readOnly:Z,folding:!0,automaticLayout:!0}),r.current.onDidChangeModelContent(function(){var i=r.current.getValue();console.log("[JSONEditor] \u7F16\u8F91\u5668\u5185\u5BB9\u53D8\u66F4:",{newValue:i}),L==null||L(i)})),function(){if(r!=null&&r.current){var i;r==null||(i=r.current)===null||i===void 0||i.dispose(),r.current=null}}},[]),(0,u.useEffect)(function(){r.current&&d!==r.current.getValue()&&r.current.setValue(n(d))},[d]),(0,V.jsx)("div",{ref:T,style:a()({height:360,borderRadius:4,overflow:"hidden"},S)},N)};j.Z=y},29297:function(F,j,e){"use strict";e.d(j,{q9:function(){return h.Z},Wy:function(){return C},mi:function(){return $}});var h=e(52078),a=e(97857),v=e.n(a),u=e(55171),V=e.n(u),y=e(86074),z=function(c){var N=c.value,O=c.viewerStyle,Z=O===void 0?{}:O,T=c.displayDataTypes,r=T===void 0?!1:T,n=c.name,i=n===void 0?"output json":n;return(0,y.jsx)(V(),{src:N,name:i,collapsed:!1,displayDataTypes:r,style:v()({height:360,padding:12,overflow:"scroll",borderRadius:4,background:"#FFF"},Z)})},C=z,E=e(27997),d=e(62435),L=function(c){E.Mj.register({id:"rego"});var N=c.value,O=c.onChange,Z=c.editorStyle,T=Z===void 0?{}:Z,r=c.editorKey,n=c.readOnly,i=n===void 0?!1:n,p=(0,d.useRef)(),o=(0,d.useRef)();return(0,d.useEffect)(function(){if(p.current)return o.current||(o.current=E.j6.create(p.current,{value:N,language:"rego",theme:"vs",readOnly:i,automaticLayout:!0}),o.current.onDidChangeModelContent(function(){O==null||O(o.current.getValue())})),function(){if(o.current){var m;(m=o.current)===null||m===void 0||m.dispose(),o.current=null}}},[]),(0,y.jsx)("div",{ref:p,style:v()({width:"100%",height:760,borderRadius:4,overflow:"hidden"},T)},r)},$=L},55541:function(F,j,e){"use strict";e.r(j),e.d(j,{default:function(){return te}});var h=e(97857),a=e.n(h),v=e(15009),u=e.n(v),V=e(99289),y=e.n(V),z=e(5574),C=e.n(z),E=e(53846),d=e(61713),L=e(39380),$=e(70989),S=e(92016),c=e(68872),N=e(83622),O=e(96074),Z=e(86738),T=e(26058),r=e(96486),n=e(62435),i=e(49677),p=e.n(i),o=e(29297),m=e(45605),x=e(37476),s=e(5966),g=e(23323),A=e(83062),t=e(86074),q=function(W){var w=c.ZP.useMessage(),X=C()(w,2),k=X[0],ne=X[1],U=g.Z.useForm(),ae=C()(U,1),Q=ae[0],P=(0,S.useIntl)(),f=W.editFormVisible,M=W.globalVariableConfigInfo,_=W.setEditFormVisible,I=W.tableActionRef,b=(0,n.useState)("{}"),l=C()(b,2),R=l[0],B=l[1],K=function(Y){B(Y)},oe=function(){var D=y()(u()().mark(function Y(de){var H,ue,fe,le,ce;return u()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return H=a()(a()({},de),{},{data:R}),ue=a()({},H),M.id&&(ue.id=M.id),ie.next=5,(0,d.saveGlobalVariableConfig)(ue);case 5:fe=ie.sent,fe.msg==="success"&&(M.id?k.success(P.formatMessage({id:"common.message.text.edit.success"})):k.success(P.formatMessage({id:"common.message.text.create.success"})),_(!1),(le=I.current)===null||le===void 0||(ce=le.reloadAndRest)===null||ce===void 0||ce.call(le));case 7:case"end":return ie.stop()}},Y)}));return function(de){return D.apply(this,arguments)}}();(0,n.useEffect)(function(){if(f&&!(0,r.isEmpty)(M)&&M.id){var D=Object.assign({},(p()(M),M));Q.setFieldsValue(a()({},D)),B(M.data)}},[f,M]);var J=function(){Q.resetFields()},se=function(){_(!1),J()};return(0,t.jsxs)(t.Fragment,{children:[ne,(0,t.jsxs)(x.Y,{labelCol:{span:P.locale==="en-US"?5:4},wrapperCol:{span:P.locale==="en-US"?19:20},title:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("span",{style:{marginRight:4},children:M.id?P.formatMessage({id:"variable.extend.title.edit"}):P.formatMessage({id:"variable.extend.title.add"})})}),width:640,form:Q,modalProps:{destroyOnClose:!0,onCancel:function(){return se()},styles:{body:{paddingTop:12}}},open:f,onFinish:oe,layout:"horizontal",children:[(0,t.jsx)(s.Z,{name:"name",label:P.formatMessage({id:"rule.module.text.variable.name"}),rules:[{required:!0}],placeholder:P.formatMessage({id:"variable.input.name.text.placeholder"})}),(0,t.jsx)(s.Z,{disabled:!!M.id,name:"path",label:P.formatMessage({id:"rule.module.text.variable.path"}),rules:[{required:!0}],placeholder:P.formatMessage({id:"variable.input.path.text.placeholder"}),fieldProps:{suffix:!!M.id&&(0,t.jsx)(A.Z,{title:P.formatMessage({id:"variable.input.path.suffix.tip"}),children:(0,t.jsx)(m.Z,{style:{color:"rgba(0, 0, 0, .45)"}})})}}),(0,t.jsx)(s.Z,{name:"data",label:P.formatMessage({id:"rule.module.text.variable.value"}),valuePropName:"data",children:(0,t.jsx)(o.q9,{value:R,onChange:K,editorStyle:{height:"420px"},editorKey:"inputEditor"})})]})]})},G=q,ee=function(){var W=(0,n.useRef)(),w=(0,n.useRef)({}),X=(0,n.useState)(!1),k=C()(X,2),ne=k[0],U=k[1],ae=c.ZP.useMessage(),Q=C()(ae,1),P=Q[0],f=(0,S.useIntl)(),M=function(){var I=y()(u()().mark(function b(l){var R,B,K;return u()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(0,d.deleteGlobalVariableConfig)({id:l});case 2:R=J.sent,(R.code===200||R.msg==="success")&&(P.success(f.formatMessage({id:"common.message.text.delete.success"})),(B=W.current)===null||B===void 0||(K=B.reloadAndRest)===null||K===void 0||K.call(B));case 4:case"end":return J.stop()}},b)}));return function(l){return I.apply(this,arguments)}}(),_=[{title:f.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(b,l){return(0,t.jsxs)("div",{children:[(0,t.jsx)("section",{style:{color:"#999"},children:(l==null?void 0:l.gmtCreate)||"-"}),(0,t.jsx)("section",{style:{color:"#999"},children:(l==null?void 0:l.gmtModified)||"-"})]})}},{title:f.formatMessage({id:"rule.module.text.variable.name"}),dataIndex:"name",valueType:"text",align:"left",width:240},{title:f.formatMessage({id:"rule.module.text.variable.path"}),dataIndex:"path",valueType:"text",align:"center"},{title:f.formatMessage({id:"rule.module.text.reference.rules"}),dataIndex:"ruleNameList",key:"ruleNameList",hideInSearch:!0,render:function(b,l){var R;return(0,t.jsx)(t.Fragment,{children:(0,r.isEmpty)(l==null?void 0:l.ruleNameList)?"-":(0,t.jsx)("ul",{style:{paddingInlineStart:16},children:(R=l.ruleNameList)===null||R===void 0?void 0:R.map(function(B,K){return(0,t.jsx)("li",{children:B},K)})})})}},{title:f.formatMessage({id:"rule.input.text.rule.group.creator"}),dataIndex:"username",valueType:"text",align:"left",width:200,hideInSearch:!0},{title:f.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",render:function(b,l){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.ZP,{size:"small",type:"link",onClick:function(){U(!0),w.current=a()({},l)},children:f.formatMessage({id:"common.button.text.edit"})}),(0,t.jsx)(O.Z,{type:"vertical"}),(0,t.jsx)(Z.Z,{title:f.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return M(l.id)},okText:f.formatMessage({id:"common.button.text.ok"}),cancelText:f.formatMessage({id:"common.button.text.cancel"}),children:(0,t.jsx)(N.ZP,{type:"link",danger:!0,size:"small",children:f.formatMessage({id:"common.button.text.delete"})})})]})}}];return(0,t.jsxs)(T.Z,{children:[(0,t.jsx)(L._z,{ghost:!0,title:!1,breadcrumbRender:!1,children:(0,t.jsx)($.Z,{headerTitle:(0,t.jsx)("div",{className:E.Z.customTitle,children:f.formatMessage({id:"variable.module.text.variable.inquiry"})}),actionRef:W,rowKey:"id",search:{span:6,defaultCollapsed:!1,collapseRender:!1,labelWidth:0},request:function(){var I=y()(u()().mark(function b(l){var R,B,K,oe,J,se,D,Y;return u()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return R=l.name,B=l.path,K=l.current,oe=l.pageSize,J={name:R,path:B,page:K,size:oe},H.next=4,(0,d.listGlobalVariableConfig)(J);case 4:return se=H.sent,D=se.content,Y=se.code,H.abrupt("return",{data:(D==null?void 0:D.data)||[],total:(D==null?void 0:D.total)||0,success:Y===200||!1});case 8:case"end":return H.stop()}},b)}));return function(b){return I.apply(this,arguments)}}(),columns:_,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1},options:!1,toolBarRender:function(){return[(0,t.jsx)(N.ZP,{type:"primary",onClick:function(){U(!0),w.current={}},children:f.formatMessage({id:"variable.extend.text.add"})},"create"),(0,t.jsx)(N.ZP,{href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/ty6iu889dp3dgiws",target:"_blank",style:{border:"1px solid #457aff",color:"#457aff",padding:"4px 10px",backgroundColor:"transparent"},children:f.formatMessage({id:"variable.extend.text.config"})},"config")]}})}),(0,t.jsx)(G,{editFormVisible:ne,setEditFormVisible:U,globalVariableConfigInfo:w.current,tableActionRef:W})]})},te=ee},53846:function(F,j){"use strict";j.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}},26058:function(F,j,e){"use strict";e.d(j,{Z:function(){return p}});var h=e(74902),a=e(62435),v=e(93967),u=e.n(v),V=e(98423),y=e(53124),z=e(82401),C=e(50344),E=e(23342);function d(o,m,x){return typeof x=="boolean"?x:o.length?!0:(0,C.Z)(m).some(g=>g.type===E.Z)}var L=e(24793),$=function(o,m){var x={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&m.indexOf(s)<0&&(x[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,s=Object.getOwnPropertySymbols(o);g<s.length;g++)m.indexOf(s[g])<0&&Object.prototype.propertyIsEnumerable.call(o,s[g])&&(x[s[g]]=o[s[g]]);return x};function S({suffixCls:o,tagName:m,displayName:x}){return s=>a.forwardRef((A,t)=>a.createElement(s,Object.assign({ref:t,suffixCls:o,tagName:m},A)))}const c=a.forwardRef((o,m)=>{const{prefixCls:x,suffixCls:s,className:g,tagName:A}=o,t=$(o,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:q}=a.useContext(y.E_),G=q("layout",x),[ee,te,re]=(0,L.ZP)(G),W=s?`${G}-${s}`:G;return ee(a.createElement(A,Object.assign({className:u()(x||W,g,te,re),ref:m},t)))}),N=a.forwardRef((o,m)=>{const{direction:x}=a.useContext(y.E_),[s,g]=a.useState([]),{prefixCls:A,className:t,rootClassName:q,children:G,hasSider:ee,tagName:te,style:re}=o,W=$(o,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),w=(0,V.Z)(W,["suffixCls"]),{getPrefixCls:X,className:k,style:ne}=(0,y.dj)("layout"),U=X("layout",A),ae=d(s,G,ee),[Q,P,f]=(0,L.ZP)(U),M=u()(U,{[`${U}-has-sider`]:ae,[`${U}-rtl`]:x==="rtl"},k,t,q,P,f),_=a.useMemo(()=>({siderHook:{addSider:I=>{g(b=>[].concat((0,h.Z)(b),[I]))},removeSider:I=>{g(b=>b.filter(l=>l!==I))}}}),[]);return Q(a.createElement(z.V.Provider,{value:_},a.createElement(te,Object.assign({ref:m,className:M,style:Object.assign(Object.assign({},ne),re)},w),G)))}),O=S({tagName:"div",displayName:"Layout"})(N),Z=S({suffixCls:"header",tagName:"header",displayName:"Header"})(c),T=S({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(c),r=S({suffixCls:"content",tagName:"main",displayName:"Content"})(c);var n=O;const i=n;i.Header=Z,i.Footer=T,i.Content=r,i.Sider=E.Z,i._InternalSiderContext=E.D;var p=i},85674:function(F,j,e){var h={"./simpleWorker":18352,"./simpleWorker.js":18352};function a(v){return Promise.resolve().then(function(){if(!e.o(h,v)){var u=new Error("Cannot find module '"+v+"'");throw u.code="MODULE_NOT_FOUND",u}var V=h[v];return e(V)})}a.keys=function(){return Object.keys(h)},a.id=85674,F.exports=a},10131:function(F,j,e){var h={"./editorBaseApi":[20927],"./editorBaseApi.js":[20927],"./editorSimpleWorker":[81465],"./editorSimpleWorker.js":[81465],"./editorWorker":[85215],"./editorWorker.js":[85215],"./editorWorkerHost":[98008],"./editorWorkerHost.js":[98008],"./findSectionHeaders":[72846],"./findSectionHeaders.js":[72846],"./getIconClasses":[22016],"./getIconClasses.js":[22016],"./languageFeatureDebounce":[88191],"./languageFeatureDebounce.js":[88191],"./languageFeatures":[71922],"./languageFeatures.js":[71922],"./languageFeaturesService":[7421],"./languageFeaturesService.js":[7421],"./languageService":[81032],"./languageService.js":[81032],"./languagesAssociations":[73536],"./languagesAssociations.js":[73536],"./languagesRegistry":[4765],"./languagesRegistry.js":[4765],"./markerDecorations":[36357],"./markerDecorations.js":[36357],"./markerDecorationsService":[86036],"./markerDecorationsService.js":[86036],"./model":[73733],"./model.js":[73733],"./modelService":[51200],"./modelService.js":[51200],"./resolverService":[88216],"./resolverService.js":[88216],"./semanticTokensDto":[14704],"./semanticTokensDto.js":[14704],"./semanticTokensProviderStyling":[92294],"./semanticTokensProviderStyling.js":[92294],"./semanticTokensStyling":[73343],"./semanticTokensStyling.js":[73343],"./semanticTokensStylingService":[84146],"./semanticTokensStylingService.js":[84146],"./textModelSync/textModelSync.impl":[28944],"./textModelSync/textModelSync.impl.js":[28944],"./textModelSync/textModelSync.protocol":[23145,3145],"./textModelSync/textModelSync.protocol.js":[23145,3145],"./textResourceConfiguration":[71765],"./textResourceConfiguration.js":[71765],"./treeSitterParserService":[28922],"./treeSitterParserService.js":[28922],"./treeViewsDnd":[80642],"./treeViewsDnd.js":[80642],"./treeViewsDndService":[58345],"./treeViewsDndService.js":[58345],"./unicodeTextModelHighlighter":[31446],"./unicodeTextModelHighlighter.js":[31446]};function a(v){if(!e.o(h,v))return Promise.resolve().then(function(){var y=new Error("Cannot find module '"+v+"'");throw y.code="MODULE_NOT_FOUND",y});var u=h[v],V=u[0];return Promise.all(u.slice(1).map(e.e)).then(function(){return e(V)})}a.keys=function(){return Object.keys(h)},a.id=10131,F.exports=a},49677:function(F){function j(e){if(e==null)throw new TypeError("Cannot destructure "+e)}F.exports=j,F.exports.__esModule=!0,F.exports.default=F.exports}}]);
