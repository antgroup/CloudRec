(self.webpackChunk=self.webpackChunk||[]).push([[9998],{82826:function(me,Z,t){"use strict";t.d(Z,{Z:function(){return i}});var f=t(87462),d=t(62435),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},x=A,z=t(84089),o=function(E,b){return d.createElement(z.Z,(0,f.Z)({},E,{ref:b,icon:x}))},ae=d.forwardRef(o),i=ae},58638:function(me,Z,t){"use strict";t.d(Z,{Z:function(){return i}});var f=t(87462),d=t(62435),A={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},x=A,z=t(84089),o=function(E,b){return d.createElement(z.Z,(0,f.Z)({},E,{ref:b,icon:x}))},ae=d.forwardRef(o),i=ae},86615:function(me,Z,t){"use strict";var f=t(1413),d=t(91),A=t(22270),x=t(78045),z=t(62435),o=t(90789),ae=t(10354),i=t(86074),c=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],E=z.forwardRef(function(h,$){var R=h.fieldProps,N=h.options,O=h.radioType,m=h.layout,I=h.proFieldProps,w=h.valueEnum,ne=(0,d.Z)(h,c);return(0,i.jsx)(ae.Z,(0,f.Z)((0,f.Z)({valueType:O==="button"?"radioButton":"radio",ref:$,valueEnum:(0,A.h)(w,void 0)},ne),{},{fieldProps:(0,f.Z)({options:N,layout:m},R),proFieldProps:I,filedConfig:{customLightMode:!0}}))}),b=z.forwardRef(function(h,$){var R=h.fieldProps,N=h.children;return(0,i.jsx)(x.ZP,(0,f.Z)((0,f.Z)({},R),{},{ref:$,children:N}))}),Q=(0,o.G)(b,{valuePropName:"checked",ignoreWidth:!0}),G=Q;G.Group=E,G.Button=x.ZP.Button,G.displayName="ProFormComponent",Z.Z=G},91618:function(me,Z,t){"use strict";t.d(Z,{Z:function(){return Ge}});var f=t(62435),d=Object.defineProperty,A=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,o=(j,p,r)=>p in j?d(j,p,{enumerable:!0,configurable:!0,writable:!0,value:r}):j[p]=r,ae=(j,p)=>{for(var r in p||(p={}))x.call(p,r)&&o(j,r,p[r]);if(A)for(var r of A(p))z.call(p,r)&&o(j,r,p[r]);return j};const i=j=>React.createElement("svg",ae({width:8,height:8,xmlns:"http://www.w3.org/2000/svg"},j),React.createElement("title",null,"\u5931\u8D25"),React.createElement("path",{d:"M4 0a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm-.81 2.784a.287.287 0 1 0-.406.405l.81.811-.81.81a.287.287 0 1 0 .405.406L4 4.406l.81.81a.287.287 0 1 0 .406-.405L4.406 4l.81-.81a.287.287 0 1 0-.405-.406L4 3.594l-.81-.81Z",fill:"#FF3931",fillRule:"nonzero"}));var c="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik00IDBhNCA0IDAgMSAxIDAgOCA0IDQgMCAwIDEgMC04Wm0tLjgxIDIuNzg0YS4yODcuMjg3IDAgMSAwLS40MDYuNDA1bC44MS44MTEtLjgxLjgxYS4yODcuMjg3IDAgMSAwIC40MDUuNDA2TDQgNC40MDZsLjgxLjgxYS4yODcuMjg3IDAgMSAwIC40MDYtLjQwNUw0LjQwNiA0bC44MS0uODFhLjI4Ny4yODcgMCAxIDAtLjQwNS0uNDA2TDQgMy41OTRsLS44MS0uODFaIiBmaWxsPSIjRkYzOTMxIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=",E=Object.defineProperty,b=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,h=(j,p,r)=>p in j?E(j,p,{enumerable:!0,configurable:!0,writable:!0,value:r}):j[p]=r,$=(j,p)=>{for(var r in p||(p={}))Q.call(p,r)&&h(j,r,p[r]);if(b)for(var r of b(p))G.call(p,r)&&h(j,r,p[r]);return j};const R=j=>React.createElement("svg",$({width:8,height:8,xmlns:"http://www.w3.org/2000/svg"},j),React.createElement("title",null,"\u901A\u8FC7"),React.createElement("path",{d:"M4 0a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm1.712 2.788a.3.3 0 0 0-.424 0L3.502 4.576l-.79-.787a.3.3 0 0 0-.424.425l1.003.999a.3.3 0 0 0 .424-.001l1.997-2a.3.3 0 0 0 0-.424Z",fill:"#379E0E",fillRule:"nonzero"}));var N="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik00IDBhNCA0IDAgMSAxIDAgOCA0IDQgMCAwIDEgMC04Wm0xLjcxMiAyLjc4OGEuMy4zIDAgMCAwLS40MjQgMEwzLjUwMiA0LjU3NmwtLjc5LS43ODdhLjMuMyAwIDAgMC0uNDI0LjQyNWwxLjAwMy45OTlhLjMuMyAwIDAgMCAuNDI0LS4wMDFsMS45OTctMmEuMy4zIDAgMCAwIDAtLjQyNFoiIGZpbGw9IiMzNzlFMEUiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==",O=Object.defineProperty,m=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,ne=(j,p,r)=>p in j?O(j,p,{enumerable:!0,configurable:!0,writable:!0,value:r}):j[p]=r,H=(j,p)=>{for(var r in p||(p={}))I.call(p,r)&&ne(j,r,p[r]);if(m)for(var r of m(p))w.call(p,r)&&ne(j,r,p[r]);return j};const Ne=j=>React.createElement("svg",H({width:8,height:8,xmlns:"http://www.w3.org/2000/svg"},j),React.createElement("title",null,"\u5F85\u64CD\u4F5C"),React.createElement("g",{fillRule:"nonzero",fill:"none"},React.createElement("path",{d:"M4 0a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z",fill:"#FFB310"}),React.createElement("path",{d:"M3.775 2.412a.287.287 0 1 0-.573 0v1.71c0 .316.257.573.573.573h1.718a.287.287 0 1 0 0-.573H3.775v-1.71Z",fill:"#FFF1D4"})));var Qe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PHBhdGggZD0iTTQgMGE0IDQgMCAxIDEgMCA4IDQgNCAwIDAgMSAwLThaIiBmaWxsPSIjRkZCMzEwIi8+PHBhdGggZD0iTTMuNzc1IDIuNDEyYS4yODcuMjg3IDAgMSAwLS41NzMgMHYxLjcxYzAgLjMxNi4yNTcuNTczLjU3My41NzNoMS43MThhLjI4Ny4yODcgMCAxIDAgMC0uNTczSDMuNzc1di0xLjcxWiIgZmlsbD0iI0ZGRjFENCIvPjwvZz48L3N2Zz4=",J=t(66309),Me=t(53846),ye=t(86074),Ge=function(j){var p=j.state,r=(0,ye.jsx)(J.Z,{children:p||"-"});return["success","valid"].includes(p)?r=(0,ye.jsxs)(J.Z,{className:Me.Z.validTag,children:[(0,ye.jsx)("img",{src:N,alt:"VALID_ICON",className:Me.Z.imgResult}),"Valid"]}):["error","invalid","failed"].includes(p)?r=(0,ye.jsxs)(J.Z,{className:Me.Z.invalidTag,children:[(0,ye.jsx)("img",{src:c,alt:"VALID_ICON",className:Me.Z.imgResult}),"Invalid"]}):["waiting","wait"].includes(p)&&(r=(0,ye.jsxs)(J.Z,{className:Me.Z.waitingTag,children:[(0,ye.jsx)("img",{src:Qe,alt:"WAITING_ICON",className:Me.Z.imgProcess}),"Waiting"]})),r}},24163:function(me,Z,t){"use strict";var f=t(97857),d=t.n(f),A=t(25593),x=t(83062),z=t(62435),o=t(86074),ae=A.Z.Paragraph;Z.Z=function(i){var c=i.text,E=i.width,b=i.maxWidth,Q=i.rows,G=Q===void 0?2:Q,h=i.placement,$=h===void 0?"top":h,R=i.color,N=R===void 0?"rgba(0, 0, 0, 0.88)":R,O=i.link,m=O===void 0?!1:O,I=i.onClickCallBackFunc,w=i.style,ne=w===void 0?{}:w,H=i.copyable,Ne=H===void 0?!1:H;return(0,o.jsx)("div",{style:{maxWidth:b,width:E},children:(0,o.jsx)(x.Z,{title:(0,o.jsx)("div",{children:c}),placement:$,children:(0,o.jsx)(ae,{ellipsis:{rows:G},style:d()({marginBottom:0,color:N,cursor:m?"pointer":""},ne),onClick:I,copyable:Ne,children:c})})})}},52078:function(me,Z,t){"use strict";var f=t(97857),d=t.n(f),A=t(27997),x=t(62435),z=t(86074),o=function(i){A.Mj.register({id:"json"});var c=i.value,E=c===void 0?"{}":c,b=i.onChange,Q=i.editorStyle,G=Q===void 0?{}:Q,h=i.editorKey,$=h===void 0?"json-editor":h,R=i.readOnly,N=R===void 0?!1:R,O=(0,x.useRef)(),m=(0,x.useRef)(),I=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}";try{return JSON.parse(ne),ne}catch(H){return console.warn("Invalid JSON string:",H),"{}"}};return(0,x.useEffect)(function(){if(O.current)return m.current?m.current.setValue(E):(m.current=A.j6.create(O.current,{value:I(E),language:"json",theme:"vs",readOnly:N,folding:!0,automaticLayout:!0}),m.current.onDidChangeModelContent(function(){var w=m.current.getValue();console.log("[JSONEditor] \u7F16\u8F91\u5668\u5185\u5BB9\u53D8\u66F4:",{newValue:w}),b==null||b(w)})),function(){if(m!=null&&m.current){var w;m==null||(w=m.current)===null||w===void 0||w.dispose(),m.current=null}}},[]),(0,x.useEffect)(function(){m.current&&E!==m.current.getValue()&&m.current.setValue(I(E))},[E]),(0,z.jsx)("div",{ref:O,style:d()({height:360,borderRadius:4,overflow:"hidden"},G)},$)};Z.Z=o},29297:function(me,Z,t){"use strict";t.d(Z,{q9:function(){return f.Z},Wy:function(){return i},mi:function(){return Q}});var f=t(52078),d=t(97857),A=t.n(d),x=t(55171),z=t.n(x),o=t(86074),ae=function(h){var $=h.value,R=h.viewerStyle,N=R===void 0?{}:R,O=h.displayDataTypes,m=O===void 0?!1:O,I=h.name,w=I===void 0?"output json":I;return(0,o.jsx)(z(),{src:$,name:w,collapsed:!1,displayDataTypes:m,style:A()({height:360,padding:12,overflow:"scroll",borderRadius:4,background:"#FFF"},N)})},i=ae,c=t(27997),E=t(62435),b=function(h){c.Mj.register({id:"rego"});var $=h.value,R=h.onChange,N=h.editorStyle,O=N===void 0?{}:N,m=h.editorKey,I=h.readOnly,w=I===void 0?!1:I,ne=(0,E.useRef)(),H=(0,E.useRef)();return(0,E.useEffect)(function(){if(ne.current)return H.current||(H.current=c.j6.create(ne.current,{value:$,language:"rego",theme:"vs",readOnly:w,automaticLayout:!0}),H.current.onDidChangeModelContent(function(){R==null||R(H.current.getValue())})),function(){if(H.current){var Ne;(Ne=H.current)===null||Ne===void 0||Ne.dispose(),H.current=null}}},[]),(0,o.jsx)("div",{ref:ne,style:A()({width:"100%",height:760,borderRadius:4,overflow:"hidden"},O)},m)},Q=b},38575:function(me,Z,t){"use strict";t.r(Z),t.d(Z,{default:function(){return Nr}});var f=t(15009),d=t.n(f),A=t(99289),x=t.n(A),z=t(97857),o=t.n(z),ae=t(5574),i=t.n(ae),c=t(62435),E=Object.defineProperty,b=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,h=(S,u,y)=>u in S?E(S,u,{enumerable:!0,configurable:!0,writable:!0,value:y}):S[u]=y,$=(S,u)=>{for(var y in u||(u={}))Q.call(u,y)&&h(S,y,u[y]);if(b)for(var y of b(u))G.call(u,y)&&h(S,y,u[y]);return S};const R=S=>React.createElement("svg",$({width:12,height:12,xmlns:"http://www.w3.org/2000/svg"},S),React.createElement("title",null,"\u7F16\u7EC4"),React.createElement("g",{fill:"#457AFF",fillRule:"nonzero"},React.createElement("path",{d:"M7.445 11.998H1.983C.89 11.998 0 11.093 0 9.982V2.015C0 .905.89 0 1.983 0h5.129c1.093 0 1.983.904 1.983 2.015v3.943a.5.5 0 0 1-.495.503.5.5 0 0 1-.495-.503V2.015c0-.557-.445-1.008-.993-1.009H1.983c-.548 0-.992.452-.993 1.01v7.966c0 .557.445 1.009.993 1.01h5.462a.5.5 0 0 1 .495.502.5.5 0 0 1-.495.504Z"}),React.createElement("path",{d:"M6.704 3.042H2.391a.5.5 0 0 1-.495-.503.5.5 0 0 1 .495-.503h4.313a.5.5 0 0 1 .495.503.5.5 0 0 1-.495.503Zm0 1.811H2.391a.5.5 0 0 1-.495-.503.5.5 0 0 1 .495-.503h4.313a.5.5 0 0 1 .495.503.5.5 0 0 1-.495.503ZM4.543 6.664H2.39a.5.5 0 0 1-.495-.503.5.5 0 0 1 .495-.503h2.152a.5.5 0 0 1 .495.503.5.5 0 0 1-.495.503ZM7.628 8.84c0 .564.45 1.021 1.006 1.021.555 0 1.005-.457 1.005-1.022 0-.564-.45-1.021-1.005-1.021-.556 0-1.006.457-1.006 1.021Z"}),React.createElement("path",{d:"M9.61 12H7.61c-.497 0-.956-.27-1.205-.707l-1-1.759a1.438 1.438 0 0 1 0-1.414l1-1.758c.25-.437.708-.706 1.205-.707H9.61c.497 0 .956.27 1.205.707l1 1.758c.247.437.247.976 0 1.414l-1 1.76c-.25.436-.708.705-1.205.706ZM7.61 6.661a.402.402 0 0 0-.347.205l-1 1.757a.415.415 0 0 0 0 .408l1 1.759a.402.402 0 0 0 .347.204H9.61a.401.401 0 0 0 .347-.204l1-1.759a.415.415 0 0 0 0-.408l-1-1.757a.401.401 0 0 0-.347-.204L7.61 6.66Z"})));var N="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzQ1N0FGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNNy40NDUgMTEuOTk4SDEuOTgzQy44OSAxMS45OTggMCAxMS4wOTMgMCA5Ljk4MlYyLjAxNUMwIC45MDUuODkgMCAxLjk4MyAwaDUuMTI5YzEuMDkzIDAgMS45ODMuOTA0IDEuOTgzIDIuMDE1djMuOTQzYS41LjUgMCAwIDEtLjQ5NS41MDMuNS41IDAgMCAxLS40OTUtLjUwM1YyLjAxNWMwLS41NTctLjQ0NS0xLjAwOC0uOTkzLTEuMDA5SDEuOTgzYy0uNTQ4IDAtLjk5Mi40NTItLjk5MyAxLjAxdjcuOTY2YzAgLjU1Ny40NDUgMS4wMDkuOTkzIDEuMDFoNS40NjJhLjUuNSAwIDAgMSAuNDk1LjUwMi41LjUgMCAwIDEtLjQ5NS41MDRaIi8+PHBhdGggZD0iTTYuNzA0IDMuMDQySDIuMzkxYS41LjUgMCAwIDEtLjQ5NS0uNTAzLjUuNSAwIDAgMSAuNDk1LS41MDNoNC4zMTNhLjUuNSAwIDAgMSAuNDk1LjUwMy41LjUgMCAwIDEtLjQ5NS41MDNabTAgMS44MTFIMi4zOTFhLjUuNSAwIDAgMS0uNDk1LS41MDMuNS41IDAgMCAxIC40OTUtLjUwM2g0LjMxM2EuNS41IDAgMCAxIC40OTUuNTAzLjUuNSAwIDAgMS0uNDk1LjUwM1pNNC41NDMgNi42NjRIMi4zOWEuNS41IDAgMCAxLS40OTUtLjUwMy41LjUgMCAwIDEgLjQ5NS0uNTAzaDIuMTUyYS41LjUgMCAwIDEgLjQ5NS41MDMuNS41IDAgMCAxLS40OTUuNTAzWk03LjYyOCA4Ljg0YzAgLjU2NC40NSAxLjAyMSAxLjAwNiAxLjAyMS41NTUgMCAxLjAwNS0uNDU3IDEuMDA1LTEuMDIyIDAtLjU2NC0uNDUtMS4wMjEtMS4wMDUtMS4wMjEtLjU1NiAwLTEuMDA2LjQ1Ny0xLjAwNiAxLjAyMVoiLz48cGF0aCBkPSJNOS42MSAxMkg3LjYxYy0uNDk3IDAtLjk1Ni0uMjctMS4yMDUtLjcwN2wtMS0xLjc1OWExLjQzOCAxLjQzOCAwIDAgMSAwLTEuNDE0bDEtMS43NThjLjI1LS40MzcuNzA4LS43MDYgMS4yMDUtLjcwN0g5LjYxYy40OTcgMCAuOTU2LjI3IDEuMjA1LjcwN2wxIDEuNzU4Yy4yNDcuNDM3LjI0Ny45NzYgMCAxLjQxNGwtMSAxLjc2Yy0uMjUuNDM2LS43MDguNzA1LTEuMjA1LjcwNlpNNy42MSA2LjY2MWEuNDAyLjQwMiAwIDAgMC0uMzQ3LjIwNWwtMSAxLjc1N2EuNDE1LjQxNSAwIDAgMCAwIC40MDhsMSAxLjc1OWEuNDAyLjQwMiAwIDAgMCAuMzQ3LjIwNEg5LjYxYS40MDEuNDAxIDAgMCAwIC4zNDctLjIwNGwxLTEuNzU5YS40MTUuNDE1IDAgMCAwIDAtLjQwOGwtMS0xLjc1N2EuNDAxLjQwMSAwIDAgMC0uMzQ3LS4yMDRMNy42MSA2LjY2WiIvPjwvZz48L3N2Zz4=",O=Object.defineProperty,m=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,ne=(S,u,y)=>u in S?O(S,u,{enumerable:!0,configurable:!0,writable:!0,value:y}):S[u]=y,H=(S,u)=>{for(var y in u||(u={}))I.call(u,y)&&ne(S,y,u[y]);if(m)for(var y of m(u))w.call(u,y)&&ne(S,y,u[y]);return S};const Ne=S=>React.createElement("svg",H({width:12,height:14,xmlns:"http://www.w3.org/2000/svg"},S),React.createElement("title",null,"\u7F16\u7EC4"),React.createElement("g",{fill:"#FFF",fillRule:"evenodd"},React.createElement("path",{d:"M7.545 0a2.56 2.56 0 0 1 2.56 2.56l.001 4.122a4.072 4.072 0 0 0-3.15-.003A4.143 4.143 0 0 0 4.5 11.307a4.136 4.136 0 0 0 1.064 2.056H2.56A2.56 2.56 0 0 1 0 10.804V2.56A2.56 2.56 0 0 1 2.56 0h4.985ZM6.511 3.127 5.794 4.61 4.36 3.868a.455.455 0 0 0-.62.214L2.818 5.99a.491.491 0 0 0 .02.464c.084.141.233.227.393.227a.46.46 0 0 0 .413-.264l.717-1.482 1.433.74a.455.455 0 0 0 .62-.213l.922-1.909a.485.485 0 0 0-.208-.636.454.454 0 0 0-.617.21Z"}),React.createElement("path",{d:"M11.415 8.556a3.52 3.52 0 0 1-.432 4.419A3.438 3.438 0 0 1 8.527 14a3.48 3.48 0 0 1-3.407-2.817 3.505 3.505 0 0 1 2.077-3.916 3.459 3.459 0 0 1 4.218 1.289Zm-3.502.691a.25.25 0 0 0-.13.22v2.066a.247.247 0 0 0 .386.208l1.536-1.033a.25.25 0 0 0 0-.416L8.168 9.26a.247.247 0 0 0-.255-.012Z",fillRule:"nonzero"})));var Qe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNy41NDUgMGEyLjU2IDIuNTYgMCAwIDEgMi41NiAyLjU2bC4wMDEgNC4xMjJhNC4wNzIgNC4wNzIgMCAwIDAtMy4xNS0uMDAzQTQuMTQzIDQuMTQzIDAgMCAwIDQuNSAxMS4zMDdhNC4xMzYgNC4xMzYgMCAwIDAgMS4wNjQgMi4wNTZIMi41NkEyLjU2IDIuNTYgMCAwIDEgMCAxMC44MDRWMi41NkEyLjU2IDIuNTYgMCAwIDEgMi41NiAwaDQuOTg1Wk02LjUxMSAzLjEyNyA1Ljc5NCA0LjYxIDQuMzYgMy44NjhhLjQ1NS40NTUgMCAwIDAtLjYyLjIxNEwyLjgxOCA1Ljk5YS40OTEuNDkxIDAgMCAwIC4wMi40NjRjLjA4NC4xNDEuMjMzLjIyNy4zOTMuMjI3YS40Ni40NiAwIDAgMCAuNDEzLS4yNjRsLjcxNy0xLjQ4MiAxLjQzMy43NGEuNDU1LjQ1NSAwIDAgMCAuNjItLjIxM2wuOTIyLTEuOTA5YS40ODUuNDg1IDAgMCAwLS4yMDgtLjYzNi40NTQuNDU0IDAgMCAwLS42MTcuMjFaIi8+PHBhdGggZD0iTTExLjQxNSA4LjU1NmEzLjUyIDMuNTIgMCAwIDEtLjQzMiA0LjQxOUEzLjQzOCAzLjQzOCAwIDAgMSA4LjUyNyAxNGEzLjQ4IDMuNDggMCAwIDEtMy40MDctMi44MTcgMy41MDUgMy41MDUgMCAwIDEgMi4wNzctMy45MTYgMy40NTkgMy40NTkgMCAwIDEgNC4yMTggMS4yODlabS0zLjUwMi42OTFhLjI1LjI1IDAgMCAwLS4xMy4yMnYyLjA2NmEuMjQ3LjI0NyAwIDAgMCAuMzg2LjIwOGwxLjUzNi0xLjAzM2EuMjUuMjUgMCAwIDAgMC0uNDE2TDguMTY4IDkuMjZhLjI0Ny4yNDcgMCAwIDAtLjI1NS0uMDEyWiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPg==",J=Object.defineProperty,Me=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,j=(S,u,y)=>u in S?J(S,u,{enumerable:!0,configurable:!0,writable:!0,value:y}):S[u]=y,p=(S,u)=>{for(var y in u||(u={}))ye.call(u,y)&&j(S,y,u[y]);if(Me)for(var y of Me(u))Ge.call(u,y)&&j(S,y,u[y]);return S};const r=S=>React.createElement("svg",p({width:12,height:12,xmlns:"http://www.w3.org/2000/svg"},S),React.createElement("title",null,"\u5173\u8054"),React.createElement("g",{fill:"#457AFF",fillRule:"nonzero"},React.createElement("path",{d:"M8.25 7.507V5.953a.477.477 0 1 0-.956 0v1.341H.956V.956h6.338v1.31a.477.477 0 1 0 .956 0V.744A.744.744 0 0 0 7.507 0H.743A.744.744 0 0 0 0 .743v6.764c0 .41.333.743.743.743h6.764c.41 0 .743-.333.743-.743Z"}),React.createElement("path",{d:"M11.257 3.75H4.493a.744.744 0 0 0-.743.743V6.06a.478.478 0 1 0 .956 0V4.706h6.338v6.34H4.706V9.68a.478.478 0 1 0-.956 0v1.576c0 .41.333.743.743.743h6.764c.41 0 .743-.333.743-.743V4.493a.744.744 0 0 0-.743-.743Z"})));var T="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzQ1N0FGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOC4yNSA3LjUwN1Y1Ljk1M2EuNDc3LjQ3NyAwIDEgMC0uOTU2IDB2MS4zNDFILjk1NlYuOTU2aDYuMzM4djEuMzFhLjQ3Ny40NzcgMCAxIDAgLjk1NiAwVi43NDRBLjc0NC43NDQgMCAwIDAgNy41MDcgMEguNzQzQS43NDQuNzQ0IDAgMCAwIDAgLjc0M3Y2Ljc2NGMwIC40MS4zMzMuNzQzLjc0My43NDNoNi43NjRjLjQxIDAgLjc0My0uMzMzLjc0My0uNzQzWiIvPjxwYXRoIGQ9Ik0xMS4yNTcgMy43NUg0LjQ5M2EuNzQ0Ljc0NCAwIDAgMC0uNzQzLjc0M1Y2LjA2YS40NzguNDc4IDAgMSAwIC45NTYgMFY0LjcwNmg2LjMzOHY2LjM0SDQuNzA2VjkuNjhhLjQ3OC40NzggMCAxIDAtLjk1NiAwdjEuNTc2YzAgLjQxLjMzMy43NDMuNzQzLjc0M2g2Ljc2NGMuNDEgMCAuNzQzLS4zMzMuNzQzLS43NDNWNC40OTNhLjc0NC43NDQgMCAwIDAtLjc0My0uNzQzWiIvPjwvZz48L3N2Zz4=",k=t(91618),v=t(24163),L=t(29297),xe=t(13769),ge=t.n(xe),se=t(58638),B=t(97269),K=t(93410),le=t(50727),D=t(92016),ve=t(3303),F=t(85265),U=t(86250),P=t(83622),Pe=t(42075),ee=t(96486),e=t(86074),ft=["idx","map_row_parentKey"],pt=ve.Z.SHOW_CHILD,nt=[{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.only.associate.once"}),value:"\u4EC5\u5173\u8054\u4E00\u6B21"},{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.related.multiple.times"}),value:"\u5173\u8054\u591A\u6B21"},{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.no.associated.fields"}),value:"\u65E0\u5173\u8054\u5B57\u6BB5"}],It=function(u){var y=u.linkDrawerVisible,$e=u.setLinkDrawerVisible,ke=u.linkFormRef,it=u.resourceTypeList,Xe=u.form,qe=u.formData,Ce=u.setFormData,oe=(0,D.useIntl)(),Ie=(0,c.useRef)(),He=(0,c.useState)([]),Oe=i()(He,2),et=Oe[0],Ke=Oe[1],ut=(0,c.useRef)(),de=function(){var te;(te=ke.current)===null||te===void 0||te.resetFields()},n=function(){$e(!1)},dt=function(te){var X=(0,ee.cloneDeep)(te)||{},q=X.linkedDataList;if(Array.isArray(q)&&!(0,ee.isEmpty)(q)){var fe=q.map(function(Se){var Ze=Se.idx,be=Se.map_row_parentKey,ct=ge()(Se,ft);return o()({},ct)});X.linkedDataList=fe}return X},Ye=function(te){var X=(0,ee.cloneDeep)(te)||{},q=X,fe=[];if(Array.isArray(q)&&!(0,ee.isEmpty)(q)){var Se=q==null?void 0:q.map(function(Ze,be){return fe.push(be),o()(o()({},Ze),{},{idx:be})});X.linkedDataList=Se}return X.editableKeyList=fe,X},Ee=function(){var ie=x()(d()().mark(function te(){var X;return d()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:(X=ke.current)===null||X===void 0||X.validateFields().then(function(Se){var Ze,be=((Ze=dt(Se))===null||Ze===void 0?void 0:Ze.linkedDataList)||[];Xe.setFieldValue("linkedDataList",be),Ce(o()(o()({},qe),{},{linkedDataList:be})),n()});case 1:case"end":return fe.stop()}},te)}));return function(){return ie.apply(this,arguments)}}();(0,c.useEffect)(function(){if(y){var ie=Xe.getFieldValue("linkedDataList"),te=Ye(ie),X=te.linkedDataList,q=te.editableKeyList;if(!(0,ee.isEmpty)(X)&&!(0,ee.isEmpty)(q)){var fe;(fe=ke.current)===null||fe===void 0||fe.setFieldsValue({linkedDataList:X}),Ke(q)}}else de()},[y]);var tt=[{title:oe.formatMessage({id:"involve.extend.title.serial.number"}),dataIndex:"id",editable:!1,width:60,align:"center",render:function(te,X,q){return q+1}},{title:oe.formatMessage({id:"rule.module.text.associative.mode"}),width:200,dataIndex:"associativeMode",formItemProps:{rules:[{required:!1}]},valueType:"select",fieldProps:{options:nt,multiple:!1,allowClear:!0,showSearch:!0}},{title:oe.formatMessage({id:"rule.module.text.main.asset.associated.fields"}),dataIndex:"linkedKey1",formItemProps:{rules:[{required:!1}]}},{title:oe.formatMessage({id:"rule.module.text.related.asset.type"}),width:200,dataIndex:"resourceType",formItemProps:{rules:[{required:!0}]},valueType:"cascader",fieldProps:{options:it,multiple:!1,allowClear:!0,showSearch:!0,showCheckedStrategy:pt}},{title:oe.formatMessage({id:"rule.module.text.associated.assets.associated.fields"}),dataIndex:"linkedKey2",formItemProps:{rules:[{required:!1}]}},{title:oe.formatMessage({id:"rule.module.text.mount.field.name"}),dataIndex:"newKeyName",formItemProps:{rules:[{required:!0}]}},{title:oe.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),valueType:"option",width:140,render:function(){return[]}}];return(0,e.jsx)(F.Z,{title:(0,e.jsxs)(U.Z,{align:"center",children:[(0,e.jsx)("span",{style:{marginRight:4},children:oe.formatMessage({id:"rule.module.text.related.assets"})}),(0,e.jsxs)(P.ZP,{size:"small",type:"link",href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/apka69usk9a3gf1s#jLQrz",target:"_blank",style:{color:"#2f54eb",gap:4},children:[(0,e.jsx)(se.Z,{}),(0,e.jsx)("span",{children:oe.formatMessage({id:"common.link.text.help.center"})})]})]}),onClose:n,destroyOnClose:!0,open:y,width:"80%",footer:(0,e.jsx)(U.Z,{justify:"flex-end",children:(0,e.jsxs)(Pe.Z,{children:[(0,e.jsx)(P.ZP,{onClick:function(){return n()},children:oe.formatMessage({id:"common.button.text.cancel"})}),(0,e.jsx)(P.ZP,{type:"primary",onClick:function(){return Ee()},children:oe.formatMessage({id:"common.button.text.ok"})})]})}),children:(0,e.jsx)(B.A,{formRef:ke,layout:"horizontal",submitter:!1,children:(0,e.jsx)(K.Z,{bodyStyle:{backgroundColor:"rgb(245, 245, 245)",padding:"0 20px 16px 20px"},children:(0,e.jsx)(le.Z,{rowKey:"idx",name:"linkedDataList",actionRef:Ie,editableFormRef:ut,headerTitle:(0,e.jsx)("div",{style:{fontSize:14},children:oe.formatMessage({id:"involve.extend.title.conditional.config"})}),recordCreatorProps:{creatorButtonText:oe.formatMessage({id:"involve.extend.title.addRowConfig"}),record:function(){return{idx:(Math.random()*1e6).toFixed(0)}}},columns:tt,editable:{type:"multiple",editableKeys:et,onChange:Ke,actionRender:function(te,X,q){return[q.delete]}}})})})})},je=It,Lt=t(94032),Ue=t(96655),At=t(61713),Et=t(70989),st=t(68872),St=function(u){var y=u.variableDrawerVisible,$e=u.setVariableDrawerVisible,ke=u.variableDrawerInfo,it=ke===void 0?{}:ke,Xe=u.requestRuleDetailById,qe=u.selectedRowKeys,Ce=qe===void 0?[]:qe,oe=u.setSelectedRowKeys,Ie=u.formData,He=u.setCurrent,Oe=it.id,et=st.ZP.useMessage(),Ke=i()(et,2),ut=Ke[0],de=Ke[1],n=(0,D.useIntl)(),dt=(0,c.useState)(!1),Ye=i()(dt,2),Ee=Ye[0],tt=Ye[1],ie=function(){$e(!1),oe((Ie==null?void 0:Ie.globalVariableConfigIdList)||[])},te=function(){ie()},X=function(){var ce=x()(d()().mark(function V(){var Y,pe;return d()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(!Oe){ue.next=15;break}return tt(!0),Y={id:Oe,globalVariableConfigIdList:Ce,resourceType:Ie==null?void 0:Ie.resourceType,ruleTypeIdList:Ie.ruleTypeIdList},ue.next=5,(0,Ue.saveRule)(Y);case 5:if(pe=ue.sent,tt(!1),!(pe.msg==="success"||[200].includes(pe.code))){ue.next=13;break}return ut.success(n.formatMessage({id:"common.message.text.batch.add.success"})),ue.next=11,Xe(Oe);case 11:He(1),$e(!1);case 13:ue.next=16;break;case 15:$e(!1);case 16:case"end":return ue.stop()}},V)}));return function(){return ce.apply(this,arguments)}}(),q=function(){var ce=x()(d()().mark(function V(){return d()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:ie();case 1:case"end":return pe.stop()}},V)}));return function(){return ce.apply(this,arguments)}}(),fe=(0,c.useRef)(),Se=[{title:n.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(V,Y){return(0,e.jsxs)("div",{children:[(0,e.jsx)("section",{children:(Y==null?void 0:Y.gmtCreate)||"-"}),(0,e.jsx)("section",{children:(Y==null?void 0:Y.gmtModified)||"-"})]})}},{title:n.formatMessage({id:"rule.input.text.rule.group.creator"}),dataIndex:"username",valueType:"text",align:"left",width:200,hideInSearch:!0},{title:n.formatMessage({id:"rule.module.text.variable.name"}),dataIndex:"name",valueType:"text",align:"left",width:150},{title:n.formatMessage({id:"rule.module.text.variable.path"}),dataIndex:"path",valueType:"text",align:"center"},{title:n.formatMessage({id:"rule.module.text.reference.rules"}),dataIndex:"ruleNameList",key:"ruleNameList",hideInSearch:!0,render:function(V,Y){var pe;return(0,e.jsx)("ul",{style:{paddingInlineStart:16},children:Y==null||(pe=Y.ruleNameList)===null||pe===void 0?void 0:pe.map(function(Be,ue){return(0,e.jsx)("li",{children:Be},ue)})})}}],Ze=function(){var ce=x()(d()().mark(function V(Y){var pe,Be,ue,mt,yt,rt,Le,gt;return d()().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return pe=Y.name,Be=Y.path,ue=Y.current,mt=Y.pageSize,yt={name:pe,path:Be,page:ue,size:mt},Fe.next=4,(0,At.listGlobalVariableConfig)(yt);case 4:return rt=Fe.sent,Le=rt.content,gt=rt.code,Fe.abrupt("return",{data:(Le==null?void 0:Le.data)||[],total:(Le==null?void 0:Le.total)||0,success:gt===200||!1});case 8:case"end":return Fe.stop()}},V)}));return function(Y){return ce.apply(this,arguments)}}(),be=function(V){oe(V)},ct={selectedRowKeys:Ce,onChange:be,preserveSelectedRowKeys:!0};return(0,e.jsxs)(F.Z,{footer:(0,e.jsx)(U.Z,{style:{width:"100%"},justify:"end",children:(0,e.jsxs)(Pe.Z,{children:[(0,e.jsx)(P.ZP,{type:"dashed",onClick:function(){return q()},children:n.formatMessage({id:"common.button.text.cancel"})}),(0,e.jsx)(P.ZP,{loading:Ee,type:"primary",onClick:function(){return X()},children:n.formatMessage({id:"common.button.text.save"})})]})}),title:n.formatMessage({id:"rule.extend.text.variable.information"}),width:"64%",destroyOnClose:!0,open:y,onClose:te,styles:{body:{padding:8}},children:[de,(0,e.jsx)(Et.Z,{scroll:{x:!0},options:!1,rowKey:"id",columns:Se,actionRef:fe,request:Ze,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1},search:{labelWidth:n.locale==="en-US"?110:80},rowSelection:ct,expandable:{expandRowByClick:!0,expandedRowRender:function(V){return(0,e.jsx)(K.Z,{direction:"column",gutter:[0,16],children:!(0,ee.isEmpty)(V==null?void 0:V.data)&&(0,e.jsxs)(K.Z,{ghost:!0,children:[(0,e.jsx)("p",{children:n.formatMessage({id:"rule.module.text.variable.value"})}),(0,e.jsx)(L.mi,{readOnly:!0,editorKey:"dataEditor",value:V==null?void 0:V.data,editorStyle:{height:"280px",maxHeight:"280px"}})]})})},rowExpandable:function(V){return!(0,ee.isEmpty)(V==null?void 0:V.data)}}})]})},Nt=St,ht=`package example

import rego.v1

# Use [input] to get the value from the input data, such as "input.object.field1".

# Use [risk] flag to determine whether it is a risk, When [risk] is true, it is judged as a risk.

default risk = false

# When a user requests a private resource using GET, it is considered a risk.

risk if {
    input.method == "GET"
    input.path == "/private/resource"
}

# When an admin uses GET to request access, it is considered a risk.

risk if {
    input.method == "GET"
    input.path == "/admin/resource"
    input.user.role == "admin"
}

### For more details please see: https://www.openpolicyagent.org/docs/latest/#example`,wt="\u5B9E\u4F8B\uFF1A{$.ResourceId} \uFF0C\u540D\u79F0\uFF1A{$.ResourceName} \u5B58\u5728xxx\u98CE\u9669\u3002",xt=t(92635),Ve=t(10736),Tt=t(79930),_e=t(17910),De=t(29448),lt=t(70607),Mr=t(82826),yr=t(39380),Ot=t(97462),jr=t(86615),kt=t(90672),Dr=t(5966),Cr=t(25593),Ae=t(23323),Ir=t(17788),Ft=t(55241),Ut=t(38703),ot=t(71230),ze=t(15746),Lr=t(42119),Ar=t(78045),Vt=t(25278),Mt=t(34041),Er=t(83062),bt=t(85137),we=t(61194),Rt=Cr.Z.Title,Bt=ve.Z.SHOW_CHILD,Te=[{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.example.data"}),value:"INPUT"},{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.appoint.tenant"}),value:"TENANT"},{label:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.appoint.cloud.platform"}),value:"CLOUD_ACCOUNT"}],Wt=0,Sr=function(){var u,y=(0,D.useModel)("tenant"),$e=y.tenantListAdded,ke=(0,D.useLocation)(),it=new URLSearchParams(ke.search),Xe=(0,c.useState)(it.get("id")),qe=i()(Xe,1),Ce=qe[0],oe=(0,lt.a)({}),Ie=(0,D.useModel)("rule"),He=Ie.platformList,Oe=Ie.ruleGroupList,et=Ie.ruleTypeList,Ke=Ae.Z.useForm(),ut=i()(Ke,1),de=ut[0],n=(0,D.useIntl)(),dt=st.ZP.useMessage(),Ye=i()(dt,2),Ee=Ye[0],tt=Ye[1],ie=Ir.Z.useModal(),te=i()(ie,2),X=te[0],q=te[1],fe=(0,c.useState)(!1),Se=i()(fe,2),Ze=Se[0],be=Se[1],ct=(0,c.useState)({}),ce=i()(ct,2),V=ce[0],Y=ce[1],pe=(0,c.useState)([]),Be=i()(pe,2),ue=Be[0],mt=Be[1],yt=(0,c.useState)(ht),rt=i()(yt,2),Le=rt[0],gt=rt[1],Qt=(0,c.useState)(""),Fe=i()(Qt,2),Gt=Fe[0],$t=Fe[1],wr=(0,c.useState)({}),Ht=i()(wr,2),Tr=Ht[0],Pt=Ht[1],Or=(0,c.useState)(!1),Kt=i()(Or,2),br=Kt[0],Yt=Kt[1],Jt=(0,c.useRef)({}),Rr=(0,c.useState)(!1),Xt=i()(Rr,2),Pr=Xt[0],qt=Xt[1],er=(0,c.useRef)({}),_r=(0,c.useState)([]),tr=i()(_r,2),_t=tr[0],rr=tr[1],Zr=(0,c.useState)({}),ar=i()(Zr,2),W=ar[0],jt=ar[1],We=(0,c.useRef)("waiting"),zr=(0,c.useState)(!1),nr=i()(zr,2),kr=nr[0],sr=nr[1],Fr=(0,c.useState)(!1),lr=i()(Fr,2),Ur=lr[0],or=lr[1],Vr=(0,c.useRef)(),Br=(0,c.useState)(Wt),ir=i()(Br,2),Wr=ir[0],ur=ir[1],at=(0,c.useRef)(null),Qr=(0,c.useState)(!1),dr=i()(Qr,2),Gr=dr[0],cr=dr[1],$r=function(){Jt.current={ruleId:Ce},Yt(!0)},Hr=function(){er.current=o()({},V),qt(!0)},Kr=function(a){gt(a),We.current="",Je(W)},Yr=function(a){$t(a)},Jr=(0,D.useRequest)(function(g){return(0,Tt.queryGroupTypeList)({platformList:[g]})},{manual:!0,formatResult:function(a){var s=a.content;return mt(s||[]),s}}),mr=Jr.run,gr=(0,D.useRequest)(function(g){return(0,Ue.queryResourceExampleData)(g)},{formatResult:function(a){if(a.msg==="success"){var s=a.content;try{$t(JSON.stringify(s,null,4)||"")}catch(M){console.info("Error",M)}}},manual:!0}),Xr=gr.run,qr=gr.loading,ea=(0,c.useState)([{title:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.basic.info"}),description:(0,e.jsx)(e.Fragment,{})},{title:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.rule.development"}),description:(0,e.jsx)(e.Fragment,{})},{title:(0,e.jsx)(D.FormattedMessage,{id:"rule.module.text.repair.suggestions.title"}),description:(0,e.jsx)(e.Fragment,{})}]),vr=i()(ea,2),Dt=vr[0],ta=vr[1],ra=(0,c.useState)(0),fr=i()(ra,2),he=fr[0],Ct=fr[1],Je=function(a,s){var M=Dt.map(function(l,C){if(C===0){var re;return o()(o()({},l),{},{description:(0,e.jsx)(Ft.Z,{content:(0,e.jsxs)("div",{style:{padding:"2px 6px"},children:[(0,e.jsxs)(U.Z,{style:{marginBottom:7},children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"common.select.label.cloudPlatform"}),"\xA0:\xA0"]}),(0,e.jsx)("span",{style:{color:"rgb(48, 48, 48)"},children:(0,De.fD)(a==null?void 0:a.platform,He)})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"cloudAccount.extend.title.asset.type"}),"\xA0:\xA0"]}),(0,e.jsx)("span",{style:{color:"rgb(48, 48, 48)"},children:(0,De.xF)(s||ue,a==null?void 0:a.resourceType)||"-"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"home.module.inform.columns.ruleName"}),"\xA0:\xA0"]}),(0,e.jsx)(v.Z,{text:(a==null?void 0:a.ruleName)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.rule.describe"}),"\xA0:\xA0"]}),(0,e.jsx)(v.Z,{text:(a==null?void 0:a.ruleDesc)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"layout.routes.title.ruleGroup"}),"\xA0:\xA0"]}),(0,e.jsx)(v.Z,{text:(Oe==null||(re=Oe.filter(function(_){var vt;return a==null||(vt=a.ruleGroupIdList)===null||vt===void 0?void 0:vt.includes(_==null?void 0:_.value)}).map(function(_){return _==null?void 0:_.label}))===null||re===void 0?void 0:re.toString())||"-",maxWidth:100,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"home.module.inform.columns.ruleTypeName"}),"\xA0:\xA0"]}),(0,e.jsx)(v.Z,{text:(0,De.S1)(et,a==null?void 0:a.ruleTypeIdList)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{marginTop:7},align:"center",children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"home.module.inform.columns.riskLevel"}),"\xA0:\xA0"]}),(0,De.Uf)(_e.I9,a.riskLevel)]})]}),children:(0,e.jsxs)(U.Z,{style:{margin:"6px 0"},children:[(0,e.jsxs)("span",{style:{color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"common.table.columns.platform"}),"\xA0:\xA0"]}),(0,e.jsx)("span",{style:{color:"rgb(48, 48, 48)"},children:(0,De.fD)(a==null?void 0:a.platform,He)})]})})})}else return C===1?o()(o()({},l),{},{description:(0,e.jsx)("div",{children:We.current&&(0,e.jsxs)(U.Z,{style:{marginTop:6},align:"center",children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.running.results"}),"\xA0:\xA0"]}),(0,e.jsx)(k.Z,{state:We.current})]})})}):C===2?o()(o()({},l),{},{description:(0,e.jsx)(Ft.Z,{placement:"bottom",content:(0,e.jsxs)("div",{style:{padding:"2px 6px"},children:[(0,e.jsxs)(U.Z,{style:{marginBottom:7},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.repair.suggestions"}),"\xA0:\xA0"]}),(0,e.jsx)(v.Z,{text:(a==null?void 0:a.advice)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.reference.link"}),"\xA0:\xA0"]}),(0,e.jsx)(v.Z,{text:(a==null?void 0:a.link)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]}),(0,e.jsxs)(U.Z,{style:{margin:"7px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.risk.context.template"}),"\xA0:\xA0"]}),(0,e.jsx)(v.Z,{text:(a==null?void 0:a.context)||"-",maxWidth:240,rows:1,color:"rgb(48, 48, 48)"})]})]}),children:(0,e.jsxs)(U.Z,{style:{margin:"6px 0"},children:[(0,e.jsxs)("span",{style:{flexShrink:0,color:"rgb(168, 168, 168)"},children:[n.formatMessage({id:"rule.module.text.repair.suggestions"}),"\xA0:\xA0"]}),(0,e.jsx)(v.Z,{text:(a==null?void 0:a.advice)||"-",maxWidth:180,rows:1,color:he===2?"rgba(0, 0, 0, 0.88)":"rgba(0, 0, 0, 0.45)"})]})})}):o()({},l)});ta(M)},aa=(0,D.useRequest)(function(g){return(0,Ue.queryAnalysisProgress)({taskId:g})},{formatResult:function(a){var s,M;if((a==null||(s=a.content)===null||s===void 0?void 0:s.percent)===1){var l;We.current="success",Pt(JSON.parse(a==null||(l=a.content)===null||l===void 0?void 0:l.result)||{}),Je(W)}return a==null||(M=a.content)===null||M===void 0?void 0:M.percent},onSuccess:function(a){ur(a)},manual:!0}),na=aa.run,sa=(0,D.useRequest)(function(g){return(0,Ue.queryCancelTask)({taskId:g})},{onSuccess:function(){return Ee.warning(n.formatMessage({id:"rule.message.text.task.cancelled"}))},manual:!0}),pr=sa.run,la=function(a){var s=X.info({title:n.formatMessage({id:"common.message.text.execute.loading"}),content:(0,e.jsx)(U.Z,{style:{width:"100"},justify:"center",children:(0,e.jsx)(Ut.Z,{type:"circle",percent:Number((0,De.x9)(Wr*100,2)),size:80})}),closable:!0,destroyOnClose:!0,footer:(0,e.jsx)(e.Fragment,{}),onCancel:function(){at.current&&clearTimeout(at.current),pr(a)}});at.current=setInterval(x()(d()().mark(function M(){var l,C;return d()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,na(a);case 2:l=_.sent,s.update({title:n.formatMessage({id:"common.message.text.execute.loading"}),content:(0,e.jsx)(U.Z,{style:{width:"100"},justify:"center",children:(0,e.jsx)(Ut.Z,{type:"circle",percent:Number((0,De.x9)(l*100,2)),size:80})}),closable:!0,destroyOnClose:!0,footer:(0,e.jsx)(e.Fragment,{}),onCancel:function(){at.current&&clearTimeout(at.current),pr(a)}}),l===1&&(clearInterval(at.current),C=setTimeout(function(){clearTimeout(C),ur(Wt),s.destroy()},800));case 5:case"end":return _.stop()}},M)})),1e3)},oa=function(){var g=x()(d()().mark(function a(){var s,M,l,C,re,_;return d()().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(s={},M=de.getFieldValue("type"),M!==Te[0].value){Re.next=9;break}s.ruleRego=Le,s.input=Gt,s.globalVariableConfigIdList=_t,s.linkedDataList=(W==null?void 0:W.linkedDataList)||[],Re.next=22;break;case 9:if(s.type=M,l=de.getFieldValue("selectId"),s.selectId=l,s.ruleRego=Le,s.platform=de.getFieldValue("platform"),s.resourceType=(0,De.g2)(de.getFieldValue("resourceType")),s.linkedDataList=(W==null?void 0:W.linkedDataList)||[],!(M===Te[1].value&&!l)){Re.next=20;break}return Re.abrupt("return",Ee.error("\u8BF7\u9009\u62E9".concat(Te[1].label)));case 20:if(!(M===Te[2].value&&!l)){Re.next=22;break}return Re.abrupt("return",Ee.error("\u8BF7\u9009\u62E9".concat(Te[2].label)));case 22:return cr(!0),Re.next=25,(0,Ve.evaluateRego)(s);case 25:C=Re.sent,cr(!1),M===Te[0].value?C.code===200&&C.msg==="success"?(Ee.success(n.formatMessage({id:"common.message.text.execute.success"})),Pt((C==null||(re=C.content)===null||re===void 0?void 0:re.result)||{}),We.current="success",Je(W)):(C.code!==200||C.msg!=="success")&&(Pt(C||{}),We.current="error",Je(W)):C!=null&&(_=C.content)!==null&&_!==void 0&&_.taskId&&la(C.content.taskId);case 28:case"end":return Re.stop()}},a)}));return function(){return g.apply(this,arguments)}}(),ia=function(a,s){jt(o()(o()({},W),s)),Je(o()(o()({},W),s))},ua=function(){Ct(function(a){return a-1})},da=function(){de.validateFields().then(function(){var a=x()(d()().mark(function s(M){return d()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(he!==0){C.next=5;break}return C.next=3,Xr({platform:M==null?void 0:M.platform,resourceType:M==null?void 0:M.resourceType,linkedDataList:(M==null?void 0:M.linkedDataList)||[]});case 3:C.next=10;break;case 5:if(he!==1){C.next=10;break}if(!(0,ee.isEmpty)(Le)){C.next=8;break}return C.abrupt("return",Ee.error(n.formatMessage({id:"rule.message.text.rego.noEmpty"})));case 8:if(We.current==="success"){C.next=10;break}return C.abrupt("return",Ee.error(n.formatMessage({id:"rule.message.text.rego.noPass"})));case 10:Ct(function(re){return re+1});case 11:case"end":return C.stop()}},s)}));return function(s){return a.apply(this,arguments)}}())};(0,c.useEffect)(function(){(0,ee.isEmpty)(W)||Je(W)},[he]);var ca=function(){de.validateFields().then(function(){var a=x()(d()().mark(function s(M){var l,C;return d()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return be(!0),l=o()(o()({},W),{},{ruleRego:Le,globalVariableConfigIdList:_t,context:M==null?void 0:M.context}),Ce&&(l.id=Ce),l==null||delete l.type,l==null||delete l.selectId,l==null||delete l.ruleGroupList,_.next=8,(0,Ue.saveRule)(l);case 8:C=_.sent,be(!1),(C.msg==="success"||[200].includes(C.code))&&(Ce?Ee.success(n.formatMessage({id:"common.message.text.edit.success"})):Ee.success(n.formatMessage({id:"common.message.text.create.success"})),D.history.push("/ruleManagement/ruleProject"));case 11:case"end":return _.stop()}},s)}));return function(s){return a.apply(this,arguments)}}())},ma=function(){var g=x()(d()().mark(function a(s){var M,l;return d()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:(0,ee.isEmpty)(s)||(rr((s==null?void 0:s.globalVariableConfigIdList)||[]),Ct(0),We.current="success",l=o()(o()({},s),{},{ruleGroupIdList:s==null||(M=s.ruleGroupList)===null||M===void 0?void 0:M.map(function(_){return _==null?void 0:_.id})}),jt(l),de.setFieldsValue(l),gt((s==null?void 0:s.ruleRego)||""),s!=null&&s.platform&&mr(s==null?void 0:s.platform).then(function(_){Je(l,_)}).finally(function(){return sr(!1)}));case 1:case"end":return re.stop()}},a)}));return function(s){return g.apply(this,arguments)}}(),ga=(0,D.useRequest)(function(){var g=x()(d()().mark(function a(s){return d()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,Ue.queryRuleDetail)({id:Number(s)});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},a)}));return function(a){return g.apply(this,arguments)}}(),{formatResult:function(){var g=x()(d()().mark(function s(M){var l;return d()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return l=M.content,Y(l),re.next=4,ma(l);case 4:case"end":return re.stop()}},s)}));function a(s){return g.apply(this,arguments)}return a}(),manual:!0}),Zt=ga.run;(0,c.useEffect)(function(){Ce&&(sr(!0),Zt(Ce))},[Ce]);var va=function(){or(!0)},hr=(0,D.useRequest)(function(g){return(0,xt.cloudAccountBaseInfoListV2)(o()({},g))},{manual:!0,formatResult:function(a){return a==null?void 0:a.content}}),zt=hr.data,fa=hr.run,xr=(0,ee.debounce)(function(g){var a=de.getFieldValue("platform"),s=[];a&&s.push(a),fa({platformList:s,cloudAccountSearch:g})},500);return(0,e.jsxs)(yr._z,{ghost:!0,breadcrumbRender:!1,header:{ghost:!0},title:(0,e.jsxs)(P.ZP,{type:"link",size:"small",onClick:function(){return D.history===null||D.history===void 0?void 0:D.history.back()},children:[(0,e.jsx)(Mr.Z,{}),n.formatMessage({id:"common.button.text.return"})]}),className:he===1?we.Z.ruleEditPageContainerSpecial:we.Z.ruleEditPageContainer,footer:[(0,e.jsxs)(Pe.Z,{style:{paddingRight:8},children:[he>0&&(0,e.jsx)(P.ZP,{type:"primary",onClick:function(){return ua()},children:n.formatMessage({id:"common.button.text.pre"})}),he<Dt.length-1&&(0,e.jsx)(P.ZP,{type:"primary",onClick:function(){return da()},loading:qr,children:n.formatMessage({id:"common.button.text.next"})}),he===Dt.length-1&&(0,e.jsx)(P.ZP,{loading:Ze,type:"primary",onClick:function(){return ca()},children:n.formatMessage({id:"common.button.text.submit"})})]},"buttonList")],loading:kr,children:[tt,q,(0,e.jsx)(ot.Z,{style:{marginBottom:20,padding:he===1?"0 14px":"unset"},children:(0,e.jsx)(ze.Z,{span:24,style:{minHeight:"100%"},children:(0,e.jsx)(K.Z,{className:we.Z.stepListMain,children:(0,e.jsx)(Lr.Z,{size:"small",className:we.Z.stepsWrap,direction:"horizontal",current:he,items:Dt})})})}),(0,e.jsx)(ot.Z,{style:{minHeight:"calc(100vh - 362px)"},children:(0,e.jsx)(ze.Z,{span:24,style:{minHeight:"100%"},children:(0,e.jsx)(K.Z,{className:he===1?we.Z.contentMainTransparent:we.Z.contentMain,bodyStyle:{paddingTop:he===1?0:16},children:(0,e.jsxs)(Ae.Z,{form:de,layout:"vertical",onValuesChange:(0,ee.debounce)(ia,200),children:[he===0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ae.Z.Item,{name:"platform",label:n.formatMessage({id:"home.module.overview.platform"}),rules:[{required:!0,message:n.formatMessage({id:"common.select.text.placeholder"})}],children:(0,e.jsx)(Ar.ZP.Group,{disabled:!!Ce,onChange:function(a){de.setFieldValue("resourceType",null),de.setFieldValue("linkedDataList",[]),jt(o()(o()({},W),{},{linkedDataList:null})),mt([]),mr(a.target.value)},options:(0,De.T$)(He)})}),(0,e.jsx)(Ot.Z,{name:["platform"],children:function(a){var s=a.platform;return(0,ee.isEmpty)(s)?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)(Ae.Z.Item,{name:"resourceType",label:n.formatMessage({id:"cloudAccount.extend.title.asset.type"}),rules:[{required:!0,message:n.formatMessage({id:"common.select.text.placeholder"})}],style:{marginBottom:0},children:(0,e.jsx)(ve.Z,{options:ue,multiple:!1,placeholder:n.formatMessage({id:"common.select.text.placeholder"}),showCheckedStrategy:Bt,allowClear:!0,showSearch:!0})})}}),(0,e.jsx)(Ot.Z,{name:["platform"],children:function(a){var s=a.platform;return(0,ee.isEmpty)(s)?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)(Ae.Z.Item,{layout:"horizontal",name:"linkedDataList",label:"",style:{marginBottom:24},children:[(0,e.jsxs)(P.ZP,{type:"link",size:"small",onClick:function(){return va()},style:{gap:4},children:[(0,e.jsx)("img",{src:T,alt:"RELATION_ICON",style:{width:14,height:14}}),n.formatMessage({id:"rule.module.text.related.assets"})]}),(W==null?void 0:W.linkedDataDesc)&&(0,e.jsx)(Pe.Z,{size:[8,16],wrap:!0,children:(0,e.jsx)("span",{style:{color:"#c5c2c2"},children:W==null?void 0:W.linkedDataDesc})})]})}}),(0,e.jsxs)(ot.Z,{gutter:[24,12],children:[(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(Ae.Z.Item,{name:"ruleName",label:n.formatMessage({id:"home.module.inform.columns.ruleName"}),rules:[{required:!0}],children:(0,e.jsx)(Vt.Z,{placeholder:n.formatMessage({id:"common.input.text.placeholder"})})})}),(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(Ae.Z.Item,{name:"ruleDesc",label:n.formatMessage({id:"rule.module.text.rule.describe"}),rules:[{required:!0}],children:(0,e.jsx)(Vt.Z,{placeholder:n.formatMessage({id:"common.input.text.placeholder"})})})}),(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(Ae.Z.Item,{name:"ruleGroupIdList",label:n.formatMessage({id:"layout.routes.title.ruleGroup"}),rules:[{required:!1,message:n.formatMessage({id:"common.select.text.placeholder"})}],children:(0,e.jsx)(Mt.Z,{options:Oe||[],placeholder:n.formatMessage({id:"common.select.text.placeholder"}),allowClear:!0,mode:"multiple"})})}),(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(Ae.Z.Item,{label:n.formatMessage({id:"home.module.inform.columns.ruleTypeName"}),name:"ruleTypeIdList",rules:[{required:!0,message:n.formatMessage({id:"common.select.text.placeholder"})}],children:(0,e.jsx)(ve.Z,{showCheckedStrategy:Bt,allowClear:!0,showSearch:!0,fieldNames:{label:"typeName",value:"id",children:"childList"},multiple:!0,options:et||[]})})}),(0,e.jsx)(ze.Z,{span:12,children:(0,e.jsx)(jr.Z.Group,{name:"riskLevel",label:n.formatMessage({id:"home.module.inform.columns.riskLevel"}),rules:[{required:!0,message:n.formatMessage({id:"common.select.text.placeholder"})}],options:(0,De.at)(_e.I9)})})]})]}),he===1&&(0,e.jsxs)("div",{children:[(0,e.jsx)(ot.Z,{children:(0,e.jsx)(U.Z,{justify:"end",style:{width:"100%"},children:(0,e.jsxs)(Pe.Z,{children:[(0,e.jsxs)(P.ZP,{href:"https://cloudrec.yuque.com/org-wiki-cloudrec-iew3sz/hocvhx/un0z2rchy084tnww",target:"_blank",style:{gap:4,border:"1px solid #457aff",color:"#457aff",padding:"4px 10px",backgroundColor:"transparent"},children:[(0,e.jsx)("img",{src:N,style:{height:14},alt:"LINK_ICON"}),n.formatMessage({id:"rule.extend.text.config"})]}),(0,e.jsxs)(P.ZP,{type:"primary",onClick:function(){return oa()},style:{gap:4},loading:Gr,children:[(0,e.jsx)("img",{src:Qe,style:{height:14},alt:"linkIcon"}),n.formatMessage({id:"rule.extend.text.execute"})]})]})})}),(0,e.jsxs)(ot.Z,{gutter:16,style:{marginTop:4},children:[(0,e.jsxs)(ze.Z,{md:14,span:24,children:[(0,e.jsx)(Rt,{level:5,className:we.Z.customTitle,style:{marginBottom:16},children:"The Rego PlayGround"}),(0,e.jsx)(L.mi,{editorKey:"regoEditor",value:Le,onChange:Kr,editorStyle:{height:"680px"}})]}),(0,e.jsxs)(ze.Z,{md:10,span:24,children:[(0,e.jsx)(Rt,{level:5,className:we.Z.customTitle,children:(0,e.jsxs)(U.Z,{align:"center",children:[(0,e.jsx)("span",{style:{marginRight:12},children:"INPUT"}),(0,e.jsxs)(Pe.Z.Compact,{children:[(0,e.jsx)(Ae.Z.Item,{name:"type",noStyle:!0,initialValue:Te[0].value,children:(0,e.jsx)(Mt.Z,{options:Te,style:{width:114},onChange:function(a){de.setFieldValue("selectId",null),a===Te[2].value&&xr()}})}),(0,e.jsx)(Ot.Z,{name:["type"],children:function(a){var s=a.type,M=(0,e.jsx)(e.Fragment,{});return s===Te[1].value?M=(0,e.jsx)(Ae.Z.Item,{noStyle:!0,name:"selectId",children:(0,e.jsx)(Mt.Z,{options:$e||[],style:{width:160},fieldNames:{label:"tenantName",value:"id"}})}):s===Te[2].value&&(M=(0,e.jsx)(Ae.Z.Item,{name:"selectId",noStyle:!0,children:(0,e.jsx)(Mt.Z,{allowClear:!0,showSearch:!0,filterOption:!1,placeholder:n.formatMessage({id:"common.select.query.text.placeholder"}),onSearch:xr,options:(zt==null?void 0:zt.map(function(l){return{label:(0,e.jsx)(Er.Z,{placement:"topLeft",title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:l==null?void 0:l.alias}),(0,e.jsx)("div",{children:l==null?void 0:l.cloudAccountId})]}),children:(l==null?void 0:l.alias)+"/"+(l==null?void 0:l.cloudAccountId)}),value:l==null?void 0:l.cloudAccountId}}))||[],style:{width:160}})})),M}})]})]})}),(0,e.jsx)(L.q9,{editorStyle:{height:"360px"},editorKey:"inputEditor",value:Gt,onChange:Yr}),(0,e.jsx)(Rt,{style:{marginTop:8},level:5,className:we.Z.customTitle,children:"OUTPUT"}),(0,e.jsx)(L.Wy,{viewerStyle:{height:"280px"},value:Tr})]})]})]}),he===2&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(kt.Z,{name:"advice",label:n.formatMessage({id:"rule.module.text.repair.suggestions"}),placeholder:n.formatMessage({id:"common.input.text.placeholder"})}),(0,e.jsx)(Dr.Z,{name:"link",label:n.formatMessage({id:"rule.module.text.reference.link"}),placeholder:n.formatMessage({id:"common.input.text.placeholder"}),rules:[{pattern:new RegExp("^(https?|ftp):\\/\\/[^\\s/$.?#].[^\\s]*$","i"),message:n.formatMessage({id:"common.input.text.link.check"})}]}),(0,e.jsx)(kt.Z,{name:"context",label:n.formatMessage({id:"rule.module.text.risk.context.template"}),initialValue:wt})]})]})})})}),he===1&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(bt.Z.Group,{shape:"square",style:{insetInlineEnd:-2,top:(u=["xxLProMax","xxLFullHD","xxLPro"])!==null&&u!==void 0&&u.includes(oe)?"7vh":"36vh",boxShadow:"none"},children:[(0,e.jsx)(bt.Z,{onClick:function(){return $r()},className:we.Z.floatButton,icon:(0,e.jsx)("div",{style:{fontSize:14},children:n.formatMessage({id:"rule.extend.text.history"})})}),(0,e.jsx)(bt.Z,{onClick:function(){return Hr()},className:we.Z.floatButton,icon:(0,e.jsx)("div",{style:{fontSize:14},children:n.formatMessage({id:"rule.extend.text.variable"})})})]})}),(0,e.jsx)(Lt.Z,{noteDrawerVisible:br,setNoteDrawerVisible:Yt,noteDrawerInfo:Jt.current,requestRuleDetailById:Zt}),(0,e.jsx)(Nt,{formData:W,setCurrent:Ct,variableDrawerVisible:Pr,setVariableDrawerVisible:qt,variableDrawerInfo:er.current,requestRuleDetailById:Zt,selectedRowKeys:_t,setSelectedRowKeys:rr}),(0,e.jsx)(je,{linkDrawerVisible:Ur,setLinkDrawerVisible:or,linkFormRef:Vr,resourceTypeList:ue,form:de,formData:W,setFormData:jt})]})},Nr=Sr},94032:function(me,Z,t){"use strict";var f=t(97857),d=t.n(f),A=t(15009),x=t.n(A),z=t(99289),o=t.n(z),ae=t(5574),i=t.n(ae),c=t(29297),E=t(10736),b=t(70989),Q=t(93410),G=t(92016),h=t(68872),$=t(83622),R=t(85265),N=t(96486),O=t.n(N),m=t(62435),I=t(86074),w=function(H){var Ne=H.noteDrawerVisible,Qe=H.setNoteDrawerVisible,J=H.noteDrawerInfo,Me=H.requestRuleDetailById,ye=h.ZP.useMessage(),Ge=i()(ye,2),j=Ge[0],p=Ge[1],r=(0,G.useIntl)(),T=function(){Qe(!1)},k=function(){T()},v=(0,m.useRef)(),L=function(){var se=o()(x()().mark(function B(K){var le,D;return x()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return le={ruleId:J==null?void 0:J.ruleId,isDraft:0,ruleRego:K==null?void 0:K.ruleRego},F.next=3,(0,E.saveRego)(le);case 3:if(D=F.sent,!(D.code===200||D.msg==="success")){F.next=9;break}return j.success(r.formatMessage({id:"rule.message.text.version.rollback.success"})),F.next=8,Me(Number(J==null?void 0:J.ruleId));case 8:k();case 9:case"end":return F.stop()}},B)}));return function(K){return se.apply(this,arguments)}}(),xe=[{title:r.formatMessage({id:"rule.module.text.version"}),dataIndex:"version",align:"center",render:function(B){return"v"+B}},{title:r.formatMessage({id:"rule.module.text.user.name"}),dataIndex:"userName",align:"center"},{title:r.formatMessage({id:"common.table.columns.rule.updateTime"}),dataIndex:"gmtModified",align:"center"},{title:r.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"operate",align:"center",valueType:"option",render:function(B,K){return(0,I.jsx)($.ZP,{type:"link",onClick:function(){return L(K)},children:r.formatMessage({id:"common.button.text.rollback"})})}}],ge=function(){var se=o()(x()().mark(function B(K){var le,D,ve,F;return x()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return ve={page:K.current,size:K.pageSize,ruleId:J==null?void 0:J.ruleId},P.next=3,(0,E.queryRegoList)(d()({},ve));case 3:return F=P.sent,P.abrupt("return",{data:(F==null||(le=F.content)===null||le===void 0?void 0:le.data)||[],success:(F==null?void 0:F.code)===200||!1,total:(F==null||(D=F.content)===null||D===void 0?void 0:D.total)||0});case 5:case"end":return P.stop()}},B)}));return function(K){return se.apply(this,arguments)}}();return(0,I.jsxs)(R.Z,{title:r.formatMessage({id:"rule.extend.text.historical.records"}),width:"52%",destroyOnClose:!0,open:Ne,onClose:k,children:[p,(0,I.jsx)(b.Z,{search:!1,scroll:{x:!0},options:!1,rowKey:"id",columns:xe,actionRef:v,request:ge,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1},expandable:{expandRowByClick:!0,expandedRowRender:function(B){return(0,I.jsx)(Q.Z,{direction:"column",gutter:[0,16],children:!(0,N.isEmpty)(B.ruleRego)&&(0,I.jsxs)(Q.Z,{ghost:!0,children:[(0,I.jsx)("p",{children:r.formatMessage({id:"rule.module.text.info"})}),(0,I.jsx)(c.mi,{editorKey:"regoMsgEditor",value:B.ruleRego,editorStyle:{height:"280px",maxHeight:"280px"}})]})})},rowExpandable:function(B){return!(0,N.isEmpty)(B.ruleRego)}}})]})};Z.Z=w},70607:function(me,Z,t){"use strict";t.d(Z,{a:function(){return i}});var f=t(5574),d=t.n(f),A=t(96486),x=t.n(A),z=t(62435),o={xs:575,sm:576,md:768,lg:992,xL:1200,xxL:1600,xxLPro:1800,xxLFullHD:1920,xxLProMax:2200},ae=function(E){var b=E.query,Q=b===void 0?"":b,G=E.throttleTime,h=G===void 0?200:G,$=useState(!1),R=_slicedToArray($,2),N=R[0],O=R[1],m=useCallback(throttle(function(){var I=window.matchMedia(Q);O(I.matches)},h),[h]);return useEffect(function(){var I;return(I=window)===null||I===void 0||I.addEventListener("resize",m),m(),function(){var w;(w=window)===null||w===void 0||w.removeEventListener("resize",m)}},[m]),N},i=function(E){var b=E.throttleTime,Q=b===void 0?200:b,G=(0,z.useState)("xxL"),h=d()(G,2),$=h[0],R=h[1],N=(0,z.useCallback)((0,A.throttle)(function(){for(var O in o)if(Object.prototype.hasOwnProperty.call(o,O)){var m,I=O,w="(min-width: ".concat(o[I],"px)");I==="xs"&&(w="(max-width: ".concat(o[I],"px)")),(m=window)!==null&&m!==void 0&&(m=m.matchMedia(w))!==null&&m!==void 0&&m.matches&&R(I)}},Q),[Q]);return(0,z.useEffect)(function(){var O;return(O=window)===null||O===void 0||O.addEventListener("resize",N),N(),function(){var m;(m=window)===null||m===void 0||m.removeEventListener("resize",N)}},[N]),$}},53846:function(me,Z){"use strict";Z.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}},61194:function(me,Z){"use strict";Z.Z={floatButton:"floatButton___c4Q61",ruleEditPageContainer:"ruleEditPageContainer___JtP7R",stepListMain:"stepListMain___MjGkn",stepsWrap:"stepsWrap___GXD6m",contentMainTransparent:"contentMainTransparent___KcrOp",contentMain:"contentMain___zT9JY",ruleEditPageContainerSpecial:"ruleEditPageContainerSpecial___JGb_t",rulePageContainer:"rulePageContainer___p2US0",customFilterCard:"customFilterCard___A5TQf",customTitle:"customTitle___k1LUC",cleanBlock:"cleanBlock___et5AN",dimBlock:"dimBlock___EvyJb",lineBreak:"lineBreak___Oybab"}},66309:function(me,Z,t){"use strict";t.d(Z,{Z:function(){return p}});var f=t(62435),d=t(93967),A=t.n(d),x=t(98423),z=t(98787),o=t(69760),ae=t(96159),i=t(45353),c=t(53124),E=t(861),b=t(15063),Q=t(14747),G=t(83262),h=t(83559);const $=r=>{const{paddingXXS:T,lineWidth:k,tagPaddingHorizontal:v,componentCls:L,calc:xe}=r,ge=xe(v).sub(k).equal(),se=xe(T).sub(k).equal();return{[L]:Object.assign(Object.assign({},(0,Q.Wf)(r)),{display:"inline-block",height:"auto",marginInlineEnd:r.marginXS,paddingInline:ge,fontSize:r.tagFontSize,lineHeight:r.tagLineHeight,whiteSpace:"nowrap",background:r.defaultBg,border:`${(0,E.unit)(r.lineWidth)} ${r.lineType} ${r.colorBorder}`,borderRadius:r.borderRadiusSM,opacity:1,transition:`all ${r.motionDurationMid}`,textAlign:"start",position:"relative",[`&${L}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:r.defaultColor},[`${L}-close-icon`]:{marginInlineStart:se,fontSize:r.tagIconSize,color:r.colorIcon,cursor:"pointer",transition:`all ${r.motionDurationMid}`,"&:hover":{color:r.colorTextHeading}},[`&${L}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${r.iconCls}-close, ${r.iconCls}-close:hover`]:{color:r.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${L}-checkable-checked):hover`]:{color:r.colorPrimary,backgroundColor:r.colorFillSecondary},"&:active, &-checked":{color:r.colorTextLightSolid},"&-checked":{backgroundColor:r.colorPrimary,"&:hover":{backgroundColor:r.colorPrimaryHover}},"&:active":{backgroundColor:r.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${r.iconCls} + span, > span + ${r.iconCls}`]:{marginInlineStart:ge}}),[`${L}-borderless`]:{borderColor:"transparent",background:r.tagBorderlessBg}}},R=r=>{const{lineWidth:T,fontSizeIcon:k,calc:v}=r,L=r.fontSizeSM;return(0,G.mergeToken)(r,{tagFontSize:L,tagLineHeight:(0,E.unit)(v(r.lineHeightSM).mul(L).equal()),tagIconSize:v(k).sub(v(T).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:r.defaultBg})},N=r=>({defaultBg:new b.FastColor(r.colorFillQuaternary).onBackground(r.colorBgContainer).toHexString(),defaultColor:r.colorText});var O=(0,h.I$)("Tag",r=>{const T=R(r);return $(T)},N),m=function(r,T){var k={};for(var v in r)Object.prototype.hasOwnProperty.call(r,v)&&T.indexOf(v)<0&&(k[v]=r[v]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,v=Object.getOwnPropertySymbols(r);L<v.length;L++)T.indexOf(v[L])<0&&Object.prototype.propertyIsEnumerable.call(r,v[L])&&(k[v[L]]=r[v[L]]);return k},w=f.forwardRef((r,T)=>{const{prefixCls:k,style:v,className:L,checked:xe,onChange:ge,onClick:se}=r,B=m(r,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:K,tag:le}=f.useContext(c.E_),D=ee=>{ge==null||ge(!xe),se==null||se(ee)},ve=K("tag",k),[F,U,P]=O(ve),Pe=A()(ve,`${ve}-checkable`,{[`${ve}-checkable-checked`]:xe},le==null?void 0:le.className,L,U,P);return F(f.createElement("span",Object.assign({},B,{ref:T,style:Object.assign(Object.assign({},v),le==null?void 0:le.style),className:Pe,onClick:D})))}),ne=t(98719);const H=r=>(0,ne.Z)(r,(T,{textColor:k,lightBorderColor:v,lightColor:L,darkColor:xe})=>({[`${r.componentCls}${r.componentCls}-${T}`]:{color:k,background:L,borderColor:v,"&-inverse":{color:r.colorTextLightSolid,background:xe,borderColor:xe},[`&${r.componentCls}-borderless`]:{borderColor:"transparent"}}}));var Ne=(0,h.bk)(["Tag","preset"],r=>{const T=R(r);return H(T)},N);function Qe(r){return typeof r!="string"?r:r.charAt(0).toUpperCase()+r.slice(1)}const J=(r,T,k)=>{const v=Qe(k);return{[`${r.componentCls}${r.componentCls}-${T}`]:{color:r[`color${k}`],background:r[`color${v}Bg`],borderColor:r[`color${v}Border`],[`&${r.componentCls}-borderless`]:{borderColor:"transparent"}}}};var Me=(0,h.bk)(["Tag","status"],r=>{const T=R(r);return[J(T,"success","Success"),J(T,"processing","Info"),J(T,"error","Error"),J(T,"warning","Warning")]},N),ye=function(r,T){var k={};for(var v in r)Object.prototype.hasOwnProperty.call(r,v)&&T.indexOf(v)<0&&(k[v]=r[v]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,v=Object.getOwnPropertySymbols(r);L<v.length;L++)T.indexOf(v[L])<0&&Object.prototype.propertyIsEnumerable.call(r,v[L])&&(k[v[L]]=r[v[L]]);return k};const j=f.forwardRef((r,T)=>{const{prefixCls:k,className:v,rootClassName:L,style:xe,children:ge,icon:se,color:B,onClose:K,bordered:le=!0,visible:D}=r,ve=ye(r,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:F,direction:U,tag:P}=f.useContext(c.E_),[Pe,ee]=f.useState(!0),e=(0,x.Z)(ve,["closeIcon","closable"]);f.useEffect(()=>{D!==void 0&&ee(D)},[D]);const ft=(0,z.o2)(B),pt=(0,z.yT)(B),nt=ft||pt,It=Object.assign(Object.assign({backgroundColor:B&&!nt?B:void 0},P==null?void 0:P.style),xe),je=F("tag",k),[Lt,Ue,At]=O(je),Et=A()(je,P==null?void 0:P.className,{[`${je}-${B}`]:nt,[`${je}-has-color`]:B&&!nt,[`${je}-hidden`]:!Pe,[`${je}-rtl`]:U==="rtl",[`${je}-borderless`]:!le},v,L,Ue,At),st=Ve=>{Ve.stopPropagation(),K==null||K(Ve),!Ve.defaultPrevented&&ee(!1)},[,St]=(0,o.Z)((0,o.w)(r),(0,o.w)(P),{closable:!1,closeIconRender:Ve=>{const Tt=f.createElement("span",{className:`${je}-close-icon`,onClick:st},Ve);return(0,ae.wm)(Ve,Tt,_e=>({onClick:De=>{var lt;(lt=_e==null?void 0:_e.onClick)===null||lt===void 0||lt.call(_e,De),st(De)},className:A()(_e==null?void 0:_e.className,`${je}-close-icon`)}))}}),Nt=typeof ve.onClick=="function"||ge&&ge.type==="a",ht=se||null,wt=ht?f.createElement(f.Fragment,null,ht,ge&&f.createElement("span",null,ge)):ge,xt=f.createElement("span",Object.assign({},e,{ref:T,className:Et,style:It}),wt,St,ft&&f.createElement(Ne,{key:"preset",prefixCls:je}),pt&&f.createElement(Me,{key:"status",prefixCls:je}));return Lt(Nt?f.createElement(i.Z,{component:"Tag"},xt):xt)});j.CheckableTag=w;var p=j},85674:function(me,Z,t){var f={"./simpleWorker":18352,"./simpleWorker.js":18352};function d(A){return Promise.resolve().then(function(){if(!t.o(f,A)){var x=new Error("Cannot find module '"+A+"'");throw x.code="MODULE_NOT_FOUND",x}var z=f[A];return t(z)})}d.keys=function(){return Object.keys(f)},d.id=85674,me.exports=d},10131:function(me,Z,t){var f={"./editorBaseApi":[20927],"./editorBaseApi.js":[20927],"./editorSimpleWorker":[81465],"./editorSimpleWorker.js":[81465],"./editorWorker":[85215],"./editorWorker.js":[85215],"./editorWorkerHost":[98008],"./editorWorkerHost.js":[98008],"./findSectionHeaders":[72846],"./findSectionHeaders.js":[72846],"./getIconClasses":[22016],"./getIconClasses.js":[22016],"./languageFeatureDebounce":[88191],"./languageFeatureDebounce.js":[88191],"./languageFeatures":[71922],"./languageFeatures.js":[71922],"./languageFeaturesService":[7421],"./languageFeaturesService.js":[7421],"./languageService":[81032],"./languageService.js":[81032],"./languagesAssociations":[73536],"./languagesAssociations.js":[73536],"./languagesRegistry":[4765],"./languagesRegistry.js":[4765],"./markerDecorations":[36357],"./markerDecorations.js":[36357],"./markerDecorationsService":[86036],"./markerDecorationsService.js":[86036],"./model":[73733],"./model.js":[73733],"./modelService":[51200],"./modelService.js":[51200],"./resolverService":[88216],"./resolverService.js":[88216],"./semanticTokensDto":[14704],"./semanticTokensDto.js":[14704],"./semanticTokensProviderStyling":[92294],"./semanticTokensProviderStyling.js":[92294],"./semanticTokensStyling":[73343],"./semanticTokensStyling.js":[73343],"./semanticTokensStylingService":[84146],"./semanticTokensStylingService.js":[84146],"./textModelSync/textModelSync.impl":[28944],"./textModelSync/textModelSync.impl.js":[28944],"./textModelSync/textModelSync.protocol":[23145,3145],"./textModelSync/textModelSync.protocol.js":[23145,3145],"./textResourceConfiguration":[71765],"./textResourceConfiguration.js":[71765],"./treeSitterParserService":[28922],"./treeSitterParserService.js":[28922],"./treeViewsDnd":[80642],"./treeViewsDnd.js":[80642],"./treeViewsDndService":[58345],"./treeViewsDndService.js":[58345],"./unicodeTextModelHighlighter":[31446],"./unicodeTextModelHighlighter.js":[31446]};function d(A){if(!t.o(f,A))return Promise.resolve().then(function(){var o=new Error("Cannot find module '"+A+"'");throw o.code="MODULE_NOT_FOUND",o});var x=f[A],z=x[0];return Promise.all(x.slice(1).map(t.e)).then(function(){return t(z)})}d.keys=function(){return Object.keys(f)},d.id=10131,me.exports=d}}]);
