(self.webpackChunk=self.webpackChunk||[]).push([[6673],{56477:function(k,R,e){"use strict";e.d(R,{Z:function(){return a}});var s=e(87462),x=e(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"down-circle",theme:"outlined"},b=g,P=e(84089),u=function(m,L){return x.createElement(P.Z,(0,s.Z)({},m,{ref:L,icon:b}))},B=x.forwardRef(u),a=B},61011:function(k,R,e){"use strict";e.d(R,{Z:function(){return a}});var s=e(87462),x=e(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M666.7 505.5l-246-178A8 8 0 00408 334v46.9c0 10.2 4.9 19.9 13.2 25.9L566.6 512 421.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5l246-178c4.4-3.2 4.4-9.8 0-13z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"right-circle",theme:"outlined"},b=g,P=e(84089),u=function(m,L){return x.createElement(P.Z,(0,s.Z)({},m,{ref:L,icon:b}))},B=x.forwardRef(u),a=B},86615:function(k,R,e){"use strict";var s=e(1413),x=e(91),g=e(22270),b=e(78045),P=e(62435),u=e(90789),B=e(10354),a=e(86074),O=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],m=P.forwardRef(function(T,D){var M=T.fieldProps,W=T.options,S=T.radioType,f=T.layout,i=T.proFieldProps,A=T.valueEnum,N=(0,x.Z)(T,O);return(0,a.jsx)(B.Z,(0,s.Z)((0,s.Z)({valueType:S==="button"?"radioButton":"radio",ref:D,valueEnum:(0,g.h)(A,void 0)},N),{},{fieldProps:(0,s.Z)({options:W,layout:f},M),proFieldProps:i,filedConfig:{customLightMode:!0}}))}),L=P.forwardRef(function(T,D){var M=T.fieldProps,W=T.children;return(0,a.jsx)(b.ZP,(0,s.Z)((0,s.Z)({},M),{},{ref:D,children:W}))}),p=(0,u.G)(L,{valuePropName:"checked",ignoreWidth:!0}),U=p;U.Group=m,U.Button=b.ZP.Button,U.displayName="ProFormComponent",R.Z=U},64317:function(k,R,e){"use strict";var s=e(1413),x=e(91),g=e(22270),b=e(62435),P=e(66758),u=e(10354),B=e(86074),a=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],O=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],m=function(M,W){var S=M.fieldProps,f=M.children,i=M.params,A=M.proFieldProps,N=M.mode,h=M.valueEnum,H=M.request,te=M.showSearch,K=M.options,se=(0,x.Z)(M,a),ie=(0,b.useContext)(P.Z);return(0,B.jsx)(u.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,g.h)(h),request:H,params:i,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:K,mode:N,showSearch:te,getPopupContainer:ie.getPopupContainer},S),ref:W,proFieldProps:A},se),{},{children:f}))},L=b.forwardRef(function(D,M){var W=D.fieldProps,S=D.children,f=D.params,i=D.proFieldProps,A=D.mode,N=D.valueEnum,h=D.request,H=D.options,te=(0,x.Z)(D,O),K=(0,s.Z)({options:H,mode:A||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},W),se=(0,b.useContext)(P.Z);return(0,B.jsx)(u.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,g.h)(N),request:h,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({getPopupContainer:se.getPopupContainer},K),ref:M,proFieldProps:i},te),{},{children:S}))}),p=b.forwardRef(m),U=L,T=p;T.SearchSelect=U,T.displayName="ProFormComponent",R.Z=T},5966:function(k,R,e){"use strict";var s=e(97685),x=e(1413),g=e(91),b=e(21770),P=e(23323),u=e(55241),B=e(98423),a=e(62435),O=e(10354),m=e(86074),L=["fieldProps","proFieldProps"],p=["fieldProps","proFieldProps"],U="text",T=function(f){var i=f.fieldProps,A=f.proFieldProps,N=(0,g.Z)(f,L);return(0,m.jsx)(O.Z,(0,x.Z)({valueType:U,fieldProps:i,filedConfig:{valueType:U},proFieldProps:A},N))},D=function(f){var i=(0,b.Z)(f.open||!1,{value:f.open,onChange:f.onOpenChange}),A=(0,s.Z)(i,2),N=A[0],h=A[1];return(0,m.jsx)(P.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(te){var K,se=te.getFieldValue(f.name||[]);return(0,m.jsx)(u.Z,(0,x.Z)((0,x.Z)({getPopupContainer:function(z){return z&&z.parentNode?z.parentNode:z},onOpenChange:function(z){return h(z)},content:(0,m.jsxs)("div",{style:{padding:"4px 0"},children:[(K=f.statusRender)===null||K===void 0?void 0:K.call(f,se),f.strengthText?(0,m.jsx)("div",{style:{marginTop:10},children:(0,m.jsx)("span",{children:f.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},f.popoverProps),{},{open:N,children:f.children}))}})},M=function(f){var i=f.fieldProps,A=f.proFieldProps,N=(0,g.Z)(f,p),h=(0,a.useState)(!1),H=(0,s.Z)(h,2),te=H[0],K=H[1];return i!=null&&i.statusRender&&N.name?(0,m.jsx)(D,{name:N.name,statusRender:i==null?void 0:i.statusRender,popoverProps:i==null?void 0:i.popoverProps,strengthText:i==null?void 0:i.strengthText,open:te,onOpenChange:K,children:(0,m.jsx)("div",{children:(0,m.jsx)(O.Z,(0,x.Z)({valueType:"password",fieldProps:(0,x.Z)((0,x.Z)({},(0,B.Z)(i,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(ie){var z;i==null||(z=i.onBlur)===null||z===void 0||z.call(i,ie),K(!1)},onClick:function(ie){var z;i==null||(z=i.onClick)===null||z===void 0||z.call(i,ie),K(!0)}}),proFieldProps:A,filedConfig:{valueType:U}},N))})}):(0,m.jsx)(O.Z,(0,x.Z)({valueType:"password",fieldProps:i,proFieldProps:A,filedConfig:{valueType:U}},N))},W=T;W.Password=M,W.displayName="ProFormComponent",R.Z=W},90672:function(k,R,e){"use strict";var s=e(1413),x=e(91),g=e(62435),b=e(10354),P=e(86074),u=["fieldProps","proFieldProps"],B=function(O,m){var L=O.fieldProps,p=O.proFieldProps,U=(0,x.Z)(O,u);return(0,P.jsx)(b.Z,(0,s.Z)({ref:m,valueType:"textarea",fieldProps:L,proFieldProps:p},U))};R.Z=g.forwardRef(B)},31732:function(k,R,e){"use strict";var s=e(97857),x=e.n(s),g=e(66309),b=e(62435),P=e(86074);R.Z=function(u){var B=u.text,a=u.style;return(0,P.jsx)(g.Z,{style:x()({background:"#ebf0ff",border:"1px solid #a6bfff",borderRadius:2,color:"#457aff"},a),children:B})}},24163:function(k,R,e){"use strict";var s=e(97857),x=e.n(s),g=e(25593),b=e(83062),P=e(62435),u=e(86074),B=g.Z.Paragraph;R.Z=function(a){var O=a.text,m=a.width,L=a.maxWidth,p=a.rows,U=p===void 0?2:p,T=a.placement,D=T===void 0?"top":T,M=a.color,W=M===void 0?"rgba(0, 0, 0, 0.88)":M,S=a.link,f=S===void 0?!1:S,i=a.onClickCallBackFunc,A=a.style,N=A===void 0?{}:A,h=a.copyable,H=h===void 0?!1:h;return(0,u.jsx)("div",{style:{maxWidth:L,width:m},children:(0,u.jsx)(b.Z,{title:(0,u.jsx)("div",{children:O}),placement:D,children:(0,u.jsx)(B,{ellipsis:{rows:U},style:x()({marginBottom:0,color:W,cursor:f?"pointer":""},N),onClick:i,copyable:H,children:O})})})}},28235:function(k,R,e){"use strict";var s=e(97857),x=e.n(s),g=e(25593),b=e(83062),P=e(62435),u=e(86074),B=g.Z.Paragraph;R.Z=function(a){var O=a.text,m=a.width,L=a.maxWidth,p=a.rows,U=p===void 0?2:p,T=a.placement,D=T===void 0?"top":T,M=a.color,W=M===void 0?"rgba(0, 0, 0, 0.88)":M,S=a.link,f=S===void 0?!1:S,i=a.onClickCallBackFunc,A=a.style,N=A===void 0?{}:A,h=a.copyable,H=h===void 0?!1:h,te=a.tooltipText;return(0,u.jsx)("div",{style:{maxWidth:L,width:m},children:(0,u.jsx)(b.Z,{title:te,placement:D,children:(0,u.jsx)(B,{ellipsis:{rows:U},style:x()({marginBottom:0,color:W,cursor:f?"pointer":""},N),onClick:i,copyable:H,children:O})})})}},7105:function(k,R,e){"use strict";e.r(R),e.d(R,{default:function(){return he}});var s=e(13769),x=e.n(s),g=e(9783),b=e.n(g),P=e(97857),u=e.n(P),B=e(15009),a=e.n(B),O=e(99289),m=e.n(O),L=e(5574),p=e.n(L),U=e(31732),T=e(53846),D=e(24163),M=e(28235),W=e(79930),S=e(96655),f=e(17910),i=e(29448),A=e(86548),N=e(87462),h=e(62435),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},te=H,K=e(84089),se=function(G,ce){return h.createElement(K.Z,(0,N.Z)({},G,{ref:ce,icon:te}))},ie=h.forwardRef(se),z=ie,we=e(56477),tt=e(61011),n=e(39380),j=e(93410),$=e(70989),c=e(92016),C=e(3303),re=e(75302),J=e(68872),V=e(23323),w=e(83622),ve=e(83062),ne=e(42075),ye=e(55241),fe=e(86738),Ie=e(72269),Te=e(71230),I=e(15746),Se=e(84567),Re=e(34041),ge=e(96486),ke=e(37476),Ze=e(64317),Be=e(97462),De=e(5966),le=e(86615),rt=e(90672),nt=e(57381),Ke=e(32983),r=e(86074),ze=function(G){var ce=(0,c.useModel)("rule"),be=ce.platformList,at=ce.ruleGroupList,st=J.ZP.useMessage(),Je=p()(st,2),Fe=Je[0],Ae=Je[1],$e=V.Z.useForm(),We=p()($e,1),xe=We[0],Ne=(0,c.useIntl)(),Qe=(0,h.useState)([]),X=p()(Qe,2),it=X[0],Ce=X[1],ue=(0,h.useState)(!1),Ue=p()(ue,2),ut=Ue[0],Xe=Ue[1],de=G.editFormVisible,l=G.groupInfo,Ye=G.setEditFormVisible,qe=G.tableActionRef,dt=function(){var Y=m()(a()().mark(function oe(q){var me,ae,ee,Ee;return a()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return me=u()({},q),l.id&&(me.id=l.id),Me.next=4,(0,S.saveRule)(me);case 4:ae=Me.sent,(ae.msg==="success"||[200].includes(ae.code))&&(l.id?Fe.success(Ne.formatMessage({id:"common.message.text.edit.success"})):Fe.success(Ne.formatMessage({id:"common.message.text.create.success"})),Ye(!1),(ee=qe.current)===null||ee===void 0||(Ee=ee.reloadAndRest)===null||Ee===void 0||Ee.call(ee));case 6:case"end":return Me.stop()}},oe)}));return function(q){return Y.apply(this,arguments)}}(),et=function(){var Y=m()(a()().mark(function oe(q){var me;return a()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(q.trim()){ee.next=2;break}return ee.abrupt("return");case 2:return Xe(!0),ee.next=5,(0,W.queryTypeList)({platform:q});case 5:me=ee.sent,Xe(!1),(0,ge.isEmpty)(me.content)?(Fe.error(Ne.formatMessage({id:"cloudAccount.message.text.no.assets"})),Ce([])):Ce(me.content);case 8:case"end":return ee.stop()}},oe)}));return function(q){return Y.apply(this,arguments)}}();(0,h.useEffect)(function(){de&&!(0,ge.isEmpty)(l)&&(xe.setFieldsValue(u()({},l)),l.platform&&et(l.platform))},[de,l]);var ct=function(){xe.resetFields()},mt=function(){Ye(!1),ct()};return(0,r.jsxs)(r.Fragment,{children:[Ae,(0,r.jsxs)(ke.Y,{title:l.id?"\u7F16\u8F91\u89C4\u5219":"\u65B0\u5EFA\u89C4\u5219",width:640,labelCol:{span:4},wrapperCol:{span:20},form:xe,modalProps:{destroyOnClose:!0,onCancel:function(){return mt()}},layout:"horizontal",open:de,onFinish:dt,children:[(0,r.jsx)(Ze.Z,{label:"\u5E73\u53F0",name:"platform",placeholder:"\u8BF7\u9009\u62E9\u5E73\u53F0",rules:[{required:!0}],options:be||[],onChange:function(){var Y=m()(a()().mark(function oe(q){return a()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,et(q);case 2:xe.setFieldValue("resourceType",null);case 3:case"end":return ae.stop()}},oe)}));return function(oe){return Y.apply(this,arguments)}}()}),(0,r.jsx)(Be.Z,{name:["platform"],children:function(oe){var q=oe.platform;return(0,ge.isEmpty)(q)?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(Ze.Z,{label:"\u8D44\u4EA7\u7C7B\u578B",name:"resourceType",placeholder:"\u8BF7\u9009\u62E9\u8D44\u4EA7\u7C7B\u578B",options:it||[],fieldProps:{fieldNames:{label:"resourceName",value:"resourceType"},showSearch:!0,filterOption:!0,notFoundContent:ut?(0,r.jsx)(nt.Z,{size:"small"}):(0,r.jsx)(Ke.Z,{image:Ke.Z.PRESENTED_IMAGE_SIMPLE})},rules:[{required:!0}]})}}),(0,r.jsx)(Ze.Z,{label:"\u89C4\u5219\u7EC4",name:"ruleGroupId",placeholder:"\u8BF7\u9009\u62E9\u89C4\u5219\u7EC4",rules:[{required:!0}],options:at||[]}),(0,r.jsx)(De.Z,{name:"ruleName",label:"\u89C4\u5219\u540D\u79F0",rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0"}),(0,r.jsx)(De.Z,{name:"ruleDesc",label:"\u89C4\u5219\u63CF\u8FF0",rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u89C4\u5219\u63CF\u8FF0"}),(0,r.jsx)(le.Z.Group,{name:"riskLevel",label:"\u98CE\u9669\u7B49\u7EA7",rules:[{required:!0}],initialValue:"Low",options:(f.I9===null||f.I9===void 0?void 0:f.I9.map(function(Y){return{label:Y.text,value:Y.value}}))||[]}),(0,r.jsx)(rt.Z,{name:"advice",label:"\u4FEE\u590D\u5EFA\u8BAE",placeholder:"\u8BF7\u8F93\u5165\u4FEE\u590D\u5EFA\u8BAE"}),(0,r.jsx)(De.Z,{name:"link",label:"\u53C2\u8003\u94FE\u63A5",placeholder:"\u8BF7\u8F93\u5165\u53C2\u8003\u94FE\u63A5",rules:[{pattern:new RegExp("^(https?|ftp):\\/\\/[^\\s/$.?#].[^\\s]*$","i"),message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u94FE\u63A5"}]})]})]})},lt=ze,Q=e(61194),Ve=["pageSize","current"],Ge=C.Z.SHOW_CHILD,He=re.ZP.useBreakpoint,Pe=function(G,ce){var be;return(be=ce.label)===null||be===void 0?void 0:be.includes(G)},ot=function(){var G=(0,c.useModel)("rule"),ce=G.platformList,be=G.ruleTypeList,at=G.allRuleList,st=G.ruleGroupList,Je=(0,c.useLocation)(),Fe=Je.search,Ae=new URLSearchParams(Fe),$e=Ae.get("groupId"),We=Ae.get("ruleCode"),xe=Ae.get("platform"),Ne=J.ZP.useMessage(),Qe=p()(Ne,2),X=Qe[0],it=Qe[1],Ce=He(),ue=(0,h.useRef)(),Ue=(0,h.useRef)(),ut=V.Z.useForm(),Xe=p()(ut,1),de=Xe[0],l=(0,c.useIntl)(),Ye=(0,h.useState)(!1),qe=p()(Ye,2),dt=qe[0],et=qe[1],ct=(0,h.useRef)({}),mt=(0,h.useState)(!1),Y=p()(mt,2),oe=Y[0],q=Y[1],me=(0,h.useState)(!1),ae=p()(me,2),ee=ae[0],Ee=ae[1],yt=(0,h.useState)(0),Me=p()(yt,2),pt=Me[0],It=Me[1],Bt=(0,h.useState)(),Pt=p()(Bt,2),Dt=Pt[0],Ft=Pt[1],At=(0,h.useState)({}),Et=p()(At,2),vt=Et[0],Mt=Et[1],$t=(0,h.useState)({}),Rt=p()($t,2),ft=Rt[0],bt=Rt[1],Wt=(0,h.useState)(!1),jt=p()(Wt,2),Nt=jt[0],Tt=jt[1],Ut=(0,h.useState)([]),St=p()(Ut,2),Zt=St[0],_t=St[1],wt=(0,h.useState)({lastScanTime:{show:!1},groupName:{show:!1},gmtCreated:{show:!1}}),kt=p()(wt,1),Kt=kt[0],zt=function(o){return o.id===Dt?"ant-table-row-selected":""},Vt=(0,h.useState)([]),Ot=p()(Vt,2),Gt=Ot[0],gt=Ot[1],ht=function(){var y=m()(a()().mark(function o(){var t;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,(0,S.checkExistNewRule)();case 3:t=d.sent,t.code===200&&typeof t.content=="number"&&It(t.content),d.next=10;break;case 7:d.prev=7,d.t0=d.catch(0),console.error("Failed to check new rules:",d.t0);case 10:case"end":return d.stop()}},o,null,[[0,7]])}));return function(){return y.apply(this,arguments)}}(),Ht=(0,c.useRequest)(function(y){return(0,W.queryGroupTypeList)({platformList:y})},{manual:!0,formatResult:function(o){var t=o.content;gt(t||[])}}),xt=Ht.run,Jt=function(){var y=m()(a()().mark(function o(t){var v,d,E,F;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return v=X.loading(l.formatMessage({id:"common.message.text.delete.loading"})),_.next=3,(0,S.deleteRule)({id:t});case 3:d=_.sent,v(),(d.code===200||d.msg==="success")&&(X.success(l.formatMessage({id:"common.message.text.delete.success"})),(E=ue.current)===null||E===void 0||(F=E.reloadAndRest)===null||F===void 0||F.call(E));case 6:case"end":return _.stop()}},o)}));return function(t){return y.apply(this,arguments)}}(),Qt=function(){var y=m()(a()().mark(function o(t){var v,d,E,F;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return Mt(u()(u()({},vt),{},b()({},t,!0))),v=X.loading(l.formatMessage({id:"common.message.text.execute.loading"})),_.next=4,(0,S.scanByRule)({id:t});case 4:d=_.sent,Mt(u()(u()({},vt),{},b()({},t,!1))),v(),(d.code===200||d.msg==="success")&&(X.success(l.formatMessage({id:"common.message.text.execute.success"})),(E=ue.current)===null||E===void 0||(F=E.reloadAndRest)===null||F===void 0||F.call(E));case 8:case"end":return _.stop()}},o)}));return function(t){return y.apply(this,arguments)}}(),Xt=function(){var y=m()(a()().mark(function o(t){var v,d,E,F;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return bt(u()(u()({},ft),{},b()({},t,!0))),v=X.loading(l.formatMessage({id:"common.message.text.copy.loading"})),_.next=4,(0,S.copyRule)({id:t});case 4:d=_.sent,bt(u()(u()({},ft),{},b()({},t,!1))),v(),(d.code===200||d.msg==="success")&&(X.success(l.formatMessage({id:"common.message.text.copy.success"})),(E=ue.current)===null||E===void 0||(F=E.reloadAndRest)===null||F===void 0||F.call(E));case 8:case"end":return _.stop()}},o)}));return function(t){return y.apply(this,arguments)}}(),Yt=function(){var y=m()(a()().mark(function o(t,v){var d,E,F,Z;return a()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return d={id:t,status:v},pe.next=3,(0,S.changeRuleStatus)(d);case 3:E=pe.sent,(E.code===200||E.msg==="success")&&(X.success(l.formatMessage({id:"common.message.text.edit.success"})),(F=ue.current)===null||F===void 0||(Z=F.reloadAndRest)===null||Z===void 0||Z.call(F));case 5:case"end":return pe.stop()}},o)}));return function(t,v){return y.apply(this,arguments)}}(),qt=function(o){Tt(!0),(0,S.queryExportRuleList)(o?{idList:o}:void 0,{responseType:"blob"}).then(function(t){(0,i.a5)(t,"CloudRec ".concat(l.formatMessage({id:"rule.module.text.rule.data"}))),X.success(l.formatMessage({id:"common.message.text.export.success"}))}).finally(function(){return Tt(!1)})};(0,h.useEffect)(function(){(0,ge.isEmpty)($e)||de.setFieldValue("ruleGroupIdList",[Number($e)]),(0,ge.isEmpty)(We)||de.setFieldValue("ruleCodeList",[We]),(0,ge.isEmpty)(xe)||(de.setFieldValue("platformList",[xe]),xt([xe])),ht()},[$e,We,xe]);var er=[{title:l.formatMessage({id:"home.module.inform.columns.ruleName"}),dataIndex:"ruleName",valueType:"text",align:"left",hideInSearch:!0,render:function(o,t){var v;return(0,r.jsxs)("div",{children:[(0,r.jsx)(M.Z,{placement:"topLeft",maxWidth:Ce!=null&&Ce.xxl?600:400,rows:1,text:(t==null?void 0:t.ruleName)||"-",tooltipText:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[l.formatMessage({id:"rule.module.text.rule.code"}),"\xA0: ",(t==null?void 0:t.ruleCode)||"-"]}),(0,r.jsxs)("div",{children:[l.formatMessage({id:"home.module.inform.columns.ruleName"}),"\xA0: ",(t==null?void 0:t.ruleName)||"-"]}),(0,r.jsxs)("div",{children:[l.formatMessage({id:"rule.module.text.rule.describe"}),"\xA0: ",(t==null?void 0:t.ruleDesc)||"-"]})]}),style:{fontWeight:500,color:"rgb(58, 58, 58)"}}),(0,r.jsx)(D.Z,{placement:"topLeft",maxWidth:Ce!=null&&Ce.xxl?600:400,rows:1,text:(t==null||(v=t.ruleTypeNameList)===null||v===void 0?void 0:v.toString())||"-",style:{color:"rgb(166, 167, 167)",fontSize:13}})]})}},{title:l.formatMessage({id:"cloudAccount.extend.title.asset.type"}),dataIndex:"resourceTypeStr",valueType:"text",align:"left",hideInSearch:!0,render:function(o,t){return(0,r.jsx)(U.Z,{text:(t==null?void 0:t.resourceTypeStr)||"-"})}},{title:l.formatMessage({id:"home.module.inform.columns.riskLevel"}),dataIndex:"riskLevel",valueType:"select",valueEnum:(0,i.W_)(f.I9),align:"center",hideInSearch:!0,render:function(o,t){return(0,i.Dd)(f.I9,t==null?void 0:t.riskLevel)}},{title:l.formatMessage({id:"common.table.columns.platform"}),dataIndex:"platform",valueType:"select",valueEnum:(0,i.W_)(ce),align:"center",hideInSearch:!0,render:function(o,t){return(0,i.c5)(t.platform,ce)},fieldProps:{onChange:function(o){var t;(t=Ue.current)===null||t===void 0||t.setFieldValue("resourceTypeList",null),gt([]),xt(o)}}},{title:l.formatMessage({id:"asset.module.risk.number"}),dataIndex:"riskCount",valueType:"text",hideInSearch:!0,align:"center",sorter:!0,render:function(o,t){return(0,r.jsx)(w.ZP,{type:"link",size:"small",href:"/riskManagement/riskList?platform=".concat(t==null?void 0:t.platform,"&ruleCode=").concat(t==null?void 0:t.ruleCode," "),children:t==null?void 0:t.riskCount})}},{title:l.formatMessage({id:"rule.table.columns.text.isRunning"}),dataIndex:"isRunning",valueType:"text",hideInSearch:!0,align:"center",render:function(o,t){var v=t!=null&&t.isRunning?"green":"gray",d=t!=null&&t.isRunning?"running":"stop";return(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,r.jsx)(ve.Z,{title:d,children:(0,r.jsx)("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:v,cursor:"pointer"}})})})}},{title:l.formatMessage({id:"rule.input.text.rule.group.creator"}),dataIndex:"username",valueType:"text",hideInSearch:!0,width:120},{title:l.formatMessage({id:"common.table.columns.last.scan.time"}),dataIndex:"lastScanTime",valueType:"dateTime",hideInSearch:!0,align:"left",width:160},{title:l.formatMessage({id:"layout.routes.title.ruleGroup"}),dataIndex:"groupName",valueType:"text",align:"left",hideInSearch:!0,width:240,render:function(o,t){var v;return(0,r.jsx)(D.Z,{placement:"topLeft",maxWidth:220,rows:2,text:(t==null||(v=t.ruleGroupNameList)===null||v===void 0?void 0:v.toString())||"-",style:{color:"rgb(51, 51, 51)"}})}},{title:l.formatMessage({id:"common.table.columns.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(o,t){return(0,r.jsxs)("div",{children:[(0,r.jsx)("section",{style:{color:"#999"},children:(t==null?void 0:t.gmtCreate)||"-"}),(0,r.jsx)("section",{style:{color:"#999"},children:(t==null?void 0:t.gmtModified)||"-"})]})}},{title:l.formatMessage({id:"common.table.columns.rule.status"}),dataIndex:"status",hideInTable:!0,valueEnum:{valid:l.formatMessage({id:"common.button.text.enable"}),invalid:l.formatMessage({id:"common.button.text.disable"})}},{title:l.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",render:function(o,t){return(0,r.jsxs)(ne.Z,{size:"small",children:[(0,r.jsx)(w.ZP,{size:"small",onClick:function(){return Ft(t.id)},type:"link",target:"_self",href:"/ruleManagement/ruleProject/edit?id=".concat(t==null?void 0:t.id),children:(0,r.jsx)(ve.Z,{title:l.formatMessage({id:"common.button.text.edit"}),children:(0,r.jsx)(A.Z,{})})}),(0,r.jsx)(ye.Z,{content:(0,r.jsxs)(ne.Z,{children:[(0,r.jsx)(fe.Z,{title:l.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return Jt(t.id)},okText:l.formatMessage({id:"common.button.text.ok"}),cancelText:l.formatMessage({id:"common.button.text.cancel"}),children:(0,r.jsx)(w.ZP,{block:!0,type:"link",danger:!0,size:"small",children:l.formatMessage({id:"common.button.text.delete"})})}),(0,r.jsx)(w.ZP,{block:!0,loading:vt[Number(t.id)],onClick:function(){return Qt(t.id)},type:"link",target:"_blank",size:"small",children:l.formatMessage({id:"common.button.text.test"})}),(0,r.jsx)(w.ZP,{block:!0,loading:ft[Number(t.id)],onClick:function(){return Xt(t.id)},type:"link",target:"_blank",size:"small",children:l.formatMessage({id:"common.button.text.copy"})})]}),children:(0,r.jsx)(w.ZP,{type:"link",icon:(0,r.jsx)(z,{})})}),(0,r.jsx)(ve.Z,{title:l.formatMessage({id:"rule.module.text.tooltip.status"}),children:(0,r.jsx)(Ie.Z,{checkedChildren:l.formatMessage({id:"common.button.text.enable"}),unCheckedChildren:l.formatMessage({id:"common.button.text.disable"}),checked:(t==null?void 0:t.status)==="valid",onClick:function(){return Yt(t.id,(t==null?void 0:t.status)==="valid"?"invalid":"valid")}})})]})}}];return(0,r.jsxs)(n._z,{ghost:!0,title:!1,className:Q.Z.rulePageContainer,breadcrumbRender:!1,children:[it,(0,r.jsx)(j.Z,{bodyStyle:{paddingBottom:0},className:Q.Z.customFilterCard,children:(0,r.jsx)(V.Z,{form:de,children:(0,r.jsxs)(Te.Z,{gutter:[24,10],children:[(0,r.jsx)(I.Z,{span:24,children:(0,r.jsx)(V.Z.Item,{name:"platformList",label:l.formatMessage({id:"common.select.label.cloudPlatform"}),style:{marginBottom:0},children:(0,r.jsx)(Se.Z.Group,{options:(0,i.T$)(ce),onChange:function(o){de.setFieldValue("resourceTypeList",null),gt([]),xt(o)}})})}),(0,r.jsx)(I.Z,{span:24,children:(0,r.jsx)(V.Z.Item,{name:"riskLevelList",label:l.formatMessage({id:"home.module.inform.columns.riskLevel"}),style:{marginBottom:0},children:(0,r.jsx)(Se.Z.Group,{options:(0,i.at)(f.I9)})})}),(0,r.jsx)(I.Z,{span:6,children:(0,r.jsx)(V.Z.Item,{name:"ruleCodeList",label:l.formatMessage({id:"home.module.inform.columns.ruleName"}),style:{marginBottom:0},children:(0,r.jsx)(Re.Z,{filterOption:Pe,placeholder:l.formatMessage({id:"common.select.text.placeholder"}),allowClear:!0,options:at,mode:"multiple"})})}),(0,r.jsx)(I.Z,{span:6,children:(0,r.jsx)(V.Z.Item,{name:"resourceTypeList",label:l.formatMessage({id:"cloudAccount.extend.title.asset.type"}),style:{marginBottom:0,width:"100%"},children:(0,r.jsx)(C.Z,{options:Gt,multiple:!0,placeholder:l.formatMessage({id:"common.select.text.placeholder"}),showCheckedStrategy:Ge,allowClear:!0,showSearch:!0})})}),(0,r.jsx)(I.Z,{span:6,children:(0,r.jsx)(V.Z.Item,{name:"ruleGroupIdList",label:l.formatMessage({id:"layout.routes.title.ruleGroup"}),style:{marginBottom:0,width:"100%"},children:(0,r.jsx)(Re.Z,{placeholder:l.formatMessage({id:"common.select.text.placeholder"}),options:st,allowClear:!0,mode:"multiple"})})}),(0,r.jsx)(I.Z,{span:6,children:(0,r.jsx)(V.Z.Item,{name:"ruleTypeIdList",label:l.formatMessage({id:"home.module.inform.columns.ruleTypeName"}),style:{marginBottom:0,width:"100%"},children:(0,r.jsx)(C.Z,{placeholder:l.formatMessage({id:"common.select.text.placeholder"}),showCheckedStrategy:Ge,allowClear:!0,showSearch:!0,fieldNames:{label:"typeName",value:"id",children:"childList"},multiple:!0,options:be||[]})})})]})})}),(0,r.jsx)($.Z,{scroll:{x:"max-content"},rowSelection:{type:"checkbox",selectedRowKeys:Zt,onChange:function(o){return _t(o)},preserveSelectedRowKeys:!0},headerTitle:(0,r.jsx)("div",{className:T.Z.customTitle,children:(0,r.jsx)(ne.Z,{children:l.formatMessage({id:"rule.module.text.rule.inquiry"})})}),actionRef:ue,formRef:Ue,rowClassName:zt,rowKey:"id",search:{span:6,defaultCollapsed:!1,collapseRender:!1,labelWidth:0},toolBarRender:function(){return[(0,r.jsx)(ye.Z,{open:oe,onOpenChange:function(t){return q(t)},title:l.formatMessage({id:"rule.module.text.sync.confirm"}),content:(0,r.jsxs)(ne.Z,{children:[(0,r.jsx)(w.ZP,{danger:!0,type:"primary",loading:ee,onClick:m()(a()().mark(function o(){var t,v,d,E;return a()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Ee(!0),t=X.loading(l.formatMessage({id:"rule.module.text.sync.loading"})),Z.prev=2,Z.next=5,(0,S.loadRuleFromGithub)({coverage:!0});case 5:v=Z.sent,(v.code===200||v.msg==="success")&&(X.success(l.formatMessage({id:"rule.module.text.sync.success"})),(d=ue.current)===null||d===void 0||(E=d.reloadAndRest)===null||E===void 0||E.call(d),ht());case 7:return Z.prev=7,t(),Ee(!1),q(!1),Z.finish(7);case 12:case"end":return Z.stop()}},o,null,[[2,,7,12]])})),children:l.formatMessage({id:"rule.module.text.sync.overwrite"})}),(0,r.jsx)(w.ZP,{type:"primary",loading:ee,onClick:m()(a()().mark(function o(){var t,v,d,E;return a()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Ee(!0),t=X.loading(l.formatMessage({id:"rule.module.text.sync.loading"})),Z.prev=2,Z.next=5,(0,S.loadRuleFromGithub)({coverage:!1});case 5:v=Z.sent,(v.code===200||v.msg==="success")&&(X.success(l.formatMessage({id:"rule.module.text.sync.success"})),(d=ue.current)===null||d===void 0||(E=d.reloadAndRest)===null||E===void 0||E.call(d),ht());case 7:return Z.prev=7,t(),Ee(!1),q(!1),Z.finish(7);case 12:case"end":return Z.stop()}},o,null,[[2,,7,12]])})),children:l.formatMessage({id:"rule.module.text.sync.no.overwrite"})}),(0,r.jsx)(w.ZP,{onClick:function(){q(!1)},children:l.formatMessage({id:"common.button.text.cancel"})})]}),trigger:"click",children:(0,r.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,r.jsx)(w.ZP,{type:"primary",children:l.formatMessage({id:"rule.module.text.sync.button"})}),pt>0&&(0,r.jsx)("div",{style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#ff4d4f",color:"white",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",zIndex:1},children:pt>99?"99+":pt})]})},"SYNC"),(0,r.jsx)(w.ZP,{type:"primary",href:"/ruleManagement/ruleProject/edit",children:l.formatMessage({id:"rule.extend.basic.add"})},"CREATE"),(0,r.jsx)(w.ZP,{loading:Nt,type:"primary",onClick:function(){return qt(Zt)},children:l.formatMessage({id:"common.button.text.export"})},"EXPORT")]},request:function(){var y=m()(a()().mark(function o(t,v){var d,E,F,Z,_,pe,Oe,Ct,je,Lt;return a()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return d=t.pageSize,E=t.current,F=x()(t,Ve),Z=de.getFieldsValue(),_=(0,i.Hm)(v),pe=u()(u()(u()({},F),Z),{},{page:E,size:d}),(0,ge.isEmpty)(_)||(pe.sortParam=_==null?void 0:_.key,pe.sortType=_==null||(Oe=_.value)===null||Oe===void 0||(Oe=Oe.slice(0,-3))===null||Oe===void 0?void 0:Oe.toUpperCase()),Le.next=7,(0,S.queryRuleList)(pe);case 7:return Ct=Le.sent,je=Ct.content,Lt=Ct.code,Le.abrupt("return",{data:(je==null?void 0:je.data)||[],total:(je==null?void 0:je.total)||0,success:Lt===200||!1});case 11:case"end":return Le.stop()}},o)}));return function(o,t){return y.apply(this,arguments)}}(),onReset:function(){var o;de.resetFields(),_t([]),(o=ue.current)===null||o===void 0||o.reloadAndRest()},columns:er,columnsState:{defaultValue:Kt,persistenceType:"localStorage",persistenceKey:"RULE_TABLE_LIST_CACHE"},pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1},expandable:{expandedRowRender:function(o){return(0,r.jsxs)(Te.Z,{children:[(0,r.jsx)(I.Z,{span:3,className:Q.Z.dimBlock,style:{borderLeft:"0.5px solid rgb(239, 239, 239)",borderBottom:"none"},children:l.formatMessage({id:"home.module.inform.columns.ruleName"})}),(0,r.jsx)(I.Z,{span:9,className:Q.Z.cleanBlock,style:{borderBottom:"none"},children:(o==null?void 0:o.ruleName)||"-"}),(0,r.jsx)(I.Z,{span:3,className:Q.Z.dimBlock,style:{borderBottom:"none"},children:l.formatMessage({id:"rule.module.text.rule.describe"})}),(0,r.jsx)(I.Z,{span:9,className:Q.Z.cleanBlock,style:{borderBottom:"none"},children:(o==null?void 0:o.ruleDesc)||"-"}),(0,r.jsx)(I.Z,{span:3,className:Q.Z.dimBlock,style:{borderLeft:"0.5px solid rgb(239, 239, 239)"},children:l.formatMessage({id:"rule.module.text.repair.suggestions"})}),(0,r.jsx)(I.Z,{span:5,className:Q.Z.cleanBlock,style:{flexDirection:"column"},children:(0,r.jsx)("div",{children:(o==null?void 0:o.advice)||"-"})}),(0,r.jsx)(I.Z,{span:3,className:Q.Z.dimBlock,children:l.formatMessage({id:"rule.module.text.reference.link"})}),(0,r.jsx)(I.Z,{span:5,className:Q.Z.cleanBlock,children:(0,r.jsx)("a",{type:"link",href:o==null?void 0:o.link,target:"_blank",rel:"noreferrer",className:Q.Z.lineBreak,children:(o==null?void 0:o.link)||"-"})}),(0,r.jsx)(I.Z,{span:3,className:Q.Z.dimBlock,children:l.formatMessage({id:"rule.module.text.risk.context.template"})}),(0,r.jsx)(I.Z,{span:5,className:Q.Z.cleanBlock,children:(o==null?void 0:o.context)||"-"})]})},columnTitle:(0,r.jsx)("div",{style:{width:30,textAlign:"center"}}),columnWidth:30,rowExpandable:function(){return!0},expandIcon:function(o){var t=o.expanded,v=o.onExpand,d=o.record;return t?(0,r.jsx)(we.Z,{style:{color:"#457aff",fontSize:14},onClick:function(F){return v(d,F)}}):(0,r.jsx)(tt.Z,{style:{color:"#457aff",fontSize:14},onClick:function(F){return v(d,F)}})}}}),(0,r.jsx)(lt,{editFormVisible:dt,setEditFormVisible:et,groupInfo:ct.current,tableActionRef:ue})]})},he=ot},53846:function(k,R){"use strict";R.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}},61194:function(k,R){"use strict";R.Z={floatButton:"floatButton___c4Q61",ruleEditPageContainer:"ruleEditPageContainer___JtP7R",stepListMain:"stepListMain___MjGkn",stepsWrap:"stepsWrap___GXD6m",contentMainTransparent:"contentMainTransparent___KcrOp",contentMain:"contentMain___zT9JY",ruleEditPageContainerSpecial:"ruleEditPageContainerSpecial___JGb_t",rulePageContainer:"rulePageContainer___p2US0",customFilterCard:"customFilterCard___A5TQf",customTitle:"customTitle___k1LUC",cleanBlock:"cleanBlock___et5AN",dimBlock:"dimBlock___EvyJb",lineBreak:"lineBreak___Oybab"}},75302:function(k,R,e){"use strict";var s=e(25378);function x(){return(0,s.Z)()}R.ZP={useBreakpoint:x}},66309:function(k,R,e){"use strict";e.d(R,{Z:function(){return tt}});var s=e(62435),x=e(93967),g=e.n(x),b=e(98423),P=e(98787),u=e(69760),B=e(96159),a=e(45353),O=e(53124),m=e(861),L=e(15063),p=e(14747),U=e(83262),T=e(83559);const D=n=>{const{paddingXXS:j,lineWidth:$,tagPaddingHorizontal:c,componentCls:C,calc:re}=n,J=re(c).sub($).equal(),V=re(j).sub($).equal();return{[C]:Object.assign(Object.assign({},(0,p.Wf)(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:J,fontSize:n.tagFontSize,lineHeight:n.tagLineHeight,whiteSpace:"nowrap",background:n.defaultBg,border:`${(0,m.unit)(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",position:"relative",[`&${C}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.defaultColor},[`${C}-close-icon`]:{marginInlineStart:V,fontSize:n.tagIconSize,color:n.colorIcon,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${C}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${C}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:J}}),[`${C}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}},M=n=>{const{lineWidth:j,fontSizeIcon:$,calc:c}=n,C=n.fontSizeSM;return(0,U.mergeToken)(n,{tagFontSize:C,tagLineHeight:(0,m.unit)(c(n.lineHeightSM).mul(C).equal()),tagIconSize:c($).sub(c(j).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:n.defaultBg})},W=n=>({defaultBg:new L.FastColor(n.colorFillQuaternary).onBackground(n.colorBgContainer).toHexString(),defaultColor:n.colorText});var S=(0,T.I$)("Tag",n=>{const j=M(n);return D(j)},W),f=function(n,j){var $={};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&j.indexOf(c)<0&&($[c]=n[c]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,c=Object.getOwnPropertySymbols(n);C<c.length;C++)j.indexOf(c[C])<0&&Object.prototype.propertyIsEnumerable.call(n,c[C])&&($[c[C]]=n[c[C]]);return $},A=s.forwardRef((n,j)=>{const{prefixCls:$,style:c,className:C,checked:re,onChange:J,onClick:V}=n,w=f(n,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:ve,tag:ne}=s.useContext(O.E_),ye=Re=>{J==null||J(!re),V==null||V(Re)},fe=ve("tag",$),[Ie,Te,I]=S(fe),Se=g()(fe,`${fe}-checkable`,{[`${fe}-checkable-checked`]:re},ne==null?void 0:ne.className,C,Te,I);return Ie(s.createElement("span",Object.assign({},w,{ref:j,style:Object.assign(Object.assign({},c),ne==null?void 0:ne.style),className:Se,onClick:ye})))}),N=e(98719);const h=n=>(0,N.Z)(n,(j,{textColor:$,lightBorderColor:c,lightColor:C,darkColor:re})=>({[`${n.componentCls}${n.componentCls}-${j}`]:{color:$,background:C,borderColor:c,"&-inverse":{color:n.colorTextLightSolid,background:re,borderColor:re},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}));var H=(0,T.bk)(["Tag","preset"],n=>{const j=M(n);return h(j)},W);function te(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}const K=(n,j,$)=>{const c=te($);return{[`${n.componentCls}${n.componentCls}-${j}`]:{color:n[`color${$}`],background:n[`color${c}Bg`],borderColor:n[`color${c}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}};var se=(0,T.bk)(["Tag","status"],n=>{const j=M(n);return[K(j,"success","Success"),K(j,"processing","Info"),K(j,"error","Error"),K(j,"warning","Warning")]},W),ie=function(n,j){var $={};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&j.indexOf(c)<0&&($[c]=n[c]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,c=Object.getOwnPropertySymbols(n);C<c.length;C++)j.indexOf(c[C])<0&&Object.prototype.propertyIsEnumerable.call(n,c[C])&&($[c[C]]=n[c[C]]);return $};const we=s.forwardRef((n,j)=>{const{prefixCls:$,className:c,rootClassName:C,style:re,children:J,icon:V,color:w,onClose:ve,bordered:ne=!0,visible:ye}=n,fe=ie(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:Ie,direction:Te,tag:I}=s.useContext(O.E_),[Se,Re]=s.useState(!0),ge=(0,b.Z)(fe,["closeIcon","closable"]);s.useEffect(()=>{ye!==void 0&&Re(ye)},[ye]);const ke=(0,P.o2)(w),Ze=(0,P.yT)(w),Be=ke||Ze,De=Object.assign(Object.assign({backgroundColor:w&&!Be?w:void 0},I==null?void 0:I.style),re),le=Ie("tag",$),[rt,nt,Ke]=S(le),r=g()(le,I==null?void 0:I.className,{[`${le}-${w}`]:Be,[`${le}-has-color`]:w&&!Be,[`${le}-hidden`]:!Se,[`${le}-rtl`]:Te==="rtl",[`${le}-borderless`]:!ne},c,C,nt,Ke),ze=Pe=>{Pe.stopPropagation(),ve==null||ve(Pe),!Pe.defaultPrevented&&Re(!1)},[,lt]=(0,u.Z)((0,u.w)(n),(0,u.w)(I),{closable:!1,closeIconRender:Pe=>{const ot=s.createElement("span",{className:`${le}-close-icon`,onClick:ze},Pe);return(0,B.wm)(Pe,ot,he=>({onClick:_e=>{var G;(G=he==null?void 0:he.onClick)===null||G===void 0||G.call(he,_e),ze(_e)},className:g()(he==null?void 0:he.className,`${le}-close-icon`)}))}}),Q=typeof fe.onClick=="function"||J&&J.type==="a",Ve=V||null,Ge=Ve?s.createElement(s.Fragment,null,Ve,J&&s.createElement("span",null,J)):J,He=s.createElement("span",Object.assign({},ge,{ref:j,className:r,style:De}),Ge,lt,ke&&s.createElement(H,{key:"preset",prefixCls:le}),Ze&&s.createElement(se,{key:"status",prefixCls:le}));return rt(Q?s.createElement(a.Z,{component:"Tag"},He):He)});we.CheckableTag=A;var tt=we},64599:function(k,R,e){var s=e(96263);function x(g,b){var P=typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"];if(!P){if(Array.isArray(g)||(P=s(g))||b&&g&&typeof g.length=="number"){P&&(g=P);var u=0,B=function(){};return{s:B,n:function(){return u>=g.length?{done:!0}:{done:!1,value:g[u++]}},e:function(p){throw p},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,O=!1,m;return{s:function(){P=P.call(g)},n:function(){var p=P.next();return a=p.done,p},e:function(p){O=!0,m=p},f:function(){try{!a&&P.return!=null&&P.return()}finally{if(O)throw m}}}}k.exports=x,k.exports.__esModule=!0,k.exports.default=k.exports}}]);
