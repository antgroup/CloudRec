"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4559],{24163:function(S,h,t){var T=t(97857),p=t.n(T),L=t(25593),j=t(83062),$=t(62435),r=t(86074),W=L.Z.Paragraph;h.Z=function(_){var D=_.text,P=_.width,y=_.maxWidth,C=_.rows,A=C===void 0?2:C,b=_.placement,E=b===void 0?"top":b,O=_.color,I=O===void 0?"rgba(0, 0, 0, 0.88)":O,x=_.link,U=x===void 0?!1:x,B=_.onClickCallBackFunc,v=_.style,M=v===void 0?{}:v,R=_.copyable,k=R===void 0?!1:R;return(0,r.jsx)("div",{style:{maxWidth:y,width:P},children:(0,r.jsx)(j.Z,{title:(0,r.jsx)("div",{children:D}),placement:E,children:(0,r.jsx)(W,{ellipsis:{rows:A},style:p()({marginBottom:0,color:I,cursor:U?"pointer":""},M),onClick:B,copyable:k,children:D})})})}},80113:function(S,h,t){t.r(h);var T=t(97857),p=t.n(T),L=t(13769),j=t.n(L),$=t(15009),r=t.n($),W=t(99289),_=t.n(W),D=t(5574),P=t.n(D),y=t(53846),C=t(24163),A=t(77603),b=t(68431),E=t(96655),O=t(29448),I=t(39380),x=t(70989),U=t(92016),B=t(68872),v=t(83622),M=t(96074),R=t(72269),k=t(86738),V=t(27484),w=t.n(V),K=t(62435),n=t(86074),J=["pageSize","current"],Q=function(){var g=(0,K.useRef)(),s=(0,U.useIntl)(),X=B.ZP.useMessage(),z=P()(X,2),Z=z[0],q=z[1],ee=(0,K.useState)(!1),H=P()(ee,2),te=H[0],Y=H[1],G=(0,K.useRef)({}),se=function(){var u=_()(r()().mark(function a(e){var o,d,i;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o={id:e.id},m.next=3,(0,E.queryWhiteRuleGrabLock)(o);case 3:d=m.sent,d.code===200&&(Z.success(s.formatMessage({id:"common.message.text.edit.success"})),(i=g.current)===null||i===void 0||i.reloadAndRest());case 5:case"end":return m.stop()}},a)}));return function(e){return u.apply(this,arguments)}}(),N=function(a){Y(!0),G.current=a},ne=function(){var u=_()(r()().mark(function a(e){var o,d,i,c;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o={id:e==null?void 0:e.id,enable:(e==null?void 0:e.enable)===1?0:1},l.next=3,(0,E.queryChangeWhiteListRuleStatus)(o);case 3:d=l.sent,d.code===200&&(Z.success(s.formatMessage({id:"common.message.text.edit.success"})),(i=g.current)===null||i===void 0||(c=i.reloadAndRest)===null||c===void 0||c.call(i));case 5:case"end":return l.stop()}},a)}));return function(e){return u.apply(this,arguments)}}(),le=function(){var u=_()(r()().mark(function a(e){var o,d,i,c;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o={id:e==null?void 0:e.id},l.next=3,(0,E.queryDeleteWhiteListRuleById)(o);case 3:d=l.sent,d.code===200&&(Z.success(s.formatMessage({id:"common.message.text.delete.success"})),(i=g.current)===null||i===void 0||(c=i.reloadAndRest)===null||c===void 0||c.call(i));case 5:case"end":return l.stop()}},a)}));return function(e){return u.apply(this,arguments)}}(),ae=[{title:s.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(a,e){return(0,n.jsxs)("div",{children:[(0,n.jsx)("section",{style:{color:"#999"},children:w()(e==null?void 0:e.gmtCreate).format("YYYY-MM-DD 18:00:00")||"-"}),(0,n.jsx)("section",{style:{color:"#999"},children:w()(e==null?void 0:e.gmtModified).format("YYYY-MM-DD 18:00:00")||"-"})]})}},{title:s.formatMessage({id:"rule.extend.text.whiteList.title"}),dataIndex:"ruleName",valueType:"text",align:"left"},{title:s.formatMessage({id:"rule.extend.text.whiteList.describe"}),dataIndex:"ruleDesc",valueType:"text",align:"left",hideInSearch:!0,render:function(a,e){return(0,n.jsx)(C.Z,{text:(e==null?void 0:e.ruleDesc)||"-",maxWidth:240,rows:1,style:{color:"rgb(51, 51, 51)"},placement:"topLeft"})}},{title:s.formatMessage({id:"rule.table.columns.text.type"}),dataIndex:"ruleType",valueType:"select",valueEnum:(0,O.W_)(b.sN),align:"center"},{title:s.formatMessage({id:"rule.table.columns.text.creator"}),dataIndex:"creatorName",valueType:"text",align:"center"},{title:s.formatMessage({id:"rule.table.columns.text.lockor"}),dataIndex:"lockHolderName",valueType:"text",align:"center",hideInSearch:!0},{title:s.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",render:function(a,e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.ZP,{size:"small",type:"link",onClick:function(){return se(e)},children:s.formatMessage({id:"rule.table.columns.text.grab.lock"})}),(0,n.jsx)(M.Z,{type:"vertical",style:{margin:"0 8px 0 0"}}),(0,n.jsx)(R.Z,{disabled:!(e!=null&&e.isLockHolder),checkedChildren:s.formatMessage({id:"common.button.text.enable"}),unCheckedChildren:s.formatMessage({id:"common.button.text.disable"}),checked:(e==null?void 0:e.enable)===1,onClick:function(){return ne(e)}}),(0,n.jsx)(M.Z,{type:"vertical",style:{margin:"0 0 0 8px"}}),(0,n.jsx)(v.ZP,{size:"small",type:"link",disabled:!(e!=null&&e.isLockHolder),onClick:function(){return N(e)},children:s.formatMessage({id:"common.button.text.edit"})}),(0,n.jsx)(M.Z,{type:"vertical"}),(0,n.jsx)(k.Z,{title:s.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return le(e)},okText:s.formatMessage({id:"common.button.text.ok"}),cancelText:s.formatMessage({id:"common.button.text.cancel"}),children:(0,n.jsx)(v.ZP,{type:"link",danger:!0,size:"small",disabled:!(e!=null&&e.isLockHolder),children:s.formatMessage({id:"common.button.text.delete"})})})]})}}];return(0,n.jsxs)(I._z,{ghost:!0,title:!1,breadcrumbRender:!1,children:[q,(0,n.jsx)(x.Z,{headerTitle:(0,n.jsx)("div",{className:y.Z.customTitle,children:s.formatMessage({id:"rule.module.text.whiteList.inquiry"})}),scroll:{x:"max-content"},actionRef:g,search:{span:6,defaultCollapsed:!1,collapseRender:!1,labelWidth:0},rowKey:"id",request:function(){var u=_()(r()().mark(function a(e){var o,d,i,c,m,l,F;return r()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=e.pageSize,d=e.current,i=j()(e,J),c=p()(p()({},i),{},{page:d,size:o}),f.next=4,(0,E.queryWhiteRuleList)(c);case 4:return m=f.sent,l=m.content,F=m.code,f.abrupt("return",{data:(l==null?void 0:l.data)||[],total:(l==null?void 0:l.total)||0,success:F===200||!1});case 8:case"end":return f.stop()}},a)}));return function(a){return u.apply(this,arguments)}}(),toolBarRender:function(){return[(0,n.jsx)(v.ZP,{type:"primary",onClick:function(){return N({})},children:s.formatMessage({id:"rule.module.text.createWhiteList"})},"create")]},columns:ae,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1}}),(0,n.jsx)(A.Z,{editDrawerVisible:te,setEditDrawerVisible:Y,whiteListDrawerInfo:G.current,tableActionRef:g})]})};h.default=Q},53846:function(S,h){h.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}}}]);
