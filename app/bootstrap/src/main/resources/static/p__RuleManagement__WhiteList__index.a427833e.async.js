"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4559],{24163:function(S,E,t){var L=t(97857),j=t.n(L),W=t(25593),v=t(83062),V=t(62435),r=t(86074),y=W.Z.Paragraph;E.Z=function(_){var P=_.text,R=_.width,A=_.maxWidth,b=_.rows,I=b===void 0?2:b,O=_.placement,h=O===void 0?"top":O,x=_.color,U=x===void 0?"rgba(0, 0, 0, 0.88)":x,T=_.link,B=T===void 0?!1:T,k=_.onClickCallBackFunc,g=_.style,M=g===void 0?{}:g,f=_.copyable,K=f===void 0?!1:f;return(0,r.jsx)("div",{style:{maxWidth:A,width:R},children:(0,r.jsx)(v.Z,{title:(0,r.jsx)("div",{children:P}),placement:h,children:(0,r.jsx)(y,{ellipsis:{rows:I},style:j()({marginBottom:0,color:U,cursor:B?"pointer":""},M),onClick:k,copyable:K,children:P})})})}},80113:function(S,E,t){t.r(E);var L=t(13769),j=t.n(L),W=t(97857),v=t.n(W),V=t(15009),r=t.n(V),y=t(99289),_=t.n(y),P=t(5574),R=t.n(P),A=t(53846),b=t(24163),I=t(77603),O=t(68431),h=t(96655),x=t(29448),U=t(39380),T=t(70989),B=t(92016),k=t(68872),g=t(83622),M=t(96074),f=t(83062),K=t(72269),N=t(86738),F=t(27484),$=t.n(F),Z=t(62435),l=t(86074),J=["pageSize","current"],Q=function(){var p=(0,Z.useRef)(),n=(0,B.useIntl)(),X=k.ZP.useMessage(),w=R()(X,2),C=w[0],q=w[1],ee=(0,Z.useState)(!1),H=R()(ee,2),te=H[0],z=H[1],Y=(0,Z.useRef)({}),_e=function(){var u=_()(r()().mark(function a(e){var o,d,i;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o={id:e.id},m.next=3,(0,h.queryWhiteRuleGrabLock)(o);case 3:d=m.sent,d.code===200&&(C.success(n.formatMessage({id:"common.message.text.edit.success"})),(i=p.current)===null||i===void 0||i.reloadAndRest());case 5:case"end":return m.stop()}},a)}));return function(e){return u.apply(this,arguments)}}(),se=function(a){z(!0);var e=a.isLockHolder===!0;Y.current=v()(v()({},a),{},{isEditMode:e})},ne=function(){var u=_()(r()().mark(function a(e){var o,d,i,c;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.isLockHolder){s.next=3;break}return C.warning(n.formatMessage({id:"rule.message.not.holding.lock"})),s.abrupt("return");case 3:return o={id:e==null?void 0:e.id,enable:(e==null?void 0:e.enable)===1?0:1},s.next=6,(0,h.queryChangeWhiteListRuleStatus)(o);case 6:d=s.sent,d.code===200&&(C.success(n.formatMessage({id:"common.message.text.edit.success"})),(i=p.current)===null||i===void 0||(c=i.reloadAndRest)===null||c===void 0||c.call(i));case 8:case"end":return s.stop()}},a)}));return function(e){return u.apply(this,arguments)}}(),le=function(){var u=_()(r()().mark(function a(e){var o,d,i,c;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.isLockHolder){s.next=3;break}return C.warning(n.formatMessage({id:"rule.message.not.holding.lock"})),s.abrupt("return");case 3:return o={id:e==null?void 0:e.id},s.next=6,(0,h.queryDeleteWhiteListRuleById)(o);case 6:d=s.sent,d.code===200&&(C.success(n.formatMessage({id:"common.message.text.delete.success"})),(i=p.current)===null||i===void 0||(c=i.reloadAndRest)===null||c===void 0||c.call(i));case 8:case"end":return s.stop()}},a)}));return function(e){return u.apply(this,arguments)}}(),ae=[{title:n.formatMessage({id:"cloudAccount.extend.title.createAndUpdateTime"}),dataIndex:"gmtCreated",valueType:"text",align:"left",hideInSearch:!0,render:function(a,e){return(0,l.jsxs)("div",{children:[(0,l.jsx)("section",{style:{color:"#999"},children:$()(e==null?void 0:e.gmtCreate).format("YYYY-MM-DD 18:00:00")||"-"}),(0,l.jsx)("section",{style:{color:"#999"},children:$()(e==null?void 0:e.gmtModified).format("YYYY-MM-DD 18:00:00")||"-"})]})}},{title:n.formatMessage({id:"rule.extend.text.whiteList.title"}),dataIndex:"ruleName",valueType:"text",align:"left",copyable:!0},{title:n.formatMessage({id:"rule.extend.text.whiteList.describe"}),dataIndex:"ruleDesc",valueType:"text",align:"left",hideInSearch:!0,render:function(a,e){return(0,l.jsx)(b.Z,{text:(e==null?void 0:e.ruleDesc)||"-",maxWidth:240,rows:1,style:{color:"rgb(51, 51, 51)"},placement:"topLeft"})}},{title:n.formatMessage({id:"rule.table.columns.text.type"}),dataIndex:"ruleType",valueType:"select",valueEnum:(0,x.W_)(O.sN),align:"center"},{title:n.formatMessage({id:"rule.table.columns.text.creator"}),dataIndex:"creatorName",valueType:"text",align:"center",copyable:!0},{title:n.formatMessage({id:"rule.table.columns.text.config"}),dataIndex:"search",valueType:"text",align:"center",hideInTable:!0},{title:n.formatMessage({id:"rule.table.columns.text.lockor"}),dataIndex:"lockHolderName",valueType:"text",align:"center",hideInSearch:!0},{title:n.formatMessage({id:"cloudAccount.extend.title.cloud.operate"}),dataIndex:"option",valueType:"option",align:"center",render:function(a,e){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.ZP,{size:"small",type:"link",onClick:function(){return se(e)},children:n.formatMessage({id:"common.button.text.view"})}),(0,l.jsx)(M.Z,{type:"vertical",style:{margin:"0 8px 0 0"}}),(0,l.jsx)(f.Z,{title:e.isLockHolder?"":"please grab the lock first",placement:"top",children:(0,l.jsx)(K.Z,{disabled:!(e!=null&&e.isLockHolder),checkedChildren:n.formatMessage({id:"common.button.text.enable"}),unCheckedChildren:n.formatMessage({id:"common.button.text.disable"}),checked:(e==null?void 0:e.enable)===1,onClick:function(){return ne(e)}})}),(0,l.jsx)(M.Z,{type:"vertical",style:{margin:"0 0 0 8px"}}),(0,l.jsx)(M.Z,{type:"vertical"}),(0,l.jsx)(f.Z,{title:e.isLockHolder?"":"please grab the lock first",placement:"top",children:(0,l.jsx)(N.Z,{title:n.formatMessage({id:"common.button.text.delete.confirm"}),onConfirm:function(){return le(e)},okText:n.formatMessage({id:"common.button.text.ok"}),cancelText:n.formatMessage({id:"common.button.text.cancel"}),children:(0,l.jsx)(g.ZP,{type:"link",danger:!0,size:"small",disabled:!(e!=null&&e.isLockHolder),children:n.formatMessage({id:"common.button.text.delete"})})})})]})}}];return(0,l.jsxs)(U._z,{ghost:!0,title:!1,breadcrumbRender:!1,children:[q,(0,l.jsx)(T.Z,{headerTitle:(0,l.jsx)("div",{className:A.Z.customTitle,children:n.formatMessage({id:"rule.module.text.whiteList.inquiry"})}),scroll:{x:"max-content"},actionRef:p,search:{span:6,defaultCollapsed:!1,collapseRender:!1,labelWidth:0},rowKey:"id",request:function(){var u=_()(r()().mark(function a(e){var o,d,i,c,m,s,G;return r()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return o=e.pageSize,d=e.current,i=j()(e,J),c=v()(v()({},i),{},{page:d,size:o}),D.next=4,(0,h.queryWhiteRuleList)(c);case 4:return m=D.sent,s=m.content,G=m.code,D.abrupt("return",{data:(s==null?void 0:s.data)||[],total:(s==null?void 0:s.total)||0,success:G===200||!1});case 8:case"end":return D.stop()}},a)}));return function(a){return u.apply(this,arguments)}}(),toolBarRender:function(){return[]},columns:ae,pagination:{showQuickJumper:!1,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1}}),(0,l.jsx)(I.Z,{editDrawerVisible:te,setEditDrawerVisible:z,whiteListDrawerInfo:Y.current,tableActionRef:p})]})};E.default=Q},53846:function(S,E){E.Z={customTitle:"customTitle___nzcxh",riskHigh:"riskHigh___GstO6",riskMedium:"riskMedium___F4JTb",riskLow:"riskLow___HJopw",imgProcess:"imgProcess___NGndv",imgResult:"imgResult___wKhiG",validTag:"validTag___TRSau",invalidTag:"invalidTag___opVlG",waitingTag:"waitingTag___JZpZT"}}}]);
